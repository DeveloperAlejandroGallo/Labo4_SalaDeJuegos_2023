(self.webpackChunkLabo4_SalaDeJuegos_2023=self.webpackChunkLabo4_SalaDeJuegos_2023||[]).push([[179],{83:(_c,Wd,Ee)=>{"use strict";function ke(n){return"function"==typeof n}function yc(n){const t=n(i=>{Error.call(i),i.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const vc=yc(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((i,r)=>`${r+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function P(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class Oe{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const o of t)o.remove(this);else t.remove(this);const{initialTeardown:i}=this;if(ke(i))try{i()}catch(o){e=o instanceof vc?o.errors:[o]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const o of r)try{on(o)}catch(s){e=e??[],s instanceof vc?e=[...e,...s.errors]:e.push(s)}}if(e)throw new vc(e)}}add(e){var t;if(e&&e!==this)if(this.closed)on(e);else{if(e instanceof Oe){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&P(t,e)}remove(e){const{_finalizers:t}=this;t&&P(t,e),e instanceof Oe&&e._removeParent(this)}}Oe.EMPTY=(()=>{const n=new Oe;return n.closed=!0,n})();const Hr=Oe.EMPTY;function gn(n){return n instanceof Oe||n&&"closed"in n&&ke(n.remove)&&ke(n.add)&&ke(n.unsubscribe)}function on(n){ke(n)?n():n.unsubscribe()}const sn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},yr={setTimeout(n,e,...t){const{delegate:i}=yr;return i?.setTimeout?i.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=yr;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function No(n){yr.setTimeout(()=>{const{onUnhandledError:e}=sn;if(!e)throw n;e(n)})}function Ua(){}const o0=s0("C",void 0,void 0);function s0(n,e,t){return{kind:n,value:e,error:t}}let ja=null;function $m(n){if(sn.useDeprecatedSynchronousErrorHandling){const e=!ja;if(e&&(ja={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:i}=ja;if(ja=null,t)throw i}}else n()}class a0 extends Oe{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,gn(e)&&e.add(this)):this.destination=pY}static create(e,t,i){return new qd(e,t,i)}next(e){this.isStopped?c0(function cY(n){return s0("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?c0(function ks(n){return s0("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?c0(o0,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const dY=Function.prototype.bind;function l0(n,e){return dY.call(n,e)}class hY{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(i){Gm(i)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(i){Gm(i)}else Gm(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Gm(t)}}}class qd extends a0{constructor(e,t,i){let r;if(super(),ke(e)||!e)r={next:e??void 0,error:t??void 0,complete:i??void 0};else{let o;this&&sn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&l0(e.next,o),error:e.error&&l0(e.error,o),complete:e.complete&&l0(e.complete,o)}):r=e}this.destination=new hY(r)}}function Gm(n){sn.useDeprecatedSynchronousErrorHandling?function uY(n){sn.useDeprecatedSynchronousErrorHandling&&ja&&(ja.errorThrown=!0,ja.error=n)}(n):No(n)}function c0(n,e){const{onStoppedNotification:t}=sn;t&&yr.setTimeout(()=>t(n,e))}const pY={closed:!0,next:Ua,error:function fY(n){throw n},complete:Ua},u0="function"==typeof Symbol&&Symbol.observable||"@@observable";function Os(n){return n}function ZP(n){return 0===n.length?Os:1===n.length?n[0]:function(t){return n.reduce((i,r)=>r(i),t)}}let We=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const i=new n;return i.source=this,i.operator=t,i}subscribe(t,i,r){const o=function _Y(n){return n&&n instanceof a0||function gY(n){return n&&ke(n.next)&&ke(n.error)&&ke(n.complete)}(n)&&gn(n)}(t)?t:new qd(t,i,r);return $m(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(i){t.error(i)}}forEach(t,i){return new(i=JP(i))((r,o)=>{const s=new qd({next:a=>{try{t(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(t){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(t)}[u0](){return this}pipe(...t){return ZP(t)(this)}toPromise(t){return new(t=JP(t))((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return n.create=e=>new n(e),n})();function JP(n){var e;return null!==(e=n??sn.Promise)&&void 0!==e?e:Promise}const yY=yc(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Ae=(()=>{class n extends We{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const i=new eN(this,this);return i.operator=t,i}_throwIfClosed(){if(this.closed)throw new yY}next(t){$m(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(t)}})}error(t){$m(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:i}=this;for(;i.length;)i.shift().error(t)}})}complete(){$m(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:i,isStopped:r,observers:o}=this;return i||r?Hr:(this.currentObservers=null,o.push(t),new Oe(()=>{this.currentObservers=null,P(o,t)}))}_checkFinalizedStatuses(t){const{hasError:i,thrownError:r,isStopped:o}=this;i?t.error(r):o&&t.complete()}asObservable(){const t=new We;return t.source=this,t}}return n.create=(e,t)=>new eN(e,t),n})();class eN extends Ae{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===i||i.call(t,e)}error(e){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===i||i.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,i;return null!==(i=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==i?i:Hr}}function tN(n){return ke(n?.lift)}function Rt(n){return e=>{if(tN(e))return e.lift(function(t){try{return n(t,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function bt(n,e,t,i,r){return new vY(n,e,t,i,r)}class vY extends a0{constructor(e,t,i,r,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(l){e.error(l)}}:super._next,this._error=r?function(a){try{r(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function ie(n,e){return Rt((t,i)=>{let r=0;t.subscribe(bt(i,o=>{i.next(n.call(e,o,r++))}))})}function iN(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]])}return t}function Ha(n){return this instanceof Ha?(this.v=n,this):new Ha(n)}function xY(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function oN(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],i=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(o){t[o]=n[o]&&function(s){return new Promise(function(a,l){!function r(o,s,a,l){Promise.resolve(l).then(function(c){o({value:c,done:a})},s)}(a,l,(s=n[o](s)).done,s.value)})}}}const h0=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function sN(n){return ke(n?.then)}function aN(n){return ke(n[u0])}function lN(n){return Symbol.asyncIterator&&ke(n?.[Symbol.asyncIterator])}function cN(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const uN=function DY(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function dN(n){return ke(n?.[uN])}function hN(n){return function CY(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=t.apply(n,e||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(h){i[h]&&(r[h]=function(f){return new Promise(function(p,m){o.push([h,f,p,m])>1||a(h,f)})})}function a(h,f){try{!function l(h){h.value instanceof Ha?Promise.resolve(h.value.v).then(c,u):d(o[0][2],h)}(i[h](f))}catch(p){d(o[0][3],p)}}function c(h){a("next",h)}function u(h){a("throw",h)}function d(h,f){h(f),o.shift(),o.length&&a(o[0][0],o[0][1])}}(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:i,done:r}=yield Ha(t.read());if(r)return yield Ha(void 0);yield yield Ha(i)}}finally{t.releaseLock()}})}function fN(n){return ke(n?.getReader)}function ci(n){if(n instanceof We)return n;if(null!=n){if(aN(n))return function IY(n){return new We(e=>{const t=n[u0]();if(ke(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(h0(n))return function SY(n){return new We(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(sN(n))return function TY(n){return new We(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,No)})}(n);if(lN(n))return pN(n);if(dN(n))return function AY(n){return new We(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(fN(n))return function MY(n){return pN(hN(n))}(n)}throw cN(n)}function pN(n){return new We(e=>{(function RY(n,e){var t,i,r,o;return function bY(n,e,t,i){return new(t||(t=Promise))(function(o,s){function a(u){try{c(i.next(u))}catch(d){s(d)}}function l(u){try{c(i.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):function r(o){return o instanceof t?o:new t(function(s){s(o)})}(u.value).then(a,l)}c((i=i.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=xY(n);!(i=yield t.next()).done;)if(e.next(i.value),e.closed)return}catch(s){r={error:s}}finally{try{i&&!i.done&&(o=t.return)&&(yield o.call(t))}finally{if(r)throw r.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function Fo(n,e,t,i=0,r=!1){const o=e.schedule(function(){t(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(o),!r)return o}function _n(n,e,t=1/0){return ke(e)?_n((i,r)=>ie((o,s)=>e(i,o,r,s))(ci(n(i,r))),t):("number"==typeof e&&(t=e),Rt((i,r)=>function kY(n,e,t,i,r,o,s,a){const l=[];let c=0,u=0,d=!1;const h=()=>{d&&!l.length&&!c&&e.complete()},f=m=>c<i?p(m):l.push(m),p=m=>{o&&e.next(m),c++;let g=!1;ci(t(m,u++)).subscribe(bt(e,y=>{r?.(y),o?f(y):e.next(y)},()=>{g=!0},void 0,()=>{if(g)try{for(c--;l.length&&c<i;){const y=l.shift();s?Fo(e,s,()=>p(y)):p(y)}h()}catch(y){e.error(y)}}))};return n.subscribe(bt(e,f,()=>{d=!0,h()})),()=>{a?.()}}(i,r,n,t)))}function bc(n=1/0){return _n(Os,n)}const zr=new We(n=>n.complete());function mN(n){return n&&ke(n.schedule)}function f0(n){return n[n.length-1]}function gN(n){return ke(f0(n))?n.pop():void 0}function Kd(n){return mN(f0(n))?n.pop():void 0}function Wm(n,e=0){return Rt((t,i)=>{t.subscribe(bt(i,r=>Fo(i,n,()=>i.next(r),e),()=>Fo(i,n,()=>i.complete(),e),r=>Fo(i,n,()=>i.error(r),e)))})}function qm(n,e=0){return Rt((t,i)=>{i.add(n.schedule(()=>t.subscribe(i),e))})}function _N(n,e){if(!n)throw new Error("Iterable cannot be null");return new We(t=>{Fo(t,e,()=>{const i=n[Symbol.asyncIterator]();Fo(t,e,()=>{i.next().then(r=>{r.done?t.complete():t.next(r.value)})},0,!0)})})}function Ut(n,e){return e?function UY(n,e){if(null!=n){if(aN(n))return function NY(n,e){return ci(n).pipe(qm(e),Wm(e))}(n,e);if(h0(n))return function LY(n,e){return new We(t=>{let i=0;return e.schedule(function(){i===n.length?t.complete():(t.next(n[i++]),t.closed||this.schedule())})})}(n,e);if(sN(n))return function FY(n,e){return ci(n).pipe(qm(e),Wm(e))}(n,e);if(lN(n))return _N(n,e);if(dN(n))return function VY(n,e){return new We(t=>{let i;return Fo(t,e,()=>{i=n[uN](),Fo(t,e,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(s){return void t.error(s)}o?t.complete():t.next(r)},0,!0)}),()=>ke(i?.return)&&i.return()})}(n,e);if(fN(n))return function BY(n,e){return _N(hN(n),e)}(n,e)}throw cN(n)}(n,e):ci(n)}function p0(...n){const e=Kd(n),t=function PY(n,e){return"number"==typeof f0(n)?n.pop():e}(n,1/0),i=n;return i.length?1===i.length?ci(i[0]):bc(t)(Ut(i,e)):zr}function m0(n,e,...t){if(!0===e)return void n();if(!1===e)return;const i=new qd({next:()=>{i.unsubscribe(),n()}});return ci(e(...t)).subscribe(i)}function rt(n){for(let e in n)if(n[e]===rt)return e;throw Error("Could not find renamed property on target object.")}function g0(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function at(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(at).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function _0(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const jY=rt({__forward_ref__:rt});function tt(n){return n.__forward_ref__=tt,n.toString=function(){return at(this())},n}function te(n){return y0(n)?n():n}function y0(n){return"function"==typeof n&&n.hasOwnProperty(jY)&&n.__forward_ref__===tt}function v0(n){return n&&!!n.\u0275providers}const Km="https://g.co/ng/security#xss";class D extends Error{constructor(e,t){super(Ym(e,t)),this.code=e}}function Ym(n,e){return`NG0${Math.abs(n)}${e?": "+e.trim():""}`}function he(n){return"string"==typeof n?n:null==n?"":String(n)}function Qm(n,e){throw new D(-201,!1)}function nr(n,e){null==n&&function Qe(n,e,t,i){throw new Error(`ASSERTION ERROR: ${n}`+(null==i?"":` [Expected=> ${t} ${i} ${e} <=Actual]`))}(e,n,null,"!=")}function k(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function se(n){return{providers:n.providers||[],imports:n.imports||[]}}function Xm(n){return vN(n,Zm)||vN(n,wN)}function vN(n,e){return n.hasOwnProperty(e)?n[e]:null}function bN(n){return n&&(n.hasOwnProperty(b0)||n.hasOwnProperty(YY))?n[b0]:null}const Zm=rt({\u0275prov:rt}),b0=rt({\u0275inj:rt}),wN=rt({ngInjectableDef:rt}),YY=rt({ngInjectorDef:rt});var ne=(()=>((ne=ne||{})[ne.Default=0]="Default",ne[ne.Host=1]="Host",ne[ne.Self=2]="Self",ne[ne.SkipSelf=4]="SkipSelf",ne[ne.Optional=8]="Optional",ne))();let w0;function ir(n){const e=w0;return w0=n,e}function CN(n,e,t){const i=Xm(n);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:t&ne.Optional?null:void 0!==e?e:void Qm(at(n))}const mt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Yd={},C0="__NG_DI_FLAG__",Jm="ngTempTokenPath",XY="ngTokenPath",ZY=/\n/gm,JY="\u0275",xN="__source";let Qd;function wc(n){const e=Qd;return Qd=n,e}function eQ(n,e=ne.Default){if(void 0===Qd)throw new D(-203,!1);return null===Qd?CN(n,void 0,e):Qd.get(n,e&ne.Optional?null:void 0,e)}function w(n,e=ne.Default){return(function QY(){return w0}()||eQ)(te(n),e)}function le(n,e=ne.Default){return w(n,eg(e))}function eg(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function x0(n){const e=[];for(let t=0;t<n.length;t++){const i=te(n[t]);if(Array.isArray(i)){if(0===i.length)throw new D(900,!1);let r,o=ne.Default;for(let s=0;s<i.length;s++){const a=i[s],l=tQ(a);"number"==typeof l?-1===l?r=a.token:o|=l:r=a}e.push(w(r,o))}else e.push(w(i))}return e}function Xd(n,e){return n[C0]=e,n.prototype[C0]=e,n}function tQ(n){return n[C0]}function Lo(n){return{toString:n}.toString()}var $r=(()=>(($r=$r||{})[$r.OnPush=0]="OnPush",$r[$r.Default=1]="Default",$r))(),vr=(()=>{return(n=vr||(vr={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",vr;var n})();const Vo={},qe=[],tg=rt({\u0275cmp:rt}),E0=rt({\u0275dir:rt}),D0=rt({\u0275pipe:rt}),DN=rt({\u0275mod:rt}),Bo=rt({\u0275fac:rt}),Zd=rt({__NG_ELEMENT_ID__:rt});let rQ=0;function lt(n){return Lo(()=>{const e=SN(n),t={...e,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===$r.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,data:n.data||{},encapsulation:n.encapsulation||vr.Emulated,id:"c"+rQ++,styles:n.styles||qe,_:null,schemas:n.schemas||null,tView:null};TN(t);const i=n.dependencies;return t.directiveDefs=ng(i,!1),t.pipeDefs=ng(i,!0),t})}function sQ(n){return Xe(n)||Kn(n)}function aQ(n){return null!==n}function ce(n){return Lo(()=>({type:n.type,bootstrap:n.bootstrap||qe,declarations:n.declarations||qe,imports:n.imports||qe,exports:n.exports||qe,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function IN(n,e){if(null==n)return Vo;const t={};for(const i in n)if(n.hasOwnProperty(i)){let r=n[i],o=r;Array.isArray(r)&&(o=r[1],r=r[0]),t[r]=i,e&&(e[r]=o)}return t}function O(n){return Lo(()=>{const e=SN(n);return TN(e),e})}function Xe(n){return n[tg]||null}function Kn(n){return n[E0]||null}function xi(n){return n[D0]||null}function Fi(n,e){const t=n[DN]||null;if(!t&&!0===e)throw new Error(`Type ${at(n)} does not have '\u0275mod' property.`);return t}function SN(n){const e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,exportAs:n.exportAs||null,standalone:!0===n.standalone,selectors:n.selectors||qe,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:IN(n.inputs,e),outputs:IN(n.outputs)}}function TN(n){n.features?.forEach(e=>e(n))}function ng(n,e){if(!n)return null;const t=e?xi:sQ;return()=>("function"==typeof n?n():n).map(i=>t(i)).filter(aQ)}const Uo=0,H=1,be=2,kt=3,br=4,za=5,Yn=6,xc=7,jt=8,ig=9,rg=10,xe=11,I0=12,Jd=13,AN=14,Ec=15,Qn=16,eh=17,Dc=18,Gr=19,th=20,MN=21,gt=22,S0=1,RN=2,og=7,sg=8,Ic=9,ui=10;function Li(n){return Array.isArray(n)&&"object"==typeof n[S0]}function wr(n){return Array.isArray(n)&&!0===n[S0]}function T0(n){return 0!=(4&n.flags)}function nh(n){return n.componentOffset>-1}function ag(n){return 1==(1&n.flags)}function Cr(n){return!!n.template}function cQ(n){return 0!=(256&n[be])}function $a(n,e){return n.hasOwnProperty(Bo)?n[Bo]:null}class hQ{constructor(e,t,i){this.previousValue=e,this.currentValue=t,this.firstChange=i}isFirstChange(){return this.firstChange}}function Xn(){return PN}function PN(n){return n.type.prototype.ngOnChanges&&(n.setInput=pQ),fQ}function fQ(){const n=FN(this),e=n?.current;if(e){const t=n.previous;if(t===Vo)n.previous=e;else for(let i in e)t[i]=e[i];n.current=null,this.ngOnChanges(e)}}function pQ(n,e,t,i){const r=this.declaredInputs[t],o=FN(n)||function mQ(n,e){return n[NN]=e}(n,{previous:Vo,current:null}),s=o.current||(o.current={}),a=o.previous,l=a[r];s[r]=new hQ(l&&l.currentValue,e,a===Vo),n[i]=e}Xn.ngInherit=!0;const NN="__ngSimpleChanges__";function FN(n){return n[NN]||null}const rr=function(n,e,t){};function kn(n){for(;Array.isArray(n);)n=n[Uo];return n}function lg(n,e){return kn(e[n])}function Vi(n,e){return kn(e[n.index])}function BN(n,e){return n.data[e]}function Ei(n,e){const t=e[n];return Li(t)?t:t[Uo]}function cg(n){return 64==(64&n[be])}function Ns(n,e){return null==e?null:n[e]}function UN(n){n[Dc]=0}function M0(n,e){n[za]+=e;let t=n,i=n[kt];for(;null!==i&&(1===e&&1===t[za]||-1===e&&0===t[za]);)i[za]+=e,t=i,i=i[kt]}const fe={lFrame:ZN(null),bindingsEnabled:!0};function HN(){return fe.bindingsEnabled}function T(){return fe.lFrame.lView}function Le(){return fe.lFrame.tView}function On(){let n=GN();for(;null!==n&&64===n.type;)n=n.parent;return n}function GN(){return fe.lFrame.currentTNode}function Wr(n,e){const t=fe.lFrame;t.currentTNode=n,t.isParent=e}function R0(){return fe.lFrame.isParent}function k0(){fe.lFrame.isParent=!1}function Tc(){return fe.lFrame.bindingIndex++}function TQ(n,e){const t=fe.lFrame;t.bindingIndex=t.bindingRootIndex=n,O0(e)}function O0(n){fe.lFrame.currentDirectiveIndex=n}function YN(){return fe.lFrame.currentQueryIndex}function N0(n){fe.lFrame.currentQueryIndex=n}function MQ(n){const e=n[H];return 2===e.type?e.declTNode:1===e.type?n[Yn]:null}function QN(n,e,t){if(t&ne.SkipSelf){let r=e,o=n;for(;!(r=r.parent,null!==r||t&ne.Host||(r=MQ(o),null===r||(o=o[Ec],10&r.type))););if(null===r)return!1;e=r,n=o}const i=fe.lFrame=XN();return i.currentTNode=e,i.lView=n,!0}function F0(n){const e=XN(),t=n[H];fe.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function XN(){const n=fe.lFrame,e=null===n?null:n.child;return null===e?ZN(n):e}function ZN(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function JN(){const n=fe.lFrame;return fe.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const eF=JN;function L0(){const n=JN();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function hi(){return fe.lFrame.selectedIndex}function Ga(n){fe.lFrame.selectedIndex=n}function Et(){const n=fe.lFrame;return BN(n.tView,n.selectedIndex)}function ug(n,e){for(let t=e.directiveStart,i=e.directiveEnd;t<i;t++){const o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=o;s&&(n.contentHooks??(n.contentHooks=[])).push(-t,s),a&&((n.contentHooks??(n.contentHooks=[])).push(t,a),(n.contentCheckHooks??(n.contentCheckHooks=[])).push(t,a)),l&&(n.viewHooks??(n.viewHooks=[])).push(-t,l),c&&((n.viewHooks??(n.viewHooks=[])).push(t,c),(n.viewCheckHooks??(n.viewCheckHooks=[])).push(t,c)),null!=u&&(n.destroyHooks??(n.destroyHooks=[])).push(t,u)}}function dg(n,e,t){tF(n,e,3,t)}function hg(n,e,t,i){(3&n[be])===t&&tF(n,e,t,i)}function V0(n,e){let t=n[be];(3&t)===e&&(t&=2047,t+=1,n[be]=t)}function tF(n,e,t,i){const o=i??-1,s=e.length-1;let a=0;for(let l=void 0!==i?65535&n[Dc]:0;l<s;l++)if("number"==typeof e[l+1]){if(a=e[l],null!=i&&a>=i)break}else e[l]<0&&(n[Dc]+=65536),(a<o||-1==o)&&(BQ(n,t,e,l),n[Dc]=(4294901760&n[Dc])+l+2),l++}function BQ(n,e,t,i){const r=t[i]<0,o=t[i+1],a=n[r?-t[i]:t[i]];if(r){if(n[be]>>11<n[Dc]>>16&&(3&n[be])===e){n[be]+=2048,rr(4,a,o);try{o.call(a)}finally{rr(5,a,o)}}}else{rr(4,a,o);try{o.call(a)}finally{rr(5,a,o)}}}const Ac=-1;class rh{constructor(e,t,i){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=i}}function U0(n,e,t){let i=0;for(;i<t.length;){const r=t[i];if("number"==typeof r){if(0!==r)break;i++;const o=t[i++],s=t[i++],a=t[i++];n.setAttribute(e,s,a,o)}else{const o=r,s=t[++i];iF(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),i++}}return i}function nF(n){return 3===n||4===n||6===n}function iF(n){return 64===n.charCodeAt(0)}function oh(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let i=0;i<e.length;i++){const r=e[i];"number"==typeof r?t=r:0===t||rF(n,t,r,null,-1===t||2===t?e[++i]:null)}}return n}function rF(n,e,t,i,r){let o=0,s=n.length;if(-1===e)s=-1;else for(;o<n.length;){const a=n[o++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=o-1;break}}}for(;o<n.length;){const a=n[o];if("number"==typeof a)break;if(a===t){if(null===i)return void(null!==r&&(n[o+1]=r));if(i===n[o+1])return void(n[o+2]=r)}o++,null!==i&&o++,null!==r&&o++}-1!==s&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),null!==i&&n.splice(o++,0,i),null!==r&&n.splice(o++,0,r)}function oF(n){return n!==Ac}function fg(n){return 32767&n}function pg(n,e){let t=function zQ(n){return n>>16}(n),i=e;for(;t>0;)i=i[Ec],t--;return i}let j0=!0;function mg(n){const e=j0;return j0=n,e}const sF=255,aF=5;let $Q=0;const qr={};function gg(n,e){const t=lF(n,e);if(-1!==t)return t;const i=e[H];i.firstCreatePass&&(n.injectorIndex=e.length,H0(i.data,n),H0(e,null),H0(i.blueprint,null));const r=z0(n,e),o=n.injectorIndex;if(oF(r)){const s=fg(r),a=pg(r,e),l=a[H].data;for(let c=0;c<8;c++)e[o+c]=a[s+c]|l[s+c]}return e[o+8]=r,o}function H0(n,e){n.push(0,0,0,0,0,0,0,0,e)}function lF(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function z0(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,i=null,r=e;for(;null!==r;){if(i=mF(r),null===i)return Ac;if(t++,r=r[Ec],-1!==i.injectorIndex)return i.injectorIndex|t<<16}return Ac}function $0(n,e,t){!function GQ(n,e,t){let i;"string"==typeof t?i=t.charCodeAt(0)||0:t.hasOwnProperty(Zd)&&(i=t[Zd]),null==i&&(i=t[Zd]=$Q++);const r=i&sF;e.data[n+(r>>aF)]|=1<<r}(n,e,t)}function cF(n,e,t){if(t&ne.Optional||void 0!==n)return n;Qm()}function uF(n,e,t,i){if(t&ne.Optional&&void 0===i&&(i=null),!(t&(ne.Self|ne.Host))){const r=n[ig],o=ir(void 0);try{return r?r.get(e,i,t&ne.Optional):CN(e,i,t&ne.Optional)}finally{ir(o)}}return cF(i,0,t)}function dF(n,e,t,i=ne.Default,r){if(null!==n){if(1024&e[be]){const s=function QQ(n,e,t,i,r){let o=n,s=e;for(;null!==o&&null!==s&&1024&s[be]&&!(256&s[be]);){const a=hF(o,s,t,i|ne.Self,qr);if(a!==qr)return a;let l=o.parent;if(!l){const c=s[MN];if(c){const u=c.get(t,qr,i);if(u!==qr)return u}l=mF(s),s=s[Ec]}o=l}return r}(n,e,t,i,qr);if(s!==qr)return s}const o=hF(n,e,t,i,qr);if(o!==qr)return o}return uF(e,t,i,r)}function hF(n,e,t,i,r){const o=function KQ(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(Zd)?n[Zd]:void 0;return"number"==typeof e?e>=0?e&sF:YQ:e}(t);if("function"==typeof o){if(!QN(e,n,i))return i&ne.Host?cF(r,0,i):uF(e,t,i,r);try{const s=o(i);if(null!=s||i&ne.Optional)return s;Qm()}finally{eF()}}else if("number"==typeof o){let s=null,a=lF(n,e),l=Ac,c=i&ne.Host?e[Qn][Yn]:null;for((-1===a||i&ne.SkipSelf)&&(l=-1===a?z0(n,e):e[a+8],l!==Ac&&pF(i,!1)?(s=e[H],a=fg(l),e=pg(l,e)):a=-1);-1!==a;){const u=e[H];if(fF(o,a,u.data)){const d=qQ(a,e,t,s,i,c);if(d!==qr)return d}l=e[a+8],l!==Ac&&pF(i,e[H].data[a+8]===c)&&fF(o,a,e)?(s=u,a=fg(l),e=pg(l,e)):a=-1}}return r}function qQ(n,e,t,i,r,o){const s=e[H],a=s.data[n+8],u=_g(a,s,t,null==i?nh(a)&&j0:i!=s&&0!=(3&a.type),r&ne.Host&&o===a);return null!==u?Wa(e,s,u,a):qr}function _g(n,e,t,i,r){const o=n.providerIndexes,s=e.data,a=1048575&o,l=n.directiveStart,u=o>>20,h=r?a+u:n.directiveEnd;for(let f=i?a:a+u;f<h;f++){const p=s[f];if(f<l&&t===p||f>=l&&p.type===t)return f}if(r){const f=s[l];if(f&&Cr(f)&&f.type===t)return l}return null}function Wa(n,e,t,i){let r=n[t];const o=e.data;if(function UQ(n){return n instanceof rh}(r)){const s=r;s.resolving&&function HY(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new D(-200,`Circular dependency in DI detected for ${n}${t}`)}(function Ye(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():he(n)}(o[t]));const a=mg(s.canSeeViewProviders);s.resolving=!0;const l=s.injectImpl?ir(s.injectImpl):null;QN(n,i,ne.Default);try{r=n[t]=s.factory(void 0,o,n,i),e.firstCreatePass&&t>=i.directiveStart&&function VQ(n,e,t){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=e.type.prototype;if(i){const s=PN(e);(t.preOrderHooks??(t.preOrderHooks=[])).push(n,s),(t.preOrderCheckHooks??(t.preOrderCheckHooks=[])).push(n,s)}r&&(t.preOrderHooks??(t.preOrderHooks=[])).push(0-n,r),o&&((t.preOrderHooks??(t.preOrderHooks=[])).push(n,o),(t.preOrderCheckHooks??(t.preOrderCheckHooks=[])).push(n,o))}(t,o[t],e)}finally{null!==l&&ir(l),mg(a),s.resolving=!1,eF()}}return r}function fF(n,e,t){return!!(t[e+(n>>aF)]&1<<n)}function pF(n,e){return!(n&ne.Self||n&ne.Host&&e)}class Mc{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,i){return dF(this._tNode,this._lView,e,eg(i),t)}}function YQ(){return new Mc(On(),T())}function Ue(n){return Lo(()=>{const e=n.prototype.constructor,t=e[Bo]||G0(e),i=Object.prototype;let r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){const o=r[Bo]||G0(r);if(o&&o!==t)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function G0(n){return y0(n)?()=>{const e=G0(te(n));return e&&e()}:$a(n)}function mF(n){const e=n[H],t=e.type;return 2===t?e.declTNode:1===t?n[Yn]:null}const kc="__parameters__";function Pc(n,e,t){return Lo(()=>{const i=function W0(n){return function(...t){if(n){const i=n(...t);for(const r in i)this[r]=i[r]}}}(e);function r(...o){if(this instanceof r)return i.apply(this,o),this;const s=new r(...o);return a.annotation=s,a;function a(l,c,u){const d=l.hasOwnProperty(kc)?l[kc]:Object.defineProperty(l,kc,{value:[]})[kc];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),l}}return t&&(r.prototype=Object.create(t.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}class I{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=k({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function qa(n,e){n.forEach(t=>Array.isArray(t)?qa(t,e):e(t))}function _F(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function yg(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function ch(n,e){const t=[];for(let i=0;i<n;i++)t.push(e);return t}function Bi(n,e,t){let i=Nc(n,e);return i>=0?n[1|i]=t:(i=~i,function eX(n,e,t,i){let r=n.length;if(r==e)n.push(t,i);else if(1===r)n.push(i,n[0]),n[0]=t;else{for(r--,n.push(n[r-1],n[r]);r>e;)n[r]=n[r-2],r--;n[e]=t,n[e+1]=i}}(n,i,e,t)),i}function K0(n,e){const t=Nc(n,e);if(t>=0)return n[1|t]}function Nc(n,e){return function yF(n,e,t){let i=0,r=n.length>>t;for(;r!==i;){const o=i+(r-i>>1),s=n[o<<t];if(e===s)return o<<t;s>e?r=o:i=o+1}return~(r<<t)}(n,e,1)}const bg=Xd(Pc("Inject",n=>({token:n})),-1),ze=Xd(Pc("Optional"),8),Kr=Xd(Pc("SkipSelf"),4);var Di=(()=>((Di=Di||{})[Di.Important=1]="Important",Di[Di.DashCase=2]="DashCase",Di))();const J0=new Map;let CX=0;const tC="__ngContext__";function Zn(n,e){Li(e)?(n[tC]=e[th],function EX(n){J0.set(n[th],n)}(e)):n[tC]=e}let nC;function iC(n,e){return nC(n,e)}function fh(n){const e=n[kt];return wr(e)?e[kt]:e}function rC(n){return VF(n[Jd])}function oC(n){return VF(n[br])}function VF(n){for(;null!==n&&!wr(n);)n=n[br];return n}function Lc(n,e,t,i,r){if(null!=i){let o,s=!1;wr(i)?o=i:Li(i)&&(s=!0,i=i[Uo]);const a=kn(i);0===n&&null!==t?null==r?$F(e,t,a):Ka(e,t,a,r||null,!0):1===n&&null!==t?Ka(e,t,a,r||null,!0):2===n?function hC(n,e,t){const i=xg(n,e);i&&function $X(n,e,t,i){n.removeChild(e,t,i)}(n,i,e,t)}(e,a,s):3===n&&e.destroyNode(a),null!=o&&function qX(n,e,t,i,r){const o=t[og];o!==kn(t)&&Lc(e,n,i,o,r);for(let a=ui;a<t.length;a++){const l=t[a];ph(l[H],l,n,e,i,o)}}(e,n,o,t,r)}}function aC(n,e,t){return n.createElement(e,t)}function UF(n,e){const t=n[Ic],i=t.indexOf(e),r=e[kt];512&e[be]&&(e[be]&=-513,M0(r,-1)),t.splice(i,1)}function lC(n,e){if(n.length<=ui)return;const t=ui+e,i=n[t];if(i){const r=i[eh];null!==r&&r!==n&&UF(r,i),e>0&&(n[t-1][br]=i[br]);const o=yg(n,ui+e);!function FX(n,e){ph(n,e,e[xe],2,null,null),e[Uo]=null,e[Yn]=null}(i[H],i);const s=o[Gr];null!==s&&s.detachView(o[H]),i[kt]=null,i[br]=null,i[be]&=-65}return i}function jF(n,e){if(!(128&e[be])){const t=e[xe];t.destroyNode&&ph(n,e,t,3,null,null),function BX(n){let e=n[Jd];if(!e)return cC(n[H],n);for(;e;){let t=null;if(Li(e))t=e[Jd];else{const i=e[ui];i&&(t=i)}if(!t){for(;e&&!e[br]&&e!==n;)Li(e)&&cC(e[H],e),e=e[kt];null===e&&(e=n),Li(e)&&cC(e[H],e),t=e&&e[br]}e=t}}(e)}}function cC(n,e){if(!(128&e[be])){e[be]&=-65,e[be]|=128,function zX(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let i=0;i<t.length;i+=2){const r=e[t[i]];if(!(r instanceof rh)){const o=t[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=r[o[s]],l=o[s+1];rr(4,a,l);try{l.call(a)}finally{rr(5,a,l)}}else{rr(4,r,o);try{o.call(r)}finally{rr(5,r,o)}}}}}(n,e),function HX(n,e){const t=n.cleanup,i=e[xc];let r=-1;if(null!==t)for(let o=0;o<t.length-1;o+=2)if("string"==typeof t[o]){const s=t[o+3];s>=0?i[r=s]():i[r=-s].unsubscribe(),o+=2}else{const s=i[r=t[o+1]];t[o].call(s)}if(null!==i){for(let o=r+1;o<i.length;o++)(0,i[o])();e[xc]=null}}(n,e),1===e[H].type&&e[xe].destroy();const t=e[eh];if(null!==t&&wr(e[kt])){t!==e[kt]&&UF(t,e);const i=e[Gr];null!==i&&i.detachView(n)}!function DX(n){J0.delete(n[th])}(e)}}function HF(n,e,t){return function zF(n,e,t){let i=e;for(;null!==i&&40&i.type;)i=(e=i).parent;if(null===i)return t[Uo];{const{componentOffset:r}=i;if(r>-1){const{encapsulation:o}=n.data[i.directiveStart+r];if(o===vr.None||o===vr.Emulated)return null}return Vi(i,t)}}(n,e.parent,t)}function Ka(n,e,t,i,r){n.insertBefore(e,t,i,r)}function $F(n,e,t){n.appendChild(e,t)}function GF(n,e,t,i,r){null!==i?Ka(n,e,t,i,r):$F(n,e,t)}function xg(n,e){return n.parentNode(e)}function WF(n,e,t){return KF(n,e,t)}let uC,mC,Sg,KF=function qF(n,e,t){return 40&n.type?Vi(n,t):null};function Eg(n,e,t,i){const r=HF(n,i,e),o=e[xe],a=WF(i.parent||e[Yn],i,e);if(null!=r)if(Array.isArray(t))for(let l=0;l<t.length;l++)GF(o,r,t[l],a,!1);else GF(o,r,t,a,!1);void 0!==uC&&uC(o,i,e,t,r)}function Dg(n,e){if(null!==e){const t=e.type;if(3&t)return Vi(e,n);if(4&t)return dC(-1,n[e.index]);if(8&t){const i=e.child;if(null!==i)return Dg(n,i);{const r=n[e.index];return wr(r)?dC(-1,r):kn(r)}}if(32&t)return iC(e,n)()||kn(n[e.index]);{const i=QF(n,e);return null!==i?Array.isArray(i)?i[0]:Dg(fh(n[Qn]),i):Dg(n,e.next)}}return null}function QF(n,e){return null!==e?n[Qn][Yn].projection[e.projection]:null}function dC(n,e){const t=ui+n+1;if(t<e.length){const i=e[t],r=i[H].firstChild;if(null!==r)return Dg(i,r)}return e[og]}function fC(n,e,t,i,r,o,s){for(;null!=t;){const a=i[t.index],l=t.type;if(s&&0===e&&(a&&Zn(kn(a),i),t.flags|=2),32!=(32&t.flags))if(8&l)fC(n,e,t.child,i,r,o,!1),Lc(e,n,r,a,o);else if(32&l){const c=iC(t,i);let u;for(;u=c();)Lc(e,n,r,u,o);Lc(e,n,r,a,o)}else 16&l?XF(n,e,i,t,r,o):Lc(e,n,r,a,o);t=s?t.projectionNext:t.next}}function ph(n,e,t,i,r,o){fC(t,i,n.firstChild,e,r,o,!1)}function XF(n,e,t,i,r,o){const s=t[Qn],l=s[Yn].projection[i.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)Lc(e,n,r,l[c],o);else fC(n,e,l,s[kt],r,o,!0)}function ZF(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function JF(n,e,t){const{mergedAttrs:i,classes:r,styles:o}=t;null!==i&&U0(n,e,i),null!==r&&ZF(n,e,r),null!==o&&function YX(n,e,t){n.setAttribute(e,"style",t)}(n,e,o)}function iL(n){return function gC(){if(void 0===Sg&&(Sg=null,mt.trustedTypes))try{Sg=mt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Sg}()?.createScriptURL(n)||n}class Ya{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Km})`}}function Ui(n){return n instanceof Ya?n.changingThisBreaksApplicationSecurity:n}function Yr(n,e){const t=function oZ(n){return n instanceof Ya&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${Km})`)}return t===e}const pZ=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Ke=(()=>((Ke=Ke||{})[Ke.NONE=0]="NONE",Ke[Ke.HTML=1]="HTML",Ke[Ke.STYLE=2]="STYLE",Ke[Ke.SCRIPT=3]="SCRIPT",Ke[Ke.URL=4]="URL",Ke[Ke.RESOURCE_URL=5]="RESOURCE_URL",Ke))();function dL(n){const e=gh();return e?e.sanitize(Ke.URL,n)||"":Yr(n,"URL")?Ui(n):function Tg(n){return(n=String(n)).match(pZ)?n:"unsafe:"+n}(he(n))}function hL(n){const e=gh();if(e)return iL(e.sanitize(Ke.RESOURCE_URL,n)||"");if(Yr(n,"ResourceURL"))return iL(Ui(n));throw new D(904,!1)}function gh(){const n=T();return n&&n[I0]}const Mg=new I("ENVIRONMENT_INITIALIZER"),pL=new I("INJECTOR",-1),mL=new I("INJECTOR_DEF_TYPES");class gL{get(e,t=Yd){if(t===Yd){const i=new Error(`NullInjectorError: No provider for ${at(e)}!`);throw i.name="NullInjectorError",i}return t}}function SZ(...n){return{\u0275providers:_L(0,n),\u0275fromNgModule:!0}}function _L(n,...e){const t=[],i=new Set;let r;return qa(e,o=>{const s=o;bC(s,t,[],i)&&(r||(r=[]),r.push(s))}),void 0!==r&&yL(r,t),t}function yL(n,e){for(let t=0;t<n.length;t++){const{providers:r}=n[t];wC(r,o=>{e.push(o)})}}function bC(n,e,t,i){if(!(n=te(n)))return!1;let r=null,o=bN(n);const s=!o&&Xe(n);if(o||s){if(s&&!s.standalone)return!1;r=n}else{const l=n.ngModule;if(o=bN(l),!o)return!1;r=l}const a=i.has(r);if(s){if(a)return!1;if(i.add(r),s.dependencies){const l="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const c of l)bC(c,e,t,i)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let c;i.add(r);try{qa(o.imports,u=>{bC(u,e,t,i)&&(c||(c=[]),c.push(u))})}finally{}void 0!==c&&yL(c,e)}if(!a){const c=$a(r)||(()=>new r);e.push({provide:r,useFactory:c,deps:qe},{provide:mL,useValue:r,multi:!0},{provide:Mg,useValue:()=>w(r),multi:!0})}const l=o.providers;null==l||a||wC(l,u=>{e.push(u)})}}return r!==n&&void 0!==n.providers}function wC(n,e){for(let t of n)v0(t)&&(t=t.\u0275providers),Array.isArray(t)?wC(t,e):e(t)}const TZ=rt({provide:String,useValue:rt});function CC(n){return null!==n&&"object"==typeof n&&TZ in n}function Qa(n){return"function"==typeof n}const xC=new I("Set Injector scope."),Rg={},MZ={};let EC;function kg(){return void 0===EC&&(EC=new gL),EC}class Qr{}class wL extends Qr{get destroyed(){return this._destroyed}constructor(e,t,i,r){super(),this.parent=t,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,IC(e,s=>this.processProvider(s)),this.records.set(pL,Bc(void 0,this)),r.has("environment")&&this.records.set(Qr,Bc(void 0,this));const o=this.records.get(xC);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(mL.multi,qe,ne.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();for(const e of this._onDestroyHooks)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(e){this._onDestroyHooks.push(e)}runInContext(e){this.assertNotDestroyed();const t=wc(this),i=ir(void 0);try{return e()}finally{wc(t),ir(i)}}get(e,t=Yd,i=ne.Default){this.assertNotDestroyed(),i=eg(i);const r=wc(this),o=ir(void 0);try{if(!(i&ne.SkipSelf)){let a=this.records.get(e);if(void 0===a){const l=function NZ(n){return"function"==typeof n||"object"==typeof n&&n instanceof I}(e)&&Xm(e);a=l&&this.injectableDefInScope(l)?Bc(DC(e),Rg):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(i&ne.Self?kg():this.parent).get(e,t=i&ne.Optional&&t===Yd?null:t)}catch(s){if("NullInjectorError"===s.name){if((s[Jm]=s[Jm]||[]).unshift(at(e)),r)throw s;return function nQ(n,e,t,i){const r=n[Jm];throw e[xN]&&r.unshift(e[xN]),n.message=function iQ(n,e,t,i=null){n=n&&"\n"===n.charAt(0)&&n.charAt(1)==JY?n.slice(2):n;let r=at(e);if(Array.isArray(e))r=e.map(at).join(" -> ");else if("object"==typeof e){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):at(a)))}r=`{${o.join(", ")}}`}return`${t}${i?"("+i+")":""}[${r}]: ${n.replace(ZY,"\n  ")}`}("\n"+n.message,r,t,i),n[XY]=r,n[Jm]=null,n}(s,e,"R3InjectorError",this.source)}throw s}finally{ir(o),wc(r)}}resolveInjectorInitializers(){const e=wc(this),t=ir(void 0);try{const i=this.get(Mg.multi,qe,ne.Self);for(const r of i)r()}finally{wc(e),ir(t)}}toString(){const e=[],t=this.records;for(const i of t.keys())e.push(at(i));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new D(205,!1)}processProvider(e){let t=Qa(e=te(e))?e:te(e&&e.provide);const i=function kZ(n){return CC(n)?Bc(void 0,n.useValue):Bc(CL(n),Rg)}(e);if(Qa(e)||!0!==e.multi)this.records.get(t);else{let r=this.records.get(t);r||(r=Bc(void 0,Rg,!0),r.factory=()=>x0(r.multi),this.records.set(t,r)),t=e,r.multi.push(e)}this.records.set(t,i)}hydrate(e,t){return t.value===Rg&&(t.value=MZ,t.value=t.factory()),"object"==typeof t.value&&t.value&&function PZ(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=te(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}}function DC(n){const e=Xm(n),t=null!==e?e.factory:$a(n);if(null!==t)return t;if(n instanceof I)throw new D(204,!1);if(n instanceof Function)return function RZ(n){const e=n.length;if(e>0)throw ch(e,"?"),new D(204,!1);const t=function KY(n){return n&&(n[Zm]||n[wN])||null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new D(204,!1)}function CL(n,e,t){let i;if(Qa(n)){const r=te(n);return $a(r)||DC(r)}if(CC(n))i=()=>te(n.useValue);else if(function bL(n){return!(!n||!n.useFactory)}(n))i=()=>n.useFactory(...x0(n.deps||[]));else if(function vL(n){return!(!n||!n.useExisting)}(n))i=()=>w(te(n.useExisting));else{const r=te(n&&(n.useClass||n.provide));if(!function OZ(n){return!!n.deps}(n))return $a(r)||DC(r);i=()=>new r(...x0(n.deps))}return i}function Bc(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function IC(n,e){for(const t of n)Array.isArray(t)?IC(t,e):t&&v0(t)?IC(t.\u0275providers,e):e(t)}class FZ{}class xL{}class VZ{resolveComponentFactory(e){throw function LZ(n){const e=Error(`No component factory found for ${at(n)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=n,e}(e)}}let Xa=(()=>{class n{}return n.NULL=new VZ,n})();function BZ(){return Uc(On(),T())}function Uc(n,e){return new $e(Vi(n,e))}let $e=(()=>{class n{constructor(t){this.nativeElement=t}}return n.__NG_ELEMENT_ID__=BZ,n})();function UZ(n){return n instanceof $e?n.nativeElement:n}class _h{}let $o=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function jZ(){const n=T(),t=Ei(On().index,n);return(Li(t)?t:n)[xe]}(),n})(),HZ=(()=>{class n{}return n.\u0275prov=k({token:n,providedIn:"root",factory:()=>null}),n})();class Fs{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const DL=new Fs("15.2.9"),SC={},TC="ngOriginalError";function AC(n){return n[TC]}class Ls{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&AC(e);for(;t&&AC(t);)t=AC(t);return t||null}}function Go(n){return n instanceof Function?n():n}function SL(n,e,t){let i=n.length;for(;;){const r=n.indexOf(e,t);if(-1===r)return r;if(0===r||n.charCodeAt(r-1)<=32){const o=e.length;if(r+o===i||n.charCodeAt(r+o)<=32)return r}t=r+1}}const TL="ng-template";function JZ(n,e,t){let i=0,r=!0;for(;i<n.length;){let o=n[i++];if("string"==typeof o&&r){const s=n[i++];if(t&&"class"===o&&-1!==SL(s.toLowerCase(),e,0))return!0}else{if(1===o){for(;i<n.length&&"string"==typeof(o=n[i++]);)if(o.toLowerCase()===e)return!0;return!1}"number"==typeof o&&(r=!1)}}return!1}function AL(n){return 4===n.type&&n.value!==TL}function eJ(n,e,t){return e===(4!==n.type||t?n.value:TL)}function tJ(n,e,t){let i=4;const r=n.attrs||[],o=function rJ(n){for(let e=0;e<n.length;e++)if(nF(n[e]))return e;return n.length}(r);let s=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!s)if(4&i){if(i=2|1&i,""!==l&&!eJ(n,l,t)||""===l&&1===e.length){if(xr(i))return!1;s=!0}}else{const c=8&i?l:e[++a];if(8&i&&null!==n.attrs){if(!JZ(n.attrs,c,t)){if(xr(i))return!1;s=!0}continue}const d=nJ(8&i?"class":l,r,AL(n),t);if(-1===d){if(xr(i))return!1;s=!0;continue}if(""!==c){let h;h=d>o?"":r[d+1].toLowerCase();const f=8&i?h:null;if(f&&-1!==SL(f,c,0)||2&i&&c!==h){if(xr(i))return!1;s=!0}}}}else{if(!s&&!xr(i)&&!xr(l))return!1;if(s&&xr(l))continue;s=!1,i=l|1&i}}return xr(i)||s}function xr(n){return 0==(1&n)}function nJ(n,e,t,i){if(null===e)return-1;let r=0;if(i||!t){let o=!1;for(;r<e.length;){const s=e[r];if(s===n)return r;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=e[++r];for(;"string"==typeof a;)a=e[++r];continue}if(4===s)break;if(0===s){r+=4;continue}}r+=o?1:2}return-1}return function oJ(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const i=n[t];if("number"==typeof i)return-1;if(i===e)return t;t++}return-1}(e,n)}function ML(n,e,t=!1){for(let i=0;i<e.length;i++)if(tJ(n,e[i],t))return!0;return!1}function sJ(n,e){e:for(let t=0;t<e.length;t++){const i=e[t];if(n.length===i.length){for(let r=0;r<n.length;r++)if(n[r]!==i[r])continue e;return!0}}return!1}function RL(n,e){return n?":not("+e.trim()+")":e}function aJ(n){let e=n[0],t=1,i=2,r="",o=!1;for(;t<n.length;){let s=n[t];if("string"==typeof s)if(2&i){const a=n[++t];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&i?r+="."+s:4&i&&(r+=" "+s);else""!==r&&!xr(s)&&(e+=RL(o,r),r=""),i=s,o=o||!xr(i);t++}return""!==r&&(e+=RL(o,r)),e}const pe={};function ln(n){kL(Le(),T(),hi()+n,!1)}function kL(n,e,t,i){if(!i)if(3==(3&e[be])){const o=n.preOrderCheckHooks;null!==o&&dg(e,o,t)}else{const o=n.preOrderHooks;null!==o&&hg(e,o,0,t)}Ga(t)}function FL(n,e=null,t=null,i){const r=LL(n,e,t,i);return r.resolveInjectorInitializers(),r}function LL(n,e=null,t=null,i,r=new Set){const o=[t||qe,SZ(n)];return i=i||("object"==typeof n?void 0:at(n)),new wL(o,e||kg(),i||null,r)}let Ot=(()=>{class n{static create(t,i){if(Array.isArray(t))return FL({name:""},i,t,"");{const r=t.name??"";return FL({name:r},t.parent,t.providers,r)}}}return n.THROW_IF_NOT_FOUND=Yd,n.NULL=new gL,n.\u0275prov=k({token:n,providedIn:"any",factory:()=>w(pL)}),n.__NG_ELEMENT_ID__=-1,n})();function b(n,e=ne.Default){const t=T();return null===t?w(n,e):dF(On(),t,te(n),e)}function Pg(){throw new Error("invalid")}function $L(n,e){const t=n.contentQueries;if(null!==t)for(let i=0;i<t.length;i+=2){const o=t[i+1];if(-1!==o){const s=n.data[o];N0(t[i]),s.contentQueries(2,e[o],o)}}}function Ng(n,e,t,i,r,o,s,a,l,c,u){const d=e.blueprint.slice();return d[Uo]=r,d[be]=76|i,(null!==u||n&&1024&n[be])&&(d[be]|=1024),UN(d),d[kt]=d[Ec]=n,d[jt]=t,d[rg]=s||n&&n[rg],d[xe]=a||n&&n[xe],d[I0]=l||n&&n[I0]||null,d[ig]=c||n&&n[ig]||null,d[Yn]=o,d[th]=function xX(){return CX++}(),d[MN]=u,d[Qn]=2==e.type?n[Qn]:d,d}function zc(n,e,t,i,r){let o=n.data[e];if(null===o)o=function PC(n,e,t,i,r){const o=GN(),s=R0(),l=n.data[e]=function OJ(n,e,t,i,r,o){return{type:t,index:i,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,t,e,i,r);return null===n.firstChild&&(n.firstChild=l),null!==o&&(s?null==o.child&&null!==l.parent&&(o.child=l):null===o.next&&(o.next=l,l.prev=o)),l}(n,e,t,i,r),function SQ(){return fe.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=t,o.value=i,o.attrs=r;const s=function ih(){const n=fe.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return Wr(o,!0),o}function yh(n,e,t,i){if(0===t)return-1;const r=e.length;for(let o=0;o<t;o++)e.push(i),n.blueprint.push(i),n.data.push(null);return r}function NC(n,e,t){F0(e);try{const i=n.viewQuery;null!==i&&$C(1,i,t);const r=n.template;null!==r&&GL(n,e,r,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&$L(n,e),n.staticViewQueries&&$C(2,n.viewQuery,t);const o=n.components;null!==o&&function MJ(n,e){for(let t=0;t<e.length;t++)JJ(n,e[t])}(e,o)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{e[be]&=-5,L0()}}function Fg(n,e,t,i){const r=e[be];if(128!=(128&r)){F0(e);try{UN(e),function qN(n){return fe.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&GL(n,e,t,2,i);const s=3==(3&r);if(s){const c=n.preOrderCheckHooks;null!==c&&dg(e,c,null)}else{const c=n.preOrderHooks;null!==c&&hg(e,c,0,null),V0(e,0)}if(function XJ(n){for(let e=rC(n);null!==e;e=oC(e)){if(!e[RN])continue;const t=e[Ic];for(let i=0;i<t.length;i++){const r=t[i];512&r[be]||M0(r[kt],1),r[be]|=512}}}(e),function QJ(n){for(let e=rC(n);null!==e;e=oC(e))for(let t=ui;t<e.length;t++){const i=e[t],r=i[H];cg(i)&&Fg(r,i,r.template,i[jt])}}(e),null!==n.contentQueries&&$L(n,e),s){const c=n.contentCheckHooks;null!==c&&dg(e,c)}else{const c=n.contentHooks;null!==c&&hg(e,c,1),V0(e,1)}!function TJ(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let i=0;i<t.length;i++){const r=t[i];if(r<0)Ga(~r);else{const o=r,s=t[++i],a=t[++i];TQ(s,o),a(2,e[o])}}}finally{Ga(-1)}}(n,e);const a=n.components;null!==a&&function AJ(n,e){for(let t=0;t<e.length;t++)ZJ(n,e[t])}(e,a);const l=n.viewQuery;if(null!==l&&$C(2,l,i),s){const c=n.viewCheckHooks;null!==c&&dg(e,c)}else{const c=n.viewHooks;null!==c&&hg(e,c,2),V0(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[be]&=-41,512&e[be]&&(e[be]&=-513,M0(e[kt],-1))}finally{L0()}}}function GL(n,e,t,i,r){const o=hi(),s=2&i;try{Ga(-1),s&&e.length>gt&&kL(n,e,gt,!1),rr(s?2:0,r),t(i,r)}finally{Ga(o),rr(s?3:1,r)}}function FC(n,e,t){if(T0(e)){const r=e.directiveEnd;for(let o=e.directiveStart;o<r;o++){const s=n.data[o];s.contentQueries&&s.contentQueries(1,t[o],o)}}}function LC(n,e,t){HN()&&(function UJ(n,e,t,i){const r=t.directiveStart,o=t.directiveEnd;nh(t)&&function qJ(n,e,t){const i=Vi(e,n),r=WL(t),o=n[rg],s=Lg(n,Ng(n,r,null,t.onPush?32:16,i,e,o,o.createRenderer(i,t),null,null,null));n[e.index]=s}(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||gg(t,e),Zn(i,e);const s=t.initialInputs;for(let a=r;a<o;a++){const l=n.data[a],c=Wa(e,n,a,t);Zn(c,e),null!==s&&KJ(0,a-r,c,l,0,s),Cr(l)&&(Ei(t.index,e)[jt]=Wa(e,n,a,t))}}(n,e,t,Vi(t,e)),64==(64&t.flags)&&XL(n,e,t))}function VC(n,e,t=Vi){const i=e.localNames;if(null!==i){let r=e.index+1;for(let o=0;o<i.length;o+=2){const s=i[o+1],a=-1===s?t(e,n):n[s];n[r++]=a}}}function WL(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=BC(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):e}function BC(n,e,t,i,r,o,s,a,l,c){const u=gt+i,d=u+r,h=function RJ(n,e){const t=[];for(let i=0;i<e;i++)t.push(i<n?null:pe);return t}(u,d),f="function"==typeof c?c():c;return h[H]={type:n,blueprint:h,template:t,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:l,consts:f,incompleteFirstPass:!1}}function qL(n,e,t,i){const r=JL(e);null===t?r.push(i):(r.push(t),n.firstCreatePass&&e2(n).push(i,r.length-1))}function KL(n,e,t,i){for(let r in n)if(n.hasOwnProperty(r)){t=null===t?{}:t;const o=n[r];null===i?YL(t,e,r,o):i.hasOwnProperty(r)&&YL(t,e,i[r],o)}return t}function YL(n,e,t,i){n.hasOwnProperty(t)?n[t].push(e,i):n[t]=[e,i]}function ji(n,e,t,i,r,o,s,a){const l=Vi(e,t);let u,c=e.inputs;!a&&null!=c&&(u=c[i])?(GC(n,t,u,i,r),nh(e)&&function FJ(n,e){const t=Ei(e,n);16&t[be]||(t[be]|=32)}(t,e.index)):3&e.type&&(i=function NJ(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(i),r=null!=s?s(r,e.value||"",i):r,o.setProperty(l,i,r))}function UC(n,e,t,i){if(HN()){const r=null===i?null:{"":-1},o=function HJ(n,e){const t=n.directiveRegistry;let i=null,r=null;if(t)for(let o=0;o<t.length;o++){const s=t[o];if(ML(e,s.selectors,!1))if(i||(i=[]),Cr(s))if(null!==s.findHostDirectiveDefs){const a=[];r=r||new Map,s.findHostDirectiveDefs(s,a,r),i.unshift(...a,s),jC(n,e,a.length)}else i.unshift(s),jC(n,e,0);else r=r||new Map,s.findHostDirectiveDefs?.(s,i,r),i.push(s)}return null===i?null:[i,r]}(n,t);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&QL(n,e,t,s,r,a),r&&function zJ(n,e,t){if(e){const i=n.localNames=[];for(let r=0;r<e.length;r+=2){const o=t[e[r+1]];if(null==o)throw new D(-301,!1);i.push(e[r],o)}}}(t,i,r)}t.mergedAttrs=oh(t.mergedAttrs,t.attrs)}function QL(n,e,t,i,r,o){for(let c=0;c<i.length;c++)$0(gg(t,e),n,i[c].type);!function GJ(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}(t,n.data.length,i.length);for(let c=0;c<i.length;c++){const u=i[c];u.providersResolver&&u.providersResolver(u)}let s=!1,a=!1,l=yh(n,e,i.length,null);for(let c=0;c<i.length;c++){const u=i[c];t.mergedAttrs=oh(t.mergedAttrs,u.hostAttrs),WJ(n,t,e,l,u),$J(l,u,r),null!==u.contentQueries&&(t.flags|=4),(null!==u.hostBindings||null!==u.hostAttrs||0!==u.hostVars)&&(t.flags|=64);const d=u.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((n.preOrderHooks??(n.preOrderHooks=[])).push(t.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((n.preOrderCheckHooks??(n.preOrderCheckHooks=[])).push(t.index),a=!0),l++}!function PJ(n,e,t){const r=e.directiveEnd,o=n.data,s=e.attrs,a=[];let l=null,c=null;for(let u=e.directiveStart;u<r;u++){const d=o[u],h=t?t.get(d):null,p=h?h.outputs:null;l=KL(d.inputs,u,l,h?h.inputs:null),c=KL(d.outputs,u,c,p);const m=null===l||null===s||AL(e)?null:YJ(l,u,s);a.push(m)}null!==l&&(l.hasOwnProperty("class")&&(e.flags|=8),l.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=l,e.outputs=c}(n,t,o)}function XL(n,e,t){const i=t.directiveStart,r=t.directiveEnd,o=t.index,s=function AQ(){return fe.lFrame.currentDirectiveIndex}();try{Ga(o);for(let a=i;a<r;a++){const l=n.data[a],c=e[a];O0(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&jJ(l,c)}}finally{Ga(-1),O0(s)}}function jJ(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function jC(n,e,t){e.componentOffset=t,(n.components??(n.components=[])).push(e.index)}function $J(n,e,t){if(t){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)t[e.exportAs[i]]=n;Cr(e)&&(t[""]=n)}}function WJ(n,e,t,i,r){n.data[i]=r;const o=r.factory||(r.factory=$a(r.type)),s=new rh(o,Cr(r),b);n.blueprint[i]=s,t[i]=s,function VJ(n,e,t,i,r){const o=r.hostBindings;if(o){let s=n.hostBindingOpCodes;null===s&&(s=n.hostBindingOpCodes=[]);const a=~e.index;(function BJ(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(s)!=a&&s.push(a),s.push(t,i,o)}}(n,e,i,yh(n,t,r.hostVars,pe),r)}function Xr(n,e,t,i,r,o){const s=Vi(n,e);!function HC(n,e,t,i,r,o,s){if(null==o)n.removeAttribute(e,r,t);else{const a=null==s?he(o):s(o,i||"",r);n.setAttribute(e,r,a,t)}}(e[xe],s,o,n.value,t,i,r)}function KJ(n,e,t,i,r,o){const s=o[e];if(null!==s){const a=i.setInput;for(let l=0;l<s.length;){const c=s[l++],u=s[l++],d=s[l++];null!==a?i.setInput(t,d,c,u):t[u]=d}}}function YJ(n,e,t){let i=null,r=0;for(;r<t.length;){const o=t[r];if(0!==o)if(5!==o){if("number"==typeof o)break;if(n.hasOwnProperty(o)){null===i&&(i=[]);const s=n[o];for(let a=0;a<s.length;a+=2)if(s[a]===e){i.push(o,s[a+1],t[r+1]);break}}r+=2}else r+=2;else r+=4}return i}function ZL(n,e,t,i){return[n,!0,!1,e,null,0,i,t,null,null]}function ZJ(n,e){const t=Ei(e,n);if(cg(t)){const i=t[H];48&t[be]?Fg(i,t,i.template,t[jt]):t[za]>0&&zC(t)}}function zC(n){for(let i=rC(n);null!==i;i=oC(i))for(let r=ui;r<i.length;r++){const o=i[r];if(cg(o))if(512&o[be]){const s=o[H];Fg(s,o,s.template,o[jt])}else o[za]>0&&zC(o)}const t=n[H].components;if(null!==t)for(let i=0;i<t.length;i++){const r=Ei(t[i],n);cg(r)&&r[za]>0&&zC(r)}}function JJ(n,e){const t=Ei(e,n),i=t[H];(function eee(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])})(i,t),NC(i,t,t[jt])}function Lg(n,e){return n[Jd]?n[AN][br]=e:n[Jd]=e,n[AN]=e,e}function Vg(n){for(;n;){n[be]|=32;const e=fh(n);if(cQ(n)&&!e)return n;n=e}return null}function Bg(n,e,t,i=!0){const r=e[rg];r.begin&&r.begin();try{Fg(n,e,n.template,t)}catch(s){throw i&&n2(e,s),s}finally{r.end&&r.end()}}function $C(n,e,t){N0(0),e(n,t)}function JL(n){return n[xc]||(n[xc]=[])}function e2(n){return n.cleanup||(n.cleanup=[])}function n2(n,e){const t=n[ig],i=t?t.get(Ls,null):null;i&&i.handleError(e)}function GC(n,e,t,i,r){for(let o=0;o<t.length;){const s=t[o++],a=t[o++],l=e[s],c=n.data[s];null!==c.setInput?c.setInput(l,r,i,a):l[a]=r}}function Ug(n,e,t){let i=t?n.styles:null,r=t?n.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?o=a:1==o?r=_0(r,a):2==o&&(i=_0(i,a+": "+e[++s]+";"))}t?n.styles=i:n.stylesWithoutHost=i,t?n.classes=r:n.classesWithoutHost=r}function jg(n,e,t,i,r=!1){for(;null!==t;){const o=e[t.index];if(null!==o&&i.push(kn(o)),wr(o))for(let a=ui;a<o.length;a++){const l=o[a],c=l[H].firstChild;null!==c&&jg(l[H],l,c,i)}const s=t.type;if(8&s)jg(n,e,t.child,i);else if(32&s){const a=iC(t,e);let l;for(;l=a();)i.push(l)}else if(16&s){const a=QF(e,t);if(Array.isArray(a))i.push(...a);else{const l=fh(e[Qn]);jg(l[H],l,a,i,!0)}}t=r?t.projectionNext:t.next}return i}class vh{get rootNodes(){const e=this._lView,t=e[H];return jg(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[jt]}set context(e){this._lView[jt]=e}get destroyed(){return 128==(128&this._lView[be])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[kt];if(wr(e)){const t=e[sg],i=t?t.indexOf(this):-1;i>-1&&(lC(e,i),yg(t,i))}this._attachedToViewContainer=!1}jF(this._lView[H],this._lView)}onDestroy(e){qL(this._lView[H],this._lView,null,e)}markForCheck(){Vg(this._cdRefInjectingView||this._lView)}detach(){this._lView[be]&=-65}reattach(){this._lView[be]|=64}detectChanges(){Bg(this._lView[H],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new D(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function VX(n,e){ph(n,e,e[xe],2,null,null)}(this._lView[H],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new D(902,!1);this._appRef=e}}class tee extends vh{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;Bg(e[H],e,e[jt],!1)}checkNoChanges(){}get context(){return null}}class r2 extends Xa{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=Xe(e);return new bh(t,this.ngModule)}}function o2(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class iee{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,i){i=eg(i);const r=this.injector.get(e,SC,i);return r!==SC||t===SC?r:this.parentInjector.get(e,t,i)}}class bh extends xL{get inputs(){return o2(this.componentDef.inputs)}get outputs(){return o2(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function lJ(n){return n.map(aJ).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,i,r){let o=(r=r||this.ngModule)instanceof Qr?r:r?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new iee(e,o):e,a=s.get(_h,null);if(null===a)throw new D(407,!1);const l=s.get(HZ,null),c=a.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",d=i?function kJ(n,e,t){return n.selectRootElement(e,t===vr.ShadowDom)}(c,i,this.componentDef.encapsulation):aC(c,u,function nee(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(u)),h=this.componentDef.onPush?288:272,f=BC(0,null,null,1,0,null,null,null,null,null),p=Ng(null,f,null,h,null,null,a,c,l,s,null);let m,g;F0(p);try{const y=this.componentDef;let x,v=null;y.findHostDirectiveDefs?(x=[],v=new Map,y.findHostDirectiveDefs(y,x,v),x.push(y)):x=[y];const S=function oee(n,e){const t=n[H],i=gt;return n[i]=e,zc(t,i,2,"#host",null)}(p,d),j=function see(n,e,t,i,r,o,s,a){const l=r[H];!function aee(n,e,t,i){for(const r of n)e.mergedAttrs=oh(e.mergedAttrs,r.hostAttrs);null!==e.mergedAttrs&&(Ug(e,e.mergedAttrs,!0),null!==t&&JF(i,t,e))}(i,n,e,s);const c=o.createRenderer(e,t),u=Ng(r,WL(t),null,t.onPush?32:16,r[n.index],n,o,c,a||null,null,null);return l.firstCreatePass&&jC(l,n,i.length-1),Lg(r,u),r[n.index]=u}(S,d,y,x,p,a,c);g=BN(f,gt),d&&function cee(n,e,t,i){if(i)U0(n,t,["ng-version",DL.full]);else{const{attrs:r,classes:o}=function cJ(n){const e=[],t=[];let i=1,r=2;for(;i<n.length;){let o=n[i];if("string"==typeof o)2===r?""!==o&&e.push(o,n[++i]):8===r&&t.push(o);else{if(!xr(r))break;r=o}i++}return{attrs:e,classes:t}}(e.selectors[0]);r&&U0(n,t,r),o&&o.length>0&&ZF(n,t,o.join(" "))}}(c,y,d,i),void 0!==t&&function uee(n,e,t){const i=n.projection=[];for(let r=0;r<e.length;r++){const o=t[r];i.push(null!=o?Array.from(o):null)}}(g,this.ngContentSelectors,t),m=function lee(n,e,t,i,r,o){const s=On(),a=r[H],l=Vi(s,r);QL(a,r,s,t,null,i);for(let u=0;u<t.length;u++)Zn(Wa(r,a,s.directiveStart+u,s),r);XL(a,r,s),l&&Zn(l,r);const c=Wa(r,a,s.directiveStart+s.componentOffset,s);if(n[jt]=r[jt]=c,null!==o)for(const u of o)u(c,e);return FC(a,s,n),c}(j,y,x,v,p,[dee]),NC(f,p,null)}finally{L0()}return new ree(this.componentType,m,Uc(g,p),p,g)}}class ree extends FZ{constructor(e,t,i,r,o){super(),this.location=i,this._rootLView=r,this._tNode=o,this.instance=t,this.hostView=this.changeDetectorRef=new tee(r),this.componentType=e}setInput(e,t){const i=this._tNode.inputs;let r;if(null!==i&&(r=i[e])){const o=this._rootLView;GC(o[H],o,r,e,t),Vg(Ei(this._tNode.index,o))}}get injector(){return new Mc(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function dee(){const n=On();ug(T()[H],n)}function K(n){let e=function s2(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const i=[n];for(;e;){let r;if(Cr(n))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new D(903,!1);r=e.\u0275dir}if(r){if(t){i.push(r);const s=n;s.inputs=WC(n.inputs),s.declaredInputs=WC(n.declaredInputs),s.outputs=WC(n.outputs);const a=r.hostBindings;a&&mee(n,a);const l=r.viewQuery,c=r.contentQueries;if(l&&fee(n,l),c&&pee(n,c),g0(n.inputs,r.inputs),g0(n.declaredInputs,r.declaredInputs),g0(n.outputs,r.outputs),Cr(r)&&r.data.animation){const u=n.data;u.animation=(u.animation||[]).concat(r.data.animation)}}const o=r.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(n),a===K&&(t=!1)}}e=Object.getPrototypeOf(e)}!function hee(n){let e=0,t=null;for(let i=n.length-1;i>=0;i--){const r=n[i];r.hostVars=e+=r.hostVars,r.hostAttrs=oh(r.hostAttrs,t=oh(t,r.hostAttrs))}}(i)}function WC(n){return n===Vo?{}:n===qe?[]:n}function fee(n,e){const t=n.viewQuery;n.viewQuery=t?(i,r)=>{e(i,r),t(i,r)}:e}function pee(n,e){const t=n.contentQueries;n.contentQueries=t?(i,r,o)=>{e(i,r,o),t(i,r,o)}:e}function mee(n,e){const t=n.hostBindings;n.hostBindings=t?(i,r)=>{e(i,r),t(i,r)}:e}function Jn(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function Hi(n,e,t,i){const r=T();return Jn(r,Tc(),e)&&(Le(),Xr(Et(),r,n,e,t,i)),Hi}function Pn(n,e,t,i,r,o,s,a){const l=T(),c=Le(),u=n+gt,d=c.firstCreatePass?function Dee(n,e,t,i,r,o,s,a,l){const c=e.consts,u=zc(e,n,4,s||null,Ns(c,a));UC(e,t,u,Ns(c,l)),ug(e,u);const d=u.tView=BC(2,u,i,r,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}(u,c,l,e,t,i,r,o,s):c.data[u];Wr(d,!1);const h=l[xe].createComment("");Eg(c,l,h,d),Zn(h,l),Lg(l,l[u]=ZL(h,l,h,d)),ag(d)&&LC(c,l,d),null!=s&&VC(l,d,a)}function cn(n,e,t){const i=T();return Jn(i,Tc(),e)&&ji(Le(),Et(),i,n,e,i[xe],t,!1),cn}function KC(n,e,t,i,r){const s=r?"class":"style";GC(n,t,e.inputs[s],s,i)}function X(n,e,t,i){const r=T(),o=Le(),s=gt+n,a=r[xe],l=o.firstCreatePass?function Tee(n,e,t,i,r,o){const s=e.consts,l=zc(e,n,2,i,Ns(s,r));return UC(e,t,l,Ns(s,o)),null!==l.attrs&&Ug(l,l.attrs,!1),null!==l.mergedAttrs&&Ug(l,l.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,l),l}(s,o,r,e,t,i):o.data[s],c=r[s]=aC(a,e,function LQ(){return fe.lFrame.currentNamespace}()),u=ag(l);return Wr(l,!0),JF(a,c,l),32!=(32&l.flags)&&Eg(o,r,c,l),0===function wQ(){return fe.lFrame.elementDepthCount}()&&Zn(c,r),function CQ(){fe.lFrame.elementDepthCount++}(),u&&(LC(o,r,l),FC(o,l,r)),null!==i&&VC(r,l),X}function Q(){let n=On();R0()?k0():(n=n.parent,Wr(n,!1));const e=n;!function xQ(){fe.lFrame.elementDepthCount--}();const t=Le();return t.firstCreatePass&&(ug(t,n),T0(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function jQ(n){return 0!=(8&n.flags)}(e)&&KC(t,e,T(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function HQ(n){return 0!=(16&n.flags)}(e)&&KC(t,e,T(),e.stylesWithoutHost,!1),Q}function je(n,e,t,i){return X(n,e,t,i),Q(),je}function Jr(n,e,t){const i=T(),r=Le(),o=n+gt,s=r.firstCreatePass?function Aee(n,e,t,i,r){const o=e.consts,s=Ns(o,i),a=zc(e,n,8,"ng-container",s);return null!==s&&Ug(a,s,!0),UC(e,t,a,Ns(o,r)),null!==e.queries&&e.queries.elementStart(e,a),a}(o,r,i,e,t):r.data[o];Wr(s,!0);const a=i[o]=i[xe].createComment("");return Eg(r,i,a,s),Zn(a,i),ag(s)&&(LC(r,i,s),FC(r,s,i)),null!=t&&VC(i,s),Jr}function eo(){let n=On();const e=Le();return R0()?k0():(n=n.parent,Wr(n,!1)),e.firstCreatePass&&(ug(e,n),T0(n)&&e.queries.elementEnd(n)),eo}function Ch(n){return!!n&&"function"==typeof n.then}const YC=function b2(n){return!!n&&"function"==typeof n.subscribe};function yn(n,e,t,i){const r=T(),o=Le(),s=On();return function C2(n,e,t,i,r,o,s){const a=ag(i),c=n.firstCreatePass&&e2(n),u=e[jt],d=JL(e);let h=!0;if(3&i.type||s){const m=Vi(i,e),g=s?s(m):m,y=d.length,x=s?S=>s(kn(S[i.index])):i.index;let v=null;if(!s&&a&&(v=function Mee(n,e,t,i){const r=n.cleanup;if(null!=r)for(let o=0;o<r.length-1;o+=2){const s=r[o];if(s===t&&r[o+1]===i){const a=e[xc],l=r[o+2];return a.length>l?a[l]:null}"string"==typeof s&&(o+=2)}return null}(n,e,r,i.index)),null!==v)(v.__ngLastListenerFn__||v).__ngNextListenerFn__=o,v.__ngLastListenerFn__=o,h=!1;else{o=E2(i,e,u,o,!1);const S=t.listen(g,r,o);d.push(o,S),c&&c.push(r,x,y,y+1)}}else o=E2(i,e,u,o,!1);const f=i.outputs;let p;if(h&&null!==f&&(p=f[r])){const m=p.length;if(m)for(let g=0;g<m;g+=2){const j=e[p[g]][p[g+1]].subscribe(o),z=d.length;d.push(o,j),c&&c.push(r,i.index,z,-(z+1))}}}(o,r,r[xe],s,n,e,i),yn}function x2(n,e,t,i){try{return rr(6,e,t),!1!==t(i)}catch(r){return n2(n,r),!1}finally{rr(7,e,t)}}function E2(n,e,t,i,r){return function o(s){if(s===Function)return i;Vg(n.componentOffset>-1?Ei(n.index,e):e);let l=x2(e,t,i,s),c=o.__ngNextListenerFn__;for(;c;)l=x2(e,t,c,s)&&l,c=c.__ngNextListenerFn__;return r&&!1===l&&(s.preventDefault(),s.returnValue=!1),l}}function Ja(n=1){return function RQ(n){return(fe.lFrame.contextLView=function kQ(n,e){for(;n>0;)e=e[Ec],n--;return e}(n,fe.lFrame.contextLView))[jt]}(n)}function Ree(n,e){let t=null;const i=function iJ(n){const e=n.attrs;if(null!=e){const t=e.indexOf(5);if(!(1&t))return e[t+1]}return null}(n);for(let r=0;r<e.length;r++){const o=e[r];if("*"!==o){if(null===i?ML(n,o,!0):sJ(i,o))return r}else t=r}return t}function $g(n,e){return n<<17|e<<2}function Vs(n){return n>>17&32767}function XC(n){return 2|n}function tl(n){return(131068&n)>>2}function ZC(n,e){return-131069&n|e<<2}function JC(n){return 1|n}function P2(n,e,t,i,r){const o=n[t+1],s=null===e;let a=i?Vs(o):tl(o),l=!1;for(;0!==a&&(!1===l||s);){const u=n[a+1];Lee(n[a],e)&&(l=!0,n[a+1]=i?JC(u):XC(u)),a=i?Vs(u):tl(u)}l&&(n[t+1]=i?XC(o):JC(o))}function Lee(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&Nc(n,e)>=0}function nl(n,e,t){return Er(n,e,t,!1),nl}function no(n,e){return Er(n,e,null,!0),no}function Er(n,e,t,i){const r=T(),o=Le(),s=function Ho(n){const e=fe.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}(2);o.firstUpdatePass&&function H2(n,e,t,i){const r=n.data;if(null===r[t+1]){const o=r[hi()],s=function j2(n,e){return e>=n.expandoStartIndex}(n,t);(function W2(n,e){return 0!=(n.flags&(e?8:16))})(o,i)&&null===e&&!s&&(e=!1),e=function Wee(n,e,t,i){const r=function P0(n){const e=fe.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let o=i?e.residualClasses:e.residualStyles;if(null===r)0===(i?e.classBindings:e.styleBindings)&&(t=xh(t=ex(null,n,e,t,i),e.attrs,i),o=null);else{const s=e.directiveStylingLast;if(-1===s||n[s]!==r)if(t=ex(r,n,e,t,i),null===o){let l=function qee(n,e,t){const i=t?e.classBindings:e.styleBindings;if(0!==tl(i))return n[Vs(i)]}(n,e,i);void 0!==l&&Array.isArray(l)&&(l=ex(null,n,e,l[1],i),l=xh(l,e.attrs,i),function Kee(n,e,t,i){n[Vs(t?e.classBindings:e.styleBindings)]=i}(n,e,i,l))}else o=function Yee(n,e,t){let i;const r=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<r;o++)i=xh(i,n[o].hostAttrs,t);return xh(i,e.attrs,t)}(n,e,i)}return void 0!==o&&(i?e.residualClasses=o:e.residualStyles=o),t}(r,o,e,i),function Nee(n,e,t,i,r,o){let s=o?e.classBindings:e.styleBindings,a=Vs(s),l=tl(s);n[i]=t;let u,c=!1;if(Array.isArray(t)?(u=t[1],(null===u||Nc(t,u)>0)&&(c=!0)):u=t,r)if(0!==l){const h=Vs(n[a+1]);n[i+1]=$g(h,a),0!==h&&(n[h+1]=ZC(n[h+1],i)),n[a+1]=function Oee(n,e){return 131071&n|e<<17}(n[a+1],i)}else n[i+1]=$g(a,0),0!==a&&(n[a+1]=ZC(n[a+1],i)),a=i;else n[i+1]=$g(l,0),0===a?a=i:n[l+1]=ZC(n[l+1],i),l=i;c&&(n[i+1]=XC(n[i+1])),P2(n,u,i,!0),P2(n,u,i,!1),function Fee(n,e,t,i,r){const o=r?n.residualClasses:n.residualStyles;null!=o&&"string"==typeof e&&Nc(o,e)>=0&&(t[i+1]=JC(t[i+1]))}(e,u,n,i,o),s=$g(a,l),o?e.classBindings=s:e.styleBindings=s}(r,o,e,t,s,i)}}(o,n,s,i),e!==pe&&Jn(r,s,e)&&function $2(n,e,t,i,r,o,s,a){if(!(3&e.type))return;const l=n.data,c=l[a+1],u=function Pee(n){return 1==(1&n)}(c)?G2(l,e,t,r,tl(c),s):void 0;Gg(u)||(Gg(o)||function kee(n){return 2==(2&n)}(c)&&(o=G2(l,null,t,r,a,s)),function KX(n,e,t,i,r){if(e)r?n.addClass(t,i):n.removeClass(t,i);else{let o=-1===i.indexOf("-")?void 0:Di.DashCase;null==r?n.removeStyle(t,i,o):("string"==typeof r&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=Di.Important),n.setStyle(t,i,r,o))}}(i,s,lg(hi(),t),r,o))}(o,o.data[hi()],r,r[xe],n,r[s+1]=function Jee(n,e){return null==n||""===n||("string"==typeof e?n+=e:"object"==typeof n&&(n=at(Ui(n)))),n}(e,t),i,s)}function ex(n,e,t,i,r){let o=null;const s=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<s&&(o=e[a],i=xh(i,o.hostAttrs,r),o!==n);)a++;return null!==n&&(t.directiveStylingLast=a),i}function xh(n,e,t){const i=t?1:2;let r=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?r=s:r===i&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Bi(n,s,!!t||e[++o]))}return void 0===n?null:n}function G2(n,e,t,i,r,o){const s=null===e;let a;for(;r>0;){const l=n[r],c=Array.isArray(l),u=c?l[1]:l,d=null===u;let h=t[r+1];h===pe&&(h=d?qe:void 0);let f=d?K0(h,i):u===i?h:void 0;if(c&&!Gg(f)&&(f=K0(l,i)),Gg(f)&&(a=f,s))return a;const p=n[r+1];r=s?Vs(p):tl(p)}if(null!==e){let l=o?e.residualClasses:e.residualStyles;null!=l&&(a=K0(l,i))}return a}function Gg(n){return void 0!==n}function we(n,e=""){const t=T(),i=Le(),r=n+gt,o=i.firstCreatePass?zc(i,r,1,e,null):i.data[r],s=t[r]=function sC(n,e){return n.createText(e)}(t[xe],e);Eg(i,t,s,o),Wr(o,!1)}function Bs(n,e,t){const i=T(),r=function Gc(n,e,t,i){return Jn(n,Tc(),t)?e+he(t)+i:pe}(i,n,e,t);return r!==pe&&function Wo(n,e,t){const i=lg(e,n);!function BF(n,e,t){n.setValue(e,t)}(n[xe],i,t)}(i,hi(),r),Bs}function Wg(n,e,t){const i=T();return Jn(i,Tc(),e)&&ji(Le(),Et(),i,n,e,i[xe],t,!0),Wg}const tu="en-US";let pV=tu;function ix(n,e,t,i,r){if(n=te(n),Array.isArray(n))for(let o=0;o<n.length;o++)ix(n[o],e,t,i,r);else{const o=Le(),s=T();let a=Qa(n)?n:te(n.provide),l=CL(n);const c=On(),u=1048575&c.providerIndexes,d=c.directiveStart,h=c.providerIndexes>>20;if(Qa(n)||!n.multi){const f=new rh(l,r,b),p=ox(a,e,r?u:u+h,d);-1===p?($0(gg(c,s),o,a),rx(o,n,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=1048576),t.push(f),s.push(f)):(t[p]=f,s[p]=f)}else{const f=ox(a,e,u+h,d),p=ox(a,e,u,u+h),g=p>=0&&t[p];if(r&&!g||!r&&!(f>=0&&t[f])){$0(gg(c,s),o,a);const y=function _ne(n,e,t,i,r){const o=new rh(n,t,b);return o.multi=[],o.index=e,o.componentProviders=0,BV(o,r,i&&!t),o}(r?gne:mne,t.length,r,i,l);!r&&g&&(t[p].providerFactory=y),rx(o,n,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=1048576),t.push(y),s.push(y)}else rx(o,n,f>-1?f:p,BV(t[r?p:f],l,!r&&i));!r&&i&&g&&t[p].componentProviders++}}}function rx(n,e,t,i){const r=Qa(e),o=function AZ(n){return!!n.useClass}(e);if(r||o){const l=(o?te(e.useClass):e).prototype.ngOnDestroy;if(l){const c=n.destroyHooks||(n.destroyHooks=[]);if(!r&&e.multi){const u=c.indexOf(t);-1===u?c.push(t,[i,l]):c[u+1].push(i,l)}else c.push(t,l)}}}function BV(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function ox(n,e,t,i){for(let r=t;r<i;r++)if(e[r]===n)return r;return-1}function mne(n,e,t,i){return sx(this.multi,[])}function gne(n,e,t,i){const r=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=Wa(t,t[H],this.providerFactory.index,i);o=a.slice(0,s),sx(r,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],sx(r,o);return o}function sx(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function _e(n,e=[]){return t=>{t.providersResolver=(i,r)=>function pne(n,e,t){const i=Le();if(i.firstCreatePass){const r=Cr(n);ix(t,i.data,i.blueprint,r,!0),ix(e,i.data,i.blueprint,r,!1)}}(i,r?r(n):n,e)}}class nu{}class UV{}class jV extends nu{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new r2(this);const i=Fi(e);this._bootstrapComponents=Go(i.bootstrap),this._r3Injector=LL(e,t,[{provide:nu,useValue:this},{provide:Xa,useValue:this.componentFactoryResolver}],at(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class ax extends UV{constructor(e){super(),this.moduleType=e}create(e){return new jV(this.moduleType,e)}}class vne extends nu{constructor(e,t,i){super(),this.componentFactoryResolver=new r2(this),this.instance=null;const r=new wL([...e,{provide:nu,useValue:this},{provide:Xa,useValue:this.componentFactoryResolver}],t||kg(),i,new Set(["environment"]));this.injector=r,r.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function Xg(n,e,t=null){return new vne(n,e,t).injector}let bne=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t.id)){const i=_L(0,t.type),r=i.length>0?Xg([i],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t.id,r)}return this.cachedInjectors.get(t.id)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=k({token:n,providedIn:"environment",factory:()=>new n(w(Qr))}),n})();function lx(n){n.getStandaloneInjector=e=>e.get(bne).getOrCreateStandaloneInjector(n)}function ux(n){return e=>{setTimeout(n,void 0,e)}}const nt=class Wne extends Ae{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,i){let r=e,o=t||(()=>null),s=i;if(e&&"object"==typeof e){const l=e;r=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=ux(o),r&&(r=ux(r)),s&&(s=ux(s)));const a=super.subscribe({next:r,error:o,complete:s});return e instanceof Oe&&e.add(a),a}};function qne(){return this._results[Symbol.iterator]()}class dx{get changes(){return this._changes||(this._changes=new nt)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=dx.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=qne)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const i=this;i.dirty=!1;const r=function or(n){return n.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function ZQ(n,e,t){if(n.length!==e.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],o=e[i];if(t&&(r=t(r),o=t(o)),o!==r)return!1}return!0}(i._results,r,t))&&(i._results=r,i.length=r.length,i.last=r[this.length-1],i.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let vn=(()=>{class n{}return n.__NG_ELEMENT_ID__=Qne,n})();const Kne=vn,Yne=class extends Kne{constructor(e,t,i){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=i}createEmbeddedView(e,t){const i=this._declarationTContainer.tView,r=Ng(this._declarationLView,i,e,16,null,i.declTNode,null,null,null,null,t||null);r[eh]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[Gr];return null!==s&&(r[Gr]=s.createEmbeddedView(i)),NC(i,r,e),new vh(r)}};function Qne(){return Zg(On(),T())}function Zg(n,e){return 4&n.type?new Yne(e,n,Uc(n,e)):null}let Nn=(()=>{class n{}return n.__NG_ELEMENT_ID__=Xne,n})();function Xne(){return tB(On(),T())}const Zne=Nn,JV=class extends Zne{constructor(e,t,i){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=i}get element(){return Uc(this._hostTNode,this._hostLView)}get injector(){return new Mc(this._hostTNode,this._hostLView)}get parentInjector(){const e=z0(this._hostTNode,this._hostLView);if(oF(e)){const t=pg(e,this._hostLView),i=fg(e);return new Mc(t[H].data[i+8],t)}return new Mc(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=eB(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-ui}createEmbeddedView(e,t,i){let r,o;"number"==typeof i?r=i:null!=i&&(r=i.index,o=i.injector);const s=e.createEmbeddedView(t||{},o);return this.insert(s,r),s}createComponent(e,t,i,r,o){const s=e&&!function lh(n){return"function"==typeof n}(e);let a;if(s)a=t;else{const d=t||{};a=d.index,i=d.injector,r=d.projectableNodes,o=d.environmentInjector||d.ngModuleRef}const l=s?e:new bh(Xe(e)),c=i||this.parentInjector;if(!o&&null==l.ngModule){const h=(s?c:this.parentInjector).get(Qr,null);h&&(o=h)}const u=l.create(c,r,void 0,o);return this.insert(u.hostView,a),u}insert(e,t){const i=e._lView,r=i[H];if(function bQ(n){return wr(n[kt])}(i)){const u=this.indexOf(e);if(-1!==u)this.detach(u);else{const d=i[kt],h=new JV(d,d[Yn],d[kt]);h.detach(h.indexOf(e))}}const o=this._adjustIndex(t),s=this._lContainer;!function UX(n,e,t,i){const r=ui+i,o=t.length;i>0&&(t[r-1][br]=e),i<o-ui?(e[br]=t[r],_F(t,ui+i,e)):(t.push(e),e[br]=null),e[kt]=t;const s=e[eh];null!==s&&t!==s&&function jX(n,e){const t=n[Ic];e[Qn]!==e[kt][kt][Qn]&&(n[RN]=!0),null===t?n[Ic]=[e]:t.push(e)}(s,e);const a=e[Gr];null!==a&&a.insertView(n),e[be]|=64}(r,i,s,o);const a=dC(o,s),l=i[xe],c=xg(l,s[og]);return null!==c&&function LX(n,e,t,i,r,o){i[Uo]=r,i[Yn]=e,ph(n,i,t,1,r,o)}(r,s[Yn],l,i,c,a),e.attachToViewContainerRef(),_F(hx(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=eB(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),i=lC(this._lContainer,t);i&&(yg(hx(this._lContainer),t),jF(i[H],i))}detach(e){const t=this._adjustIndex(e,-1),i=lC(this._lContainer,t);return i&&null!=yg(hx(this._lContainer),t)?new vh(i):null}_adjustIndex(e,t=0){return e??this.length+t}};function eB(n){return n[sg]}function hx(n){return n[sg]||(n[sg]=[])}function tB(n,e){let t;const i=e[n.index];if(wr(i))t=i;else{let r;if(8&n.type)r=kn(i);else{const o=e[xe];r=o.createComment("");const s=Vi(n,e);Ka(o,xg(o,s),r,function GX(n,e){return n.nextSibling(e)}(o,s),!1)}e[n.index]=t=ZL(i,e,r,n),Lg(e,t)}return new JV(t,n,e)}class fx{constructor(e){this.queryList=e,this.matches=null}clone(){return new fx(this.queryList)}setDirty(){this.queryList.setDirty()}}class px{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const i=null!==e.contentQueries?e.contentQueries[0]:t.length,r=[];for(let o=0;o<i;o++){const s=t.getByIndex(o);r.push(this.queries[s.indexInDeclarationView].clone())}return new px(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==sB(e,t).matches&&this.queries[t].setDirty()}}class nB{constructor(e,t,i=null){this.predicate=e,this.flags=t,this.read=i}}class mx{constructor(e=[]){this.queries=e}elementStart(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let i=0;i<this.length;i++){const r=null!==t?t.length:0,o=this.getByIndex(i).embeddedTView(e,r);o&&(o.indexInDeclarationView=i,null!==t?t.push(o):t=[o])}return null!==t?new mx(t):null}template(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class gx{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new gx(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let i=e.parent;for(;null!==i&&8&i.type&&i.index!==t;)i=i.parent;return t===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const o=i[r];this.matchTNodeWithReadOption(e,t,Jne(t,o)),this.matchTNodeWithReadOption(e,t,_g(t,e,o,!1,!1))}else i===vn?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,_g(t,e,i,!1,!1))}matchTNodeWithReadOption(e,t,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===$e||r===Nn||r===vn&&4&t.type)this.addMatch(t.index,-2);else{const o=_g(t,e,r,!1,!1);null!==o&&this.addMatch(t.index,o)}else this.addMatch(t.index,i)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function Jne(n,e){const t=n.localNames;if(null!==t)for(let i=0;i<t.length;i+=2)if(t[i]===e)return t[i+1];return null}function tie(n,e,t,i){return-1===t?function eie(n,e){return 11&n.type?Uc(n,e):4&n.type?Zg(n,e):null}(e,n):-2===t?function nie(n,e,t){return t===$e?Uc(e,n):t===vn?Zg(e,n):t===Nn?tB(e,n):void 0}(n,e,i):Wa(n,n[H],t,e)}function iB(n,e,t,i){const r=e[Gr].queries[i];if(null===r.matches){const o=n.data,s=t.matches,a=[];for(let l=0;l<s.length;l+=2){const c=s[l];a.push(c<0?null:tie(e,o[c],s[l+1],t.metadata.read))}r.matches=a}return r.matches}function _x(n,e,t,i){const r=n.queries.getByIndex(t),o=r.matches;if(null!==o){const s=iB(n,e,r,t);for(let a=0;a<o.length;a+=2){const l=o[a];if(l>0)i.push(s[a/2]);else{const c=o[a+1],u=e[-l];for(let d=ui;d<u.length;d++){const h=u[d];h[eh]===h[kt]&&_x(h[H],h,c,i)}if(null!==u[Ic]){const d=u[Ic];for(let h=0;h<d.length;h++){const f=d[h];_x(f[H],f,c,i)}}}}}return i}function dn(n){const e=T(),t=Le(),i=YN();N0(i+1);const r=sB(t,i);if(n.dirty&&function vQ(n){return 4==(4&n[be])}(e)===(2==(2&r.metadata.flags))){if(null===r.matches)n.reset([]);else{const o=r.crossesNgTemplate?_x(t,e,i,[]):iB(t,e,r,i);n.reset(o,UZ),n.notifyOnChanges()}return!0}return!1}function oo(n,e,t){const i=Le();i.firstCreatePass&&(function oB(n,e,t){null===n.queries&&(n.queries=new mx),n.queries.track(new gx(e,t))}(i,new nB(n,e,t),-1),2==(2&e)&&(i.staticViewQueries=!0)),function rB(n,e,t){const i=new dx(4==(4&t));qL(n,e,i,i.destroy),null===e[Gr]&&(e[Gr]=new px),e[Gr].queries.push(new fx(i))}(i,T(),e)}function hn(){return function iie(n,e){return n[Gr].queries[e].queryList}(T(),YN())}function sB(n,e){return n.queries.getByIndex(e)}function e_(...n){}const t_=new I("Application Initializer");let n_=(()=>{class n{constructor(t){this.appInits=t,this.resolve=e_,this.reject=e_,this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,r)=>{this.resolve=i,this.reject=r})}runInitializers(){if(this.initialized)return;const t=[],i=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let r=0;r<this.appInits.length;r++){const o=this.appInits[r]();if(Ch(o))t.push(o);else if(YC(o)){const s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});t.push(s)}}Promise.all(t).then(()=>{i()}).catch(r=>{this.reject(r)}),0===t.length&&i(),this.initialized=!0}}return n.\u0275fac=function(t){return new(t||n)(w(t_,8))},n.\u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const kh=new I("AppId",{providedIn:"root",factory:function EB(){return`${xx()}${xx()}${xx()}`}});function xx(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const DB=new I("Platform Initializer"),ou=new I("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Oh=new I("AnimationModuleType");let Die=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const ao=new I("LocaleId",{providedIn:"root",factory:()=>le(ao,ne.Optional|ne.SkipSelf)||function Iie(){return typeof $localize<"u"&&$localize.locale||tu}()});class Tie{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let IB=(()=>{class n{compileModuleSync(t){return new ax(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const i=this.compileModuleSync(t),o=Go(Fi(t).declarations).reduce((s,a)=>{const l=Xe(a);return l&&s.push(new bh(l)),s},[]);return new Tie(i,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Rie=(()=>Promise.resolve(0))();function Ex(n){typeof Zone>"u"?Rie.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class ae{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new nt(!1),this.onMicrotaskEmpty=new nt(!1),this.onStable=new nt(!1),this.onError=new nt(!1),typeof Zone>"u")throw new D(908,!1);Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&t,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function kie(){let n=mt.requestAnimationFrame,e=mt.cancelAnimationFrame;if(typeof Zone<"u"&&n&&e){const t=n[Zone.__symbol__("OriginalDelegate")];t&&(n=t);const i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function Nie(n){const e=()=>{!function Pie(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(mt,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,Ix(n),n.isCheckStableRunning=!0,Dx(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),Ix(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,i,r,o,s,a)=>{try{return AB(n),t.invokeTask(r,o,s,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||n.shouldCoalesceRunChangeDetection)&&e(),MB(n)}},onInvoke:(t,i,r,o,s,a,l)=>{try{return AB(n),t.invoke(r,o,s,a,l)}finally{n.shouldCoalesceRunChangeDetection&&e(),MB(n)}},onHasTask:(t,i,r,o)=>{t.hasTask(r,o),i===r&&("microTask"==o.change?(n._hasPendingMicrotasks=o.microTask,Ix(n),Dx(n)):"macroTask"==o.change&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(t,i,r,o)=>(t.handleError(r,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}(r)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ae.isInAngularZone())throw new D(909,!1)}static assertNotInAngularZone(){if(ae.isInAngularZone())throw new D(909,!1)}run(e,t,i){return this._inner.run(e,t,i)}runTask(e,t,i,r){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,e,Oie,e_,e_);try{return o.runTask(s,t,i)}finally{o.cancelTask(s)}}runGuarded(e,t,i){return this._inner.runGuarded(e,t,i)}runOutsideAngular(e){return this._outer.run(e)}}const Oie={};function Dx(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Ix(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function AB(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function MB(n){n._nesting--,Dx(n)}class Fie{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new nt,this.onMicrotaskEmpty=new nt,this.onStable=new nt,this.onError=new nt}run(e,t,i){return e.apply(t,i)}runGuarded(e,t,i){return e.apply(t,i)}runOutsideAngular(e){return e()}runTask(e,t,i,r){return e.apply(t,i)}}const RB=new I(""),i_=new I("");let Ax,Sx=(()=>{class n{constructor(t,i,r){this._ngZone=t,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Ax||(function Lie(n){Ax=n}(r),r.addToWindow(i)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ae.assertNotInAngularZone(),Ex(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Ex(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(t)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,i,r){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),t(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:t,timeoutId:o,updateCb:r})}whenStable(t,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,i,r){return[]}}return n.\u0275fac=function(t){return new(t||n)(w(ae),w(Tx),w(i_))},n.\u0275prov=k({token:n,factory:n.\u0275fac}),n})(),Tx=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,i){this._applications.set(t,i)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,i=!0){return Ax?.findTestabilityInTree(this,t,i)??null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const qo=!1;let Us=null;const kB=new I("AllowMultipleToken"),Mx=new I("PlatformDestroyListeners"),OB=new I("appBootstrapListener");class PB{constructor(e,t){this.name=e,this.token=t}}function FB(n,e,t=[]){const i=`Platform: ${e}`,r=new I(i);return(o=[])=>{let s=Rx();if(!s||s.injector.get(kB,!1)){const a=[...t,...o,{provide:r,useValue:!0}];n?n(a):function Uie(n){if(Us&&!Us.get(kB,!1))throw new D(400,!1);Us=n;const e=n.get(VB);(function NB(n){const e=n.get(DB,null);e&&e.forEach(t=>t())})(n)}(function LB(n=[],e){return Ot.create({name:e,providers:[{provide:xC,useValue:"platform"},{provide:Mx,useValue:new Set([()=>Us=null])},...n]})}(a,i))}return function Hie(n){const e=Rx();if(!e)throw new D(401,!1);return e}()}}function Rx(){return Us?.get(VB)??null}let VB=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,i){const r=function UB(n,e){let t;return t="noop"===n?new Fie:("zone.js"===n?void 0:n)||new ae(e),t}(i?.ngZone,function BB(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(i)),o=[{provide:ae,useValue:r}];return r.run(()=>{const s=Ot.create({providers:o,parent:this.injector,name:t.moduleType.name}),a=t.create(s),l=a.injector.get(Ls,null);if(!l)throw new D(402,!1);return r.runOutsideAngular(()=>{const c=r.onError.subscribe({next:u=>{l.handleError(u)}});a.onDestroy(()=>{r_(this._modules,a),c.unsubscribe()})}),function jB(n,e,t){try{const i=t();return Ch(i)?i.catch(r=>{throw e.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw e.runOutsideAngular(()=>n.handleError(i)),i}}(l,r,()=>{const c=a.injector.get(n_);return c.runInitializers(),c.donePromise.then(()=>(function mV(n){nr(n,"Expected localeId to be defined"),"string"==typeof n&&(pV=n.toLowerCase().replace(/_/g,"-"))}(a.injector.get(ao,tu)||tu),this._moduleDoBootstrap(a),a))})})}bootstrapModule(t,i=[]){const r=HB({},i);return function Vie(n,e,t){const i=new ax(t);return Promise.resolve(i)}(0,0,t).then(o=>this.bootstrapModuleFactory(o,r))}_moduleDoBootstrap(t){const i=t.injector.get(su);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!t.instance.ngDoBootstrap)throw new D(-403,!1);t.instance.ngDoBootstrap(i)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new D(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const t=this._injector.get(Mx,null);t&&(t.forEach(i=>i()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(t){return new(t||n)(w(Ot))},n.\u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function HB(n,e){return Array.isArray(e)?e.reduce(HB,n):{...n,...e}}let su=(()=>{class n{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(t,i,r){this._zone=t,this._injector=i,this._exceptionHandler=r,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const o=new We(a=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{a.next(this._stable),a.complete()})}),s=new We(a=>{let l;this._zone.runOutsideAngular(()=>{l=this._zone.onStable.subscribe(()=>{ae.assertNotInAngularZone(),Ex(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,a.next(!0))})})});const c=this._zone.onUnstable.subscribe(()=>{ae.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{a.next(!1)}))});return()=>{l.unsubscribe(),c.unsubscribe()}});this.isStable=p0(o,s.pipe(function yN(n={}){const{connector:e=(()=>new Ae),resetOnError:t=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=n;return o=>{let s,a,l,c=0,u=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),s=l=void 0,u=d=!1},p=()=>{const m=s;f(),m?.unsubscribe()};return Rt((m,g)=>{c++,!d&&!u&&h();const y=l=l??e();g.add(()=>{c--,0===c&&!d&&!u&&(a=m0(p,r))}),y.subscribe(g),!s&&c>0&&(s=new qd({next:x=>y.next(x),error:x=>{d=!0,h(),a=m0(f,t,x),y.error(x)},complete:()=>{u=!0,h(),a=m0(f,i),y.complete()}}),ci(m).subscribe(s))})(o)}}()))}bootstrap(t,i){const r=t instanceof xL;if(!this._injector.get(n_).done){!r&&function Cc(n){const e=Xe(n)||Kn(n)||xi(n);return null!==e&&e.standalone}(t);throw new D(405,qo)}let s;s=r?t:this._injector.get(Xa).resolveComponentFactory(t),this.componentTypes.push(s.componentType);const a=function Bie(n){return n.isBoundToModule}(s)?void 0:this._injector.get(nu),c=s.create(Ot.NULL,[],i||s.selector,a),u=c.location.nativeElement,d=c.injector.get(RB,null);return d?.registerApplication(u),c.onDestroy(()=>{this.detachView(c.hostView),r_(this.components,c),d?.unregisterApplication(u)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new D(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const i=t;this._views.push(i),i.attachToAppRef(this)}detachView(t){const i=t;r_(this._views,i),i.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const i=this._injector.get(OB,[]);i.push(...this._bootstrapListeners),i.forEach(r=>r(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>r_(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new D(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(t){return new(t||n)(w(ae),w(Qr),w(Ls))},n.\u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function r_(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}let au=(()=>{class n{}return n.__NG_ELEMENT_ID__=$ie,n})();function $ie(n){return function Gie(n,e,t){if(nh(n)&&!t){const i=Ei(n.index,e);return new vh(i,i)}return 47&n.type?new vh(e[Qn],e):null}(On(),T(),16==(16&n))}const rre=FB(null,"core",[]);let ore=(()=>{class n{constructor(t){}}return n.\u0275fac=function(t){return new(t||n)(w(su))},n.\u0275mod=ce({type:n}),n.\u0275inj=se({}),n})();function lu(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}let Fx=null;function Yo(){return Fx}class lre{}const ye=new I("DocumentToken");let Lx=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=k({token:n,factory:function(){return function cre(){return w(JB)}()},providedIn:"platform"}),n})();const ure=new I("Location Initialized");let JB=(()=>{class n extends Lx{constructor(t){super(),this._doc=t,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Yo().getBaseHref(this._doc)}onPopState(t){const i=Yo().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=Yo().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,i,r){eU()?this._history.pushState(t,i,r):this._location.hash=r}replaceState(t,i,r){eU()?this._history.replaceState(t,i,r):this._location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(w(ye))},n.\u0275prov=k({token:n,factory:function(){return function dre(){return new JB(w(ye))}()},providedIn:"platform"}),n})();function eU(){return!!window.history.pushState}function Vx(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function tU(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Qo(n){return n&&"?"!==n[0]?"?"+n:n}let ol=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=k({token:n,factory:function(){return le(iU)},providedIn:"root"}),n})();const nU=new I("appBaseHref");let iU=(()=>{class n extends ol{constructor(t,i){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??le(ye).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Vx(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+Qo(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,o){const s=this.prepareExternalUrl(r+Qo(o));this._platformLocation.pushState(t,i,s)}replaceState(t,i,r,o){const s=this.prepareExternalUrl(r+Qo(o));this._platformLocation.replaceState(t,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(w(Lx),w(nU,8))},n.\u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),hre=(()=>{class n extends ol{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(t){const i=Vx(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,o){let s=this.prepareExternalUrl(r+Qo(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(t,i,s)}replaceState(t,i,r,o){let s=this.prepareExternalUrl(r+Qo(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(w(Lx),w(nU,8))},n.\u0275prov=k({token:n,factory:n.\u0275fac}),n})(),Nh=(()=>{class n{constructor(t){this._subject=new nt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const i=this._locationStrategy.getBaseHref();this._basePath=function mre(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(tU(rU(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+Qo(i))}normalize(t){return n.stripTrailingSlash(function pre(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,rU(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Qo(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Qo(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}}return n.normalizeQueryParams=Qo,n.joinWithSlash=Vx,n.stripTrailingSlash=tU,n.\u0275fac=function(t){return new(t||n)(w(ol))},n.\u0275prov=k({token:n,factory:function(){return function fre(){return new Nh(w(ol))}()},providedIn:"root"}),n})();function rU(n){return n.replace(/\/index.html$/,"")}function fU(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[r,o]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(o)}return null}let Yx=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new ioe,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){yU("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){yU("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(b(Nn),b(vn))},n.\u0275dir=O({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class ioe{constructor(){this.$implicit=null,this.ngIf=null}}function yU(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${at(e)}'.`)}let js=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ce({type:n}),n.\u0275inj=se({}),n})();const wU="browser";let koe=(()=>{class n{}return n.\u0275prov=k({token:n,providedIn:"root",factory:()=>new Ooe(w(ye),window)}),n})();class Ooe{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Poe(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const o=r.shadowRoot;if(o){const s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}r=i.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=CU(this.window.history)||CU(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function CU(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class xU{}class ase extends lre{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class nE extends ase{static makeCurrent(){!function are(n){Fx||(Fx=n)}(new nE)}onAndCancel(e,t,i){return e.addEventListener(t,i,!1),()=>{e.removeEventListener(t,i,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function lse(){return Bh=Bh||document.querySelector("base"),Bh?Bh.getAttribute("href"):null}();return null==t?null:function cse(n){y_=y_||document.createElement("a"),y_.setAttribute("href",n);const e=y_.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Bh=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return fU(document.cookie,e)}}let y_,Bh=null;const TU=new I("TRANSITION_ID"),dse=[{provide:t_,useFactory:function use(n,e,t){return()=>{t.get(n_).donePromise.then(()=>{const i=Yo(),r=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let o=0;o<r.length;o++)i.remove(r[o])})}},deps:[TU,ye,Ot],multi:!0}];let fse=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=k({token:n,factory:n.\u0275fac}),n})();const v_=new I("EventManagerPlugins");let b_=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>{r.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}addGlobalEventListener(t,i,r){return this._findPluginFor(i).addGlobalEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){const i=this._eventNameToPlugin.get(t);if(i)return i;const r=this._plugins;for(let o=0;o<r.length;o++){const s=r[o];if(s.supports(t))return this._eventNameToPlugin.set(t,s),s}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(w(v_),w(ae))},n.\u0275prov=k({token:n,factory:n.\u0275fac}),n})();class AU{constructor(e){this._doc=e}addGlobalEventListener(e,t,i){const r=Yo().getGlobalEventTarget(this._doc,e);if(!r)throw new Error(`Unsupported event target ${r} for event ${t}`);return this.addEventListener(r,t,i)}}let MU=(()=>{class n{constructor(){this.usageCount=new Map}addStyles(t){for(const i of t)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(t){for(const i of t)0===this.changeUsageCount(i,-1)&&this.onStyleRemoved(i)}onStyleRemoved(t){}onStyleAdded(t){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(t,i){const r=this.usageCount;let o=r.get(t)??0;return o+=i,o>0?r.set(t,o):r.delete(t),o}ngOnDestroy(){for(const t of this.getAllStyles())this.onStyleRemoved(t);this.usageCount.clear()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=k({token:n,factory:n.\u0275fac}),n})(),Uh=(()=>{class n extends MU{constructor(t){super(),this.doc=t,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(t){for(const i of this.hostNodes)this.addStyleToHost(i,t)}onStyleRemoved(t){const i=this.styleRef;i.get(t)?.forEach(o=>o.remove()),i.delete(t)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const i of this.getAllStyles())this.addStyleToHost(t,i)}removeHost(t){this.hostNodes.delete(t)}addStyleToHost(t,i){const r=this.doc.createElement("style");r.textContent=i,t.appendChild(r);const o=this.styleRef.get(i);o?o.push(r):this.styleRef.set(i,[r])}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}}return n.\u0275fac=function(t){return new(t||n)(w(ye))},n.\u0275prov=k({token:n,factory:n.\u0275fac}),n})();const iE={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},rE=/%COMP%/g,OU=new I("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function PU(n,e){return e.flat(100).map(t=>t.replace(rE,n))}function NU(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let w_=(()=>{class n{constructor(t,i,r,o){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestory=o,this.rendererByCompId=new Map,this.defaultRenderer=new oE(t)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;const r=this.getOrCreateRenderer(t,i);return r instanceof VU?r.applyToHost(t):r instanceof sE&&r.applyStyles(),r}getOrCreateRenderer(t,i){const r=this.rendererByCompId;let o=r.get(i.id);if(!o){const s=this.eventManager,a=this.sharedStylesHost,l=this.removeStylesOnCompDestory;switch(i.encapsulation){case vr.Emulated:o=new VU(s,a,i,this.appId,l);break;case vr.ShadowDom:return new bse(s,a,t,i);default:o=new sE(s,a,i,l)}o.onDestroy=()=>r.delete(i.id),r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(w(b_),w(Uh),w(kh),w(OU))},n.\u0275prov=k({token:n,factory:n.\u0275fac}),n})();class oE{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(iE[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(LU(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(LU(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?document.querySelector(e):e;if(!i)throw new Error(`The selector "${e}" did not match any elements`);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const o=iE[r];o?e.setAttributeNS(o,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=iE[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(Di.DashCase|Di.Important)?e.style.setProperty(t,i,r&Di.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&Di.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,NU(i)):this.eventManager.addEventListener(e,t,NU(i))}}function LU(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class bse extends oE{constructor(e,t,i,r){super(e),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=PU(r.id,r.styles);for(const s of o){const a=document.createElement("style");a.textContent=s,this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class sE extends oE{constructor(e,t,i,r,o=i.id){super(e),this.sharedStylesHost=t,this.removeStylesOnCompDestory=r,this.rendererUsageCount=0,this.styles=PU(o,i.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class VU extends sE{constructor(e,t,i,r,o){const s=r+"-"+i.id;super(e,t,i,o,s),this.contentAttr=function _se(n){return"_ngcontent-%COMP%".replace(rE,n)}(s),this.hostAttr=function yse(n){return"_nghost-%COMP%".replace(rE,n)}(s)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}let wse=(()=>{class n extends AU{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}}return n.\u0275fac=function(t){return new(t||n)(w(ye))},n.\u0275prov=k({token:n,factory:n.\u0275fac}),n})();const BU=["alt","control","meta","shift"],Cse={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},xse={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Ese=(()=>{class n extends AU{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const o=n.parseEventName(i),s=n.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Yo().onAndCancel(t,o.domEventName,s))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const o=n._normalizeKey(i.pop());let s="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),s="code."),BU.forEach(c=>{const u=i.indexOf(c);u>-1&&(i.splice(u,1),s+=c+".")}),s+=o,0!=i.length||0===o.length)return null;const l={};return l.domEventName=r,l.fullKey=s,l}static matchEventFullKeyCode(t,i){let r=Cse[t.key]||t.key,o="";return i.indexOf("code.")>-1&&(r=t.code,o="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),BU.forEach(s=>{s!==r&&(0,xse[s])(t)&&(o+=s+".")}),o+=r,o===i)}static eventCallback(t,i,r){return o=>{n.matchEventFullKeyCode(o,t)&&r.runGuarded(()=>i(o))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(w(ye))},n.\u0275prov=k({token:n,factory:n.\u0275fac}),n})();const jU=[{provide:ou,useValue:wU},{provide:DB,useValue:function Dse(){nE.makeCurrent()},multi:!0},{provide:ye,useFactory:function Sse(){return function JX(n){mC=n}(document),document},deps:[]}],Tse=FB(rre,"browser",jU),HU=new I(""),zU=[{provide:i_,useClass:class hse{addToWindow(e){mt.getAngularTestability=(i,r=!0)=>{const o=e.findTestabilityInTree(i,r);if(null==o)throw new Error("Could not find testability for element.");return o},mt.getAllAngularTestabilities=()=>e.getAllTestabilities(),mt.getAllAngularRootElements=()=>e.getAllRootElements(),mt.frameworkStabilizers||(mt.frameworkStabilizers=[]),mt.frameworkStabilizers.push(i=>{const r=mt.getAllAngularTestabilities();let o=r.length,s=!1;const a=function(l){s=s||l,o--,0==o&&i(s)};r.forEach(function(l){l.whenStable(a)})})}findTestabilityInTree(e,t,i){return null==t?null:e.getTestability(t)??(i?Yo().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:RB,useClass:Sx,deps:[ae,Tx,i_]},{provide:Sx,useClass:Sx,deps:[ae,Tx,i_]}],$U=[{provide:xC,useValue:"root"},{provide:Ls,useFactory:function Ise(){return new Ls},deps:[]},{provide:v_,useClass:wse,multi:!0,deps:[ye,ae,ou]},{provide:v_,useClass:Ese,multi:!0,deps:[ye]},{provide:w_,useClass:w_,deps:[b_,Uh,kh,OU]},{provide:_h,useExisting:w_},{provide:MU,useExisting:Uh},{provide:Uh,useClass:Uh,deps:[ye]},{provide:b_,useClass:b_,deps:[v_,ae]},{provide:xU,useClass:fse,deps:[]},[]];let GU=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:kh,useValue:t.appId},{provide:TU,useExisting:kh},dse]}}}return n.\u0275fac=function(t){return new(t||n)(w(HU,12))},n.\u0275mod=ce({type:n}),n.\u0275inj=se({providers:[...$U,...zU],imports:[js,ore]}),n})(),WU=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(w(ye))},n.\u0275prov=k({token:n,factory:function(t){let i=null;return i=t?new t:function Mse(){return new WU(w(ye))}(),i},providedIn:"root"}),n})();function G(...n){return Ut(n,Kd(n))}typeof window<"u"&&window;class $i extends Ae{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}}const C_=yc(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"}),{isArray:Fse}=Array,{getPrototypeOf:Lse,prototype:Vse,keys:Bse}=Object;function QU(n){if(1===n.length){const e=n[0];if(Fse(e))return{args:e,keys:null};if(function Use(n){return n&&"object"==typeof n&&Lse(n)===Vse}(e)){const t=Bse(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}const{isArray:jse}=Array;function uE(n){return ie(e=>function Hse(n,e){return jse(e)?n(...e):n(e)}(n,e))}function XU(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}function dE(...n){const e=Kd(n),t=gN(n),{args:i,keys:r}=QU(n);if(0===i.length)return Ut([],e);const o=new We(function zse(n,e,t=Os){return i=>{ZU(e,()=>{const{length:r}=n,o=new Array(r);let s=r,a=r;for(let l=0;l<r;l++)ZU(e,()=>{const c=Ut(n[l],e);let u=!1;c.subscribe(bt(i,d=>{o[l]=d,u||(u=!0,a--),a||i.next(t(o.slice()))},()=>{--s||i.complete()}))},i)},i)}}(i,e,r?s=>XU(r,s):Os));return t?o.pipe(uE(t)):o}function ZU(n,e,t){n?Fo(t,n,e):e()}function x_(...n){return function $se(){return bc(1)}()(Ut(n,Kd(n)))}function E_(n){return new We(e=>{ci(n()).subscribe(e)})}function cu(n,e){const t=ke(n)?n:()=>n,i=r=>r.error(t());return new We(e?r=>e.schedule(i,0,r):i)}function hE(){return Rt((n,e)=>{let t=null;n._refCount++;const i=bt(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const r=n._connection,o=t;t=null,r&&(!o||r===o)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}class fE extends We{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,tN(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Oe;const t=this.getSubject();e.add(this.source.subscribe(bt(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Oe.EMPTY)}return e}refCount(){return hE()(this)}}function lo(n,e){return Rt((t,i)=>{let r=null,o=0,s=!1;const a=()=>s&&!r&&i.complete();t.subscribe(bt(i,l=>{r?.unsubscribe();let c=0;const u=o++;ci(n(l,u)).subscribe(r=bt(i,d=>i.next(e?e(l,d,u,c++):d),()=>{r=null,a()}))},()=>{s=!0,a()}))})}function Ti(n){return n<=0?()=>zr:Rt((e,t)=>{let i=0;e.subscribe(bt(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function jh(...n){const e=Kd(n);return Rt((t,i)=>{(e?x_(n,t,e):x_(n,t)).subscribe(i)})}function ei(n,e){return Rt((t,i)=>{let r=0;t.subscribe(bt(i,o=>n.call(e,o,r++)&&i.next(o)))})}function D_(n){return Rt((e,t)=>{let i=!1;e.subscribe(bt(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function JU(n=Gse){return Rt((e,t)=>{let i=!1;e.subscribe(bt(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function Gse(){return new C_}function zs(n,e){const t=arguments.length>=2;return i=>i.pipe(n?ei((r,o)=>n(r,o,i)):Os,Ti(1),t?D_(e):JU(()=>new C_))}function $s(n,e){return ke(e)?_n(n,e,1):_n(n,1)}function Xt(n,e,t){const i=ke(n)||e||t?{next:n,error:e,complete:t}:n;return i?Rt((r,o)=>{var s;null===(s=i.subscribe)||void 0===s||s.call(i);let a=!0;r.subscribe(bt(o,l=>{var c;null===(c=i.next)||void 0===c||c.call(i,l),o.next(l)},()=>{var l;a=!1,null===(l=i.complete)||void 0===l||l.call(i),o.complete()},l=>{var c;a=!1,null===(c=i.error)||void 0===c||c.call(i,l),o.error(l)},()=>{var l,c;a&&(null===(l=i.unsubscribe)||void 0===l||l.call(i)),null===(c=i.finalize)||void 0===c||c.call(i)}))}):Os}function Zo(n){return Rt((e,t)=>{let o,i=null,r=!1;i=e.subscribe(bt(t,void 0,void 0,s=>{o=ci(n(s,Zo(n)(e))),i?(i.unsubscribe(),i=null,o.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(t))})}function ej(n,e){return Rt(function Wse(n,e,t,i,r){return(o,s)=>{let a=t,l=e,c=0;o.subscribe(bt(s,u=>{const d=c++;l=a?n(l,u,d):(a=!0,u),i&&s.next(l)},r&&(()=>{a&&s.next(l),s.complete()})))}}(n,e,arguments.length>=2,!0))}function pE(n){return n<=0?()=>zr:Rt((e,t)=>{let i=[];e.subscribe(bt(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function tj(n,e){const t=arguments.length>=2;return i=>i.pipe(n?ei((r,o)=>n(r,o,i)):Os,pE(1),t?D_(e):JU(()=>new C_))}function I_(n){return Rt((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const me="primary",Hh=Symbol("RouteTitle");class Yse{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function uu(n){return new Yse(n)}function Qse(n,e,t){const i=t.path.split("/");if(i.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||i.length<n.length))return null;const r={};for(let o=0;o<i.length;o++){const s=i[o],a=n[o];if(s.startsWith(":"))r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function co(n,e){const t=n?Object.keys(n):void 0,i=e?Object.keys(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let o=0;o<t.length;o++)if(r=t[o],!nj(n[r],e[r]))return!1;return!0}function nj(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),i=[...e].sort();return t.every((r,o)=>i[o]===r)}return n===e}function ij(n){return Array.prototype.concat.apply([],n)}function rj(n){return n.length>0?n[n.length-1]:null}function Fn(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Gs(n){return YC(n)?n:Ch(n)?Ut(Promise.resolve(n)):G(n)}const S_=!1,Zse={exact:function aj(n,e,t){if(!sl(n.segments,e.segments)||!T_(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!n.children[i]||!aj(n.children[i],e.children[i],t))return!1;return!0},subset:lj},oj={exact:function Jse(n,e){return co(n,e)},subset:function eae(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>nj(n[t],e[t]))},ignored:()=>!0};function sj(n,e,t){return Zse[t.paths](n.root,e.root,t.matrixParams)&&oj[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function lj(n,e,t){return cj(n,e,e.segments,t)}function cj(n,e,t,i){if(n.segments.length>t.length){const r=n.segments.slice(0,t.length);return!(!sl(r,t)||e.hasChildren()||!T_(r,t,i))}if(n.segments.length===t.length){if(!sl(n.segments,t)||!T_(n.segments,t,i))return!1;for(const r in e.children)if(!n.children[r]||!lj(n.children[r],e.children[r],i))return!1;return!0}{const r=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!!(sl(n.segments,r)&&T_(n.segments,r,i)&&n.children[me])&&cj(n.children[me],e,o,i)}}function T_(n,e,t){return e.every((i,r)=>oj[t](n[r].parameters,i.parameters))}class Ws{constructor(e=new De([],{}),t={},i=null){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=uu(this.queryParams)),this._queryParamMap}toString(){return iae.serialize(this)}}class De{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Fn(t,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return A_(this)}}class zh{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=uu(this.parameters)),this._parameterMap}toString(){return hj(this)}}function sl(n,e){return n.length===e.length&&n.every((t,i)=>t.path===e[i].path)}let $h=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=k({token:n,factory:function(){return new mE},providedIn:"root"}),n})();class mE{parse(e){const t=new hae(e);return new Ws(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Gh(e.root,!0)}`,i=function sae(n){const e=Object.keys(n).map(t=>{const i=n[t];return Array.isArray(i)?i.map(r=>`${M_(t)}=${M_(r)}`).join("&"):`${M_(t)}=${M_(i)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${i}${"string"==typeof e.fragment?`#${function rae(n){return encodeURI(n)}(e.fragment)}`:""}`}}const iae=new mE;function A_(n){return n.segments.map(e=>hj(e)).join("/")}function Gh(n,e){if(!n.hasChildren())return A_(n);if(e){const t=n.children[me]?Gh(n.children[me],!1):"",i=[];return Fn(n.children,(r,o)=>{o!==me&&i.push(`${o}:${Gh(r,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function nae(n,e){let t=[];return Fn(n.children,(i,r)=>{r===me&&(t=t.concat(e(i,r)))}),Fn(n.children,(i,r)=>{r!==me&&(t=t.concat(e(i,r)))}),t}(n,(i,r)=>r===me?[Gh(n.children[me],!1)]:[`${r}:${Gh(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[me]?`${A_(n)}/${t[0]}`:`${A_(n)}/(${t.join("//")})`}}function uj(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function M_(n){return uj(n).replace(/%3B/gi,";")}function gE(n){return uj(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function R_(n){return decodeURIComponent(n)}function dj(n){return R_(n.replace(/\+/g,"%20"))}function hj(n){return`${gE(n.path)}${function oae(n){return Object.keys(n).map(e=>`;${gE(e)}=${gE(n[e])}`).join("")}(n.parameters)}`}const aae=/^[^\/()?;=#]+/;function k_(n){const e=n.match(aae);return e?e[0]:""}const lae=/^[^=?&#]+/,uae=/^[^&#]+/;class hae{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new De([],{}):new De([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[me]=new De(e,t)),i}parseSegment(){const e=k_(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new D(4009,S_);return this.capture(e),new zh(R_(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=k_(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const r=k_(this.remaining);r&&(i=r,this.capture(i))}e[R_(t)]=R_(i)}parseQueryParam(e){const t=function cae(n){const e=n.match(lae);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const s=function dae(n){const e=n.match(uae);return e?e[0]:""}(this.remaining);s&&(i=s,this.capture(i))}const r=dj(t),o=dj(i);if(e.hasOwnProperty(r)){let s=e[r];Array.isArray(s)||(s=[s],e[r]=s),s.push(o)}else e[r]=o}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=k_(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new D(4010,S_);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=me);const s=this.parseChildren();t[o]=1===Object.keys(s).length?s[me]:new De([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new D(4011,S_)}}function _E(n){return n.segments.length>0?new De([],{[me]:n}):n}function O_(n){const e={};for(const i of Object.keys(n.children)){const o=O_(n.children[i]);(o.segments.length>0||o.hasChildren())&&(e[i]=o)}return function fae(n){if(1===n.numberOfChildren&&n.children[me]){const e=n.children[me];return new De(n.segments.concat(e.segments),e.children)}return n}(new De(n.segments,e))}function al(n){return n instanceof Ws}const yE=!1;function pae(n,e,t,i,r){if(0===t.length)return du(e.root,e.root,e.root,i,r);const o=function _j(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new gj(!0,0,n);let e=0,t=!1;const i=n.reduce((r,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Fn(o.outlets,(l,c)=>{a[c]="string"==typeof l?l.split("/"):l}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return"string"!=typeof o?[...r,o]:0===s?(o.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?t=!0:".."===a?e++:""!=a&&r.push(a))}),r):[...r,o]},[]);return new gj(t,e,i)}(t);return o.toRoot()?du(e.root,e.root,new De([],{}),i,r):function s(l){const c=function gae(n,e,t,i){if(n.isAbsolute)return new hu(e.root,!0,0);if(-1===i)return new hu(t,t===e.root,0);return function yj(n,e,t){let i=n,r=e,o=t;for(;o>r;){if(o-=r,i=i.parent,!i)throw new D(4005,yE&&"Invalid number of '../'");r=i.segments.length}return new hu(i,!1,r-o)}(t,i+(Wh(n.commands[0])?0:1),n.numberOfDoubleDots)}(o,e,n.snapshot?._urlSegment,l),u=c.processChildren?fu(c.segmentGroup,c.index,o.commands):vE(c.segmentGroup,c.index,o.commands);return du(e.root,c.segmentGroup,u,i,r)}(n.snapshot?._lastPathIndex)}function Wh(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function qh(n){return"object"==typeof n&&null!=n&&n.outlets}function du(n,e,t,i,r){let s,o={};i&&Fn(i,(l,c)=>{o[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`}),s=n===e?t:mj(n,e,t);const a=_E(O_(s));return new Ws(a,o,r)}function mj(n,e,t){const i={};return Fn(n.children,(r,o)=>{i[o]=r===e?t:mj(r,e,t)}),new De(n.segments,i)}class gj{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&Wh(i[0]))throw new D(4003,yE&&"Root segment cannot have matrix parameters");const r=i.find(qh);if(r&&r!==rj(i))throw new D(4004,yE&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class hu{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function vE(n,e,t){if(n||(n=new De([],{})),0===n.segments.length&&n.hasChildren())return fu(n,e,t);const i=function yae(n,e,t){let i=0,r=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return o;const s=n.segments[r],a=t[i];if(qh(a))break;const l=`${a}`,c=i<t.length-1?t[i+1]:null;if(r>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!bj(l,c,s))return o;i+=2}else{if(!bj(l,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const o=new De(n.segments.slice(0,i.pathIndex),{});return o.children[me]=new De(n.segments.slice(i.pathIndex),n.children),fu(o,0,r)}return i.match&&0===r.length?new De(n.segments,{}):i.match&&!n.hasChildren()?bE(n,e,t):i.match?fu(n,0,r):bE(n,e,t)}function fu(n,e,t){if(0===t.length)return new De(n.segments,{});{const i=function _ae(n){return qh(n[0])?n[0].outlets:{[me]:n}}(t),r={};if(!i[me]&&n.children[me]&&1===n.numberOfChildren&&0===n.children[me].segments.length){const o=fu(n.children[me],e,t);return new De(n.segments,o.children)}return Fn(i,(o,s)=>{"string"==typeof o&&(o=[o]),null!==o&&(r[s]=vE(n.children[s],e,o))}),Fn(n.children,(o,s)=>{void 0===i[s]&&(r[s]=o)}),new De(n.segments,r)}}function bE(n,e,t){const i=n.segments.slice(0,e);let r=0;for(;r<t.length;){const o=t[r];if(qh(o)){const l=vae(o.outlets);return new De(i,l)}if(0===r&&Wh(t[0])){i.push(new zh(n.segments[e].path,vj(t[0]))),r++;continue}const s=qh(o)?o.outlets[me]:`${o}`,a=r<t.length-1?t[r+1]:null;s&&a&&Wh(a)?(i.push(new zh(s,vj(a))),r+=2):(i.push(new zh(s,{})),r++)}return new De(i,{})}function vae(n){const e={};return Fn(n,(t,i)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[i]=bE(new De([],{}),0,t))}),e}function vj(n){const e={};return Fn(n,(t,i)=>e[i]=`${t}`),e}function bj(n,e,t){return n==t.path&&co(e,t.parameters)}const Kh="imperative";class uo{constructor(e,t){this.id=e,this.url=t}}class wE extends uo{constructor(e,t,i="imperative",r=null){super(e,t),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ll extends uo{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class P_ extends uo{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class N_ extends uo{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=16}}class CE extends uo{constructor(e,t,i,r){super(e,t),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class bae extends uo{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class wae extends uo{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Cae extends uo{constructor(e,t,i,r,o){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class xae extends uo{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Eae extends uo{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Dae{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Iae{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Sae{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Tae{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Aae{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Mae{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class wj{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let Oae=(()=>{class n{createUrlTree(t,i,r,o,s,a){return pae(t||i.root,r,o,s,a)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=k({token:n,factory:n.\u0275fac}),n})(),Nae=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=k({token:n,factory:function(e){return Oae.\u0275fac(e)},providedIn:"root"}),n})();class Cj{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=xE(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){const t=xE(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=EE(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return EE(e,this._root).map(t=>t.value)}}function xE(n,e){if(n===e.value)return e;for(const t of e.children){const i=xE(n,t);if(i)return i}return null}function EE(n,e){if(n===e.value)return[e];for(const t of e.children){const i=EE(n,t);if(i.length)return i.unshift(e),i}return[]}class Jo{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function pu(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class xj extends Cj{constructor(e,t){super(e),this.snapshot=t,DE(this,e)}toString(){return this.snapshot.toString()}}function Ej(n,e){const t=function Fae(n,e){const s=new F_([],{},{},"",{},me,e,null,n.root,-1,{});return new Ij("",new Jo(s,[]))}(n,e),i=new $i([new zh("",{})]),r=new $i({}),o=new $i({}),s=new $i({}),a=new $i(""),l=new mu(i,r,s,a,o,me,e,t.root);return l.snapshot=t.root,new xj(new Jo(l,[]),t)}class mu{constructor(e,t,i,r,o,s,a,l){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.title=this.data?.pipe(ie(c=>c[Hh]))??G(void 0),this._futureSnapshot=l}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(ie(e=>uu(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(ie(e=>uu(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Dj(n,e="emptyOnly"){const t=n.pathFromRoot;let i=0;if("always"!==e)for(i=t.length-1;i>=1;){const r=t[i],o=t[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(o.component)break;i--}}return function Lae(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(i))}class F_{get title(){return this.data?.[Hh]}constructor(e,t,i,r,o,s,a,l,c,u,d){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._urlSegment=c,this._lastPathIndex=u,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=uu(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=uu(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Ij extends Cj{constructor(e,t){super(t),this.url=e,DE(this,t)}toString(){return Sj(this._root)}}function DE(n,e){e.value._routerState=n,e.children.forEach(t=>DE(n,t))}function Sj(n){const e=n.children.length>0?` { ${n.children.map(Sj).join(", ")} } `:"";return`${n.value}${e}`}function IE(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,co(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),co(e.params,t.params)||n.params.next(t.params),function Xse(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!co(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),co(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function SE(n,e){const t=co(n.params,e.params)&&function tae(n,e){return sl(n,e)&&n.every((t,i)=>co(t.parameters,e[i].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||SE(n.parent,e.parent))}function Yh(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=e.value;const r=function Bae(n,e,t){return e.children.map(i=>{for(const r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return Yh(n,i,r);return Yh(n,i)})}(n,e,t);return new Jo(i,r)}{if(n.shouldAttach(e.value)){const o=n.retrieve(e.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Yh(n,a)),s}}const i=function Uae(n){return new mu(new $i(n.url),new $i(n.params),new $i(n.queryParams),new $i(n.fragment),new $i(n.data),n.outlet,n.component,n)}(e.value),r=e.children.map(o=>Yh(n,o));return new Jo(i,r)}}const TE="ngNavigationCancelingError";function Tj(n,e){const{redirectTo:t,navigationBehaviorOptions:i}=al(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=Aj(!1,0,e);return r.url=t,r.navigationBehaviorOptions=i,r}function Aj(n,e,t){const i=new Error("NavigationCancelingError: "+(n||""));return i[TE]=!0,i.cancellationCode=e,t&&(i.url=t),i}function Mj(n){return Rj(n)&&al(n.url)}function Rj(n){return n&&n[TE]}class jae{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Qh,this.attachRef=null}}let Qh=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,i){const r=this.getOrCreateContext(t);r.outlet=i,this.contexts.set(t,r)}onChildOutletDestroyed(t){const i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new jae,this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const L_=!1;let AE=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=me,this.activateEvents=new nt,this.deactivateEvents=new nt,this.attachEvents=new nt,this.detachEvents=new nt,this.parentContexts=le(Qh),this.location=le(Nn),this.changeDetector=le(au),this.environmentInjector=le(Qr)}ngOnChanges(t){if(t.name){const{firstChange:i,previousValue:r}=t.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new D(4012,L_);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new D(4012,L_);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new D(4012,L_);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new D(4013,L_);this._activatedRoute=t;const r=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new Hae(t,a,r.injector);if(i&&function zae(n){return!!n.resolveComponentFactory}(i)){const c=i.resolveComponentFactory(s);this.activated=r.createComponent(c,r.length,l)}else this.activated=r.createComponent(s,{index:r.length,injector:l,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=O({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Xn]}),n})();class Hae{constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===mu?this.route:e===Qh?this.childContexts:this.parent.get(e,t)}}let ME=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=lt({type:n,selectors:[["ng-component"]],standalone:!0,features:[lx],decls:1,vars:0,template:function(t,i){1&t&&je(0,"router-outlet")},dependencies:[AE],encapsulation:2}),n})();function kj(n,e){return n.providers&&!n._injector&&(n._injector=Xg(n.providers,e,`Route: ${n.path}`)),n._injector??e}function kE(n){const e=n.children&&n.children.map(kE),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==me&&(t.component=ME),t}function cr(n){return n.outlet||me}function Oj(n,e){const t=n.filter(i=>cr(i)===e);return t.push(...n.filter(i=>cr(i)!==e)),t}function Xh(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class Kae{constructor(e,t,i,r){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),IE(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const r=pu(t);e.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,r[s],i),delete r[s]}),Fn(r,(o,s)=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(e,t,i){const r=e.value,o=t?t.value:null;if(r===o)if(r.component){const s=i.getContext(r.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,i);else o&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,o=pu(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],r);if(i&&i.outlet){const s=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,o=pu(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(e,t,i){const r=pu(t);e.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new Mae(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Tae(e.value.snapshot))}activateRoutes(e,t,i){const r=e.value,o=t?t.value:null;if(IE(r),r===o)if(r.component){const s=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,i);else if(r.component){const s=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),IE(a.route.value),this.activateChildRoutes(e,null,s.children)}else{const a=Xh(r.snapshot),l=a?.get(Xa)??null;s.attachRef=null,s.route=r,s.resolver=l,s.injector=a,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,i)}}class Pj{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class V_{constructor(e,t){this.component=e,this.route=t}}function Yae(n,e,t){const i=n._root;return Zh(i,e?e._root:null,t,[i.value])}function gu(n,e){const t=Symbol(),i=e.get(n,t);return i===t?"function"!=typeof n||function qY(n){return null!==Xm(n)}(n)?e.get(n):n:i}function Zh(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=pu(e);return n.children.forEach(s=>{(function Xae(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const l=function Zae(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!sl(n.url,e.url);case"pathParamsOrQueryParamsChange":return!sl(n.url,e.url)||!co(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!SE(n,e)||!co(n.queryParams,e.queryParams);default:return!SE(n,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new Pj(i)):(o.data=s.data,o._resolvedData=s._resolvedData),Zh(n,e,o.component?a?a.children:null:t,i,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new V_(a.outlet.component,s))}else s&&Jh(e,a,r),r.canActivateChecks.push(new Pj(i)),Zh(n,null,o.component?a?a.children:null:t,i,r)})(s,o[s.value.outlet],t,i.concat([s.value]),r),delete o[s.value.outlet]}),Fn(o,(s,a)=>Jh(s,t.getContext(a),r)),r}function Jh(n,e,t){const i=pu(n),r=n.value;Fn(i,(o,s)=>{Jh(o,r.component?e?e.children.getContext(s):null:e,t)}),t.canDeactivateChecks.push(new V_(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}function ef(n){return"function"==typeof n}function OE(n){return n instanceof C_||"EmptyError"===n?.name}const B_=Symbol("INITIAL_VALUE");function _u(){return lo(n=>dE(n.map(e=>e.pipe(Ti(1),jh(B_)))).pipe(ie(e=>{for(const t of e)if(!0!==t){if(t===B_)return B_;if(!1===t||t instanceof Ws)return t}return!0}),ei(e=>e!==B_),Ti(1)))}function Nj(n){return function mY(...n){return ZP(n)}(Xt(e=>{if(al(e))throw Tj(0,e)}),ie(e=>!0===e))}const PE={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Fj(n,e,t,i,r){const o=NE(n,e,t);return o.matched?function mle(n,e,t,i){const r=e.canMatch;return r&&0!==r.length?G(r.map(s=>{const a=gu(s,n);return Gs(function rle(n){return n&&ef(n.canMatch)}(a)?a.canMatch(e,t):n.runInContext(()=>a(e,t)))})).pipe(_u(),Nj()):G(!0)}(i=kj(e,i),e,t).pipe(ie(s=>!0===s?o:{...PE})):G(o)}function NE(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...PE}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const r=(e.matcher||Qse)(t,n,e);if(!r)return{...PE};const o={};Fn(r.posParams,(a,l)=>{o[l]=a.path});const s=r.consumed.length>0?{...o,...r.consumed[r.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function U_(n,e,t,i){if(t.length>0&&function yle(n,e,t){return t.some(i=>j_(n,e,i)&&cr(i)!==me)}(n,t,i)){const o=new De(e,function _le(n,e,t,i){const r={};r[me]=i,i._sourceSegment=n,i._segmentIndexShift=e.length;for(const o of t)if(""===o.path&&cr(o)!==me){const s=new De([],{});s._sourceSegment=n,s._segmentIndexShift=e.length,r[cr(o)]=s}return r}(n,e,i,new De(t,n.children)));return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===t.length&&function vle(n,e,t){return t.some(i=>j_(n,e,i))}(n,t,i)){const o=new De(n.segments,function gle(n,e,t,i,r){const o={};for(const s of i)if(j_(n,t,s)&&!r[cr(s)]){const a=new De([],{});a._sourceSegment=n,a._segmentIndexShift=e.length,o[cr(s)]=a}return{...r,...o}}(n,e,t,i,n.children));return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:t}}const r=new De(n.segments,n.children);return r._sourceSegment=n,r._segmentIndexShift=e.length,{segmentGroup:r,slicedSegments:t}}function j_(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function Lj(n,e,t,i){return!!(cr(n)===i||i!==me&&j_(e,t,n))&&("**"===n.path||NE(e,n,t).matched)}function Vj(n,e,t){return 0===e.length&&!n.children[t]}const H_=!1;class z_{constructor(e){this.segmentGroup=e||null}}class Bj{constructor(e){this.urlTree=e}}function tf(n){return cu(new z_(n))}function Uj(n){return cu(new Bj(n))}class xle{constructor(e,t,i,r,o){this.injector=e,this.configLoader=t,this.urlSerializer=i,this.urlTree=r,this.config=o,this.allowRedirects=!0}apply(){const e=U_(this.urlTree.root,[],[],this.config).segmentGroup,t=new De(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,me).pipe(ie(o=>this.createUrlTree(O_(o),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Zo(o=>{if(o instanceof Bj)return this.allowRedirects=!1,this.match(o.urlTree);throw o instanceof z_?this.noMatchError(o):o}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,me).pipe(ie(r=>this.createUrlTree(O_(r),e.queryParams,e.fragment))).pipe(Zo(r=>{throw r instanceof z_?this.noMatchError(r):r}))}noMatchError(e){return new D(4002,H_)}createUrlTree(e,t,i){const r=_E(e);return new Ws(r,t,i)}expandSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(e,t,i).pipe(ie(o=>new De([],o))):this.expandSegment(e,i,t,i.segments,r,!0)}expandChildren(e,t,i){const r=[];for(const o of Object.keys(i.children))"primary"===o?r.unshift(o):r.push(o);return Ut(r).pipe($s(o=>{const s=i.children[o],a=Oj(t,o);return this.expandSegmentGroup(e,a,s,o).pipe(ie(l=>({segment:l,outlet:o})))}),ej((o,s)=>(o[s.outlet]=s.segment,o),{}),tj())}expandSegment(e,t,i,r,o,s){return Ut(i).pipe($s(a=>this.expandSegmentAgainstRoute(e,t,i,a,r,o,s).pipe(Zo(c=>{if(c instanceof z_)return G(null);throw c}))),zs(a=>!!a),Zo((a,l)=>{if(OE(a))return Vj(t,r,o)?G(new De([],{})):tf(t);throw a}))}expandSegmentAgainstRoute(e,t,i,r,o,s,a){return Lj(r,t,o,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,o,s):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,i,r,o,s):tf(t):tf(t)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,o,s){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,r,s):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,i,r){const o=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?Uj(o):this.lineralizeSegments(i,o).pipe(_n(s=>{const a=new De(s,{});return this.expandSegment(e,a,t,s,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,o,s){const{matched:a,consumedSegments:l,remainingSegments:c,positionalParamSegments:u}=NE(t,r,o);if(!a)return tf(t);const d=this.applyRedirectCommands(l,r.redirectTo,u);return r.redirectTo.startsWith("/")?Uj(d):this.lineralizeSegments(r,d).pipe(_n(h=>this.expandSegment(e,t,i,h.concat(c),s,!1)))}matchSegmentAgainstRoute(e,t,i,r,o){return"**"===i.path?(e=kj(i,e),i.loadChildren?(i._loadedRoutes?G({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(e,i)).pipe(ie(a=>(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,new De(r,{})))):G(new De(r,{}))):Fj(t,i,r,e).pipe(lo(({matched:s,consumedSegments:a,remainingSegments:l})=>s?this.getChildConfig(e=i._injector??e,i,r).pipe(_n(u=>{const d=u.injector??e,h=u.routes,{segmentGroup:f,slicedSegments:p}=U_(t,a,l,h),m=new De(f.segments,f.children);if(0===p.length&&m.hasChildren())return this.expandChildren(d,h,m).pipe(ie(v=>new De(a,v)));if(0===h.length&&0===p.length)return G(new De(a,{}));const g=cr(i)===o;return this.expandSegment(d,m,h,p,g?me:o,!0).pipe(ie(x=>new De(a.concat(x.segments),x.children)))})):tf(t)))}getChildConfig(e,t,i){return t.children?G({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?G({routes:t._loadedRoutes,injector:t._loadedInjector}):function ple(n,e,t,i){const r=e.canLoad;return void 0===r||0===r.length?G(!0):G(r.map(s=>{const a=gu(s,n);return Gs(function ele(n){return n&&ef(n.canLoad)}(a)?a.canLoad(e,t):n.runInContext(()=>a(e,t)))})).pipe(_u(),Nj())}(e,t,i).pipe(_n(r=>r?this.configLoader.loadChildren(e,t).pipe(Xt(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):function wle(n){return cu(Aj(H_,3))}())):G({routes:[],injector:e})}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return G(i);if(r.numberOfChildren>1||!r.children[me])return e.redirectTo,cu(new D(4e3,H_));r=r.children[me]}}applyRedirectCommands(e,t,i){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i)}applyRedirectCreateUrlTree(e,t,i,r){const o=this.createSegmentGroup(e,t.root,i,r);return new Ws(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return Fn(e,(r,o)=>{if("string"==typeof r&&r.startsWith(":")){const a=r.substring(1);i[o]=t[a]}else i[o]=r}),i}createSegmentGroup(e,t,i,r){const o=this.createSegments(e,t.segments,i,r);let s={};return Fn(t.children,(a,l)=>{s[l]=this.createSegmentGroup(e,a,i,r)}),new De(o,s)}createSegments(e,t,i,r){return t.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,r):this.findOrReturn(o,i))}findPosParam(e,t,i){const r=i[t.path.substring(1)];if(!r)throw new D(4001,H_);return r}findOrReturn(e,t){let i=0;for(const r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}}class Dle{}class Tle{constructor(e,t,i,r,o,s,a){this.injector=e,this.rootComponentType=t,this.config=i,this.urlTree=r,this.url=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a}recognize(){const e=U_(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,me).pipe(ie(t=>{if(null===t)return null;const i=new F_([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},me,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Jo(i,t),o=new Ij(this.url,r);return this.inheritParamsAndData(o._root),o}))}inheritParamsAndData(e){const t=e.value,i=Dj(t,this.paramsInheritanceStrategy);t.params=Object.freeze(i.params),t.data=Object.freeze(i.data),e.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(e,t,i):this.processSegment(e,t,i,i.segments,r)}processChildren(e,t,i){return Ut(Object.keys(i.children)).pipe($s(r=>{const o=i.children[r],s=Oj(t,r);return this.processSegmentGroup(e,s,o,r)}),ej((r,o)=>r&&o?(r.push(...o),r):null),function qse(n,e=!1){return Rt((t,i)=>{let r=0;t.subscribe(bt(i,o=>{const s=n(o,r++);(s||e)&&i.next(o),!s&&i.complete()}))})}(r=>null!==r),D_(null),tj(),ie(r=>{if(null===r)return null;const o=Hj(r);return function Ale(n){n.sort((e,t)=>e.value.outlet===me?-1:t.value.outlet===me?1:e.value.outlet.localeCompare(t.value.outlet))}(o),o}))}processSegment(e,t,i,r,o){return Ut(t).pipe($s(s=>this.processSegmentAgainstRoute(s._injector??e,s,i,r,o)),zs(s=>!!s),Zo(s=>{if(OE(s))return Vj(i,r,o)?G([]):G(null);throw s}))}processSegmentAgainstRoute(e,t,i,r,o){if(t.redirectTo||!Lj(t,i,r,o))return G(null);let s;if("**"===t.path){const a=r.length>0?rj(r).parameters:{},l=$j(i)+r.length;s=G({snapshot:new F_(r,a,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Gj(t),cr(t),t.component??t._loadedComponent??null,t,zj(i),l,Wj(t)),consumedSegments:[],remainingSegments:[]})}else s=Fj(i,t,r,e).pipe(ie(({matched:a,consumedSegments:l,remainingSegments:c,parameters:u})=>{if(!a)return null;const d=$j(i)+l.length;return{snapshot:new F_(l,u,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Gj(t),cr(t),t.component??t._loadedComponent??null,t,zj(i),d,Wj(t)),consumedSegments:l,remainingSegments:c}}));return s.pipe(lo(a=>{if(null===a)return G(null);const{snapshot:l,consumedSegments:c,remainingSegments:u}=a;e=t._injector??e;const d=t._loadedInjector??e,h=function Mle(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:f,slicedSegments:p}=U_(i,c,u,h.filter(g=>void 0===g.redirectTo));if(0===p.length&&f.hasChildren())return this.processChildren(d,h,f).pipe(ie(g=>null===g?null:[new Jo(l,g)]));if(0===h.length&&0===p.length)return G([new Jo(l,[])]);const m=cr(t)===o;return this.processSegment(d,h,f,p,m?me:o).pipe(ie(g=>null===g?null:[new Jo(l,g)]))}))}}function Rle(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Hj(n){const e=[],t=new Set;for(const i of n){if(!Rle(i)){e.push(i);continue}const r=e.find(o=>i.value.routeConfig===o.value.routeConfig);void 0!==r?(r.children.push(...i.children),t.add(r)):e.push(i)}for(const i of t){const r=Hj(i.children);e.push(new Jo(i.value,r))}return e.filter(i=>!t.has(i))}function zj(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function $j(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function Gj(n){return n.data||{}}function Wj(n){return n.resolve||{}}function qj(n){return"string"==typeof n.title||null===n.title}function FE(n){return lo(e=>{const t=n(e);return t?Ut(t).pipe(ie(()=>e)):G(e)})}const yu=new I("ROUTES");let LE=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=le(IB)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return G(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const i=Gs(t.loadComponent()).pipe(ie(Yj),Xt(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),I_(()=>{this.componentLoaders.delete(t)})),r=new fE(i,()=>new Ae).pipe(hE());return this.componentLoaders.set(t,r),r}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return G({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const o=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe(ie(a=>{this.onLoadEndListener&&this.onLoadEndListener(i);let l,c,u=!1;Array.isArray(a)?c=a:(l=a.create(t).injector,c=ij(l.get(yu,[],ne.Self|ne.Optional)));return{routes:c.map(kE),injector:l}}),I_(()=>{this.childrenLoaders.delete(i)})),s=new fE(o,()=>new Ae).pipe(hE());return this.childrenLoaders.set(i,s),s}loadModuleFactoryOrRoutes(t){return Gs(t()).pipe(ie(Yj),_n(i=>i instanceof UV||Array.isArray(i)?G(i):Ut(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Yj(n){return function Ble(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let G_=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Ae,this.configLoader=le(LE),this.environmentInjector=le(Qr),this.urlSerializer=le($h),this.rootContexts=le(Qh),this.navigationId=0,this.afterPreactivation=()=>G(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new Iae(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new Dae(r))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:i})}setupNavigations(t){return this.transitions=new $i({id:0,targetPageId:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Kh,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(ei(i=>0!==i.id),ie(i=>({...i,extractedUrl:t.urlHandlingStrategy.extract(i.rawUrl)})),lo(i=>{let r=!1,o=!1;return G(i).pipe(Xt(s=>{this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),lo(s=>{const a=t.browserUrlTree.toString(),l=!t.navigated||s.extractedUrl.toString()!==a||a!==t.currentUrlTree.toString();if(!l&&"reload"!==(s.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const u="";return this.events.next(new N_(s.id,t.serializeUrl(i.rawUrl),u,0)),t.rawUrlTree=s.rawUrl,s.resolve(null),zr}if(t.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return Qj(s.source)&&(t.browserUrlTree=s.extractedUrl),G(s).pipe(lo(u=>{const d=this.transitions?.getValue();return this.events.next(new wE(u.id,this.urlSerializer.serialize(u.extractedUrl),u.source,u.restoredState)),d!==this.transitions?.getValue()?zr:Promise.resolve(u)}),function Ele(n,e,t,i){return lo(r=>function Cle(n,e,t,i,r){return new xle(n,e,t,i,r).apply()}(n,e,t,r.extractedUrl,i).pipe(ie(o=>({...r,urlAfterRedirects:o}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,t.config),Xt(u=>{this.currentNavigation={...this.currentNavigation,finalUrl:u.urlAfterRedirects},i.urlAfterRedirects=u.urlAfterRedirects}),function Ole(n,e,t,i,r){return _n(o=>function Sle(n,e,t,i,r,o,s="emptyOnly"){return new Tle(n,e,t,i,r,s,o).recognize().pipe(lo(a=>null===a?function Ile(n){return new We(e=>e.error(n))}(new Dle):G(a)))}(n,e,t,o.urlAfterRedirects,i.serialize(o.urlAfterRedirects),i,r).pipe(ie(s=>({...o,targetSnapshot:s}))))}(this.environmentInjector,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),Xt(u=>{if(i.targetSnapshot=u.targetSnapshot,"eager"===t.urlUpdateStrategy){if(!u.extras.skipLocationChange){const h=t.urlHandlingStrategy.merge(u.urlAfterRedirects,u.rawUrl);t.setBrowserUrl(h,u)}t.browserUrlTree=u.urlAfterRedirects}const d=new bae(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}));if(l&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:u,extractedUrl:d,source:h,restoredState:f,extras:p}=s,m=new wE(u,this.urlSerializer.serialize(d),h,f);this.events.next(m);const g=Ej(d,this.rootComponentType).snapshot;return G(i={...s,targetSnapshot:g,urlAfterRedirects:d,extras:{...p,skipLocationChange:!1,replaceUrl:!1}})}{const u="";return this.events.next(new N_(s.id,t.serializeUrl(i.extractedUrl),u,1)),t.rawUrlTree=s.rawUrl,s.resolve(null),zr}}),Xt(s=>{const a=new wae(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),ie(s=>i={...s,guards:Yae(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),function sle(n,e){return _n(t=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return 0===s.length&&0===o.length?G({...t,guardsResult:!0}):function ale(n,e,t,i){return Ut(n).pipe(_n(r=>function fle(n,e,t,i,r){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?G(o.map(a=>{const l=Xh(e)??r,c=gu(a,l);return Gs(function ile(n){return n&&ef(n.canDeactivate)}(c)?c.canDeactivate(n,e,t,i):l.runInContext(()=>c(n,e,t,i))).pipe(zs())})).pipe(_u()):G(!0)}(r.component,r.route,t,e,i)),zs(r=>!0!==r,!0))}(s,i,r,n).pipe(_n(a=>a&&function Jae(n){return"boolean"==typeof n}(a)?function lle(n,e,t,i){return Ut(e).pipe($s(r=>x_(function ule(n,e){return null!==n&&e&&e(new Sae(n)),G(!0)}(r.route.parent,i),function cle(n,e){return null!==n&&e&&e(new Aae(n)),G(!0)}(r.route,i),function hle(n,e,t){const i=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>function Qae(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(s)).filter(s=>null!==s).map(s=>E_(()=>G(s.guards.map(l=>{const c=Xh(s.node)??t,u=gu(l,c);return Gs(function nle(n){return n&&ef(n.canActivateChild)}(u)?u.canActivateChild(i,n):c.runInContext(()=>u(i,n))).pipe(zs())})).pipe(_u())));return G(o).pipe(_u())}(n,r.path,t),function dle(n,e,t){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return G(!0);const r=i.map(o=>E_(()=>{const s=Xh(e)??t,a=gu(o,s);return Gs(function tle(n){return n&&ef(n.canActivate)}(a)?a.canActivate(e,n):s.runInContext(()=>a(e,n))).pipe(zs())}));return G(r).pipe(_u())}(n,r.route,t))),zs(r=>!0!==r,!0))}(i,o,n,e):G(a)),ie(a=>({...t,guardsResult:a})))})}(this.environmentInjector,s=>this.events.next(s)),Xt(s=>{if(i.guardsResult=s.guardsResult,al(s.guardsResult))throw Tj(0,s.guardsResult);const a=new Cae(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),ei(s=>!!s.guardsResult||(t.restoreHistory(s),this.cancelNavigationTransition(s,"",3),!1)),FE(s=>{if(s.guards.canActivateChecks.length)return G(s).pipe(Xt(a=>{const l=new xae(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}),lo(a=>{let l=!1;return G(a).pipe(function Ple(n,e){return _n(t=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return G(t);let o=0;return Ut(r).pipe($s(s=>function Nle(n,e,t,i){const r=n.routeConfig,o=n._resolve;return void 0!==r?.title&&!qj(r)&&(o[Hh]=r.title),function Fle(n,e,t,i){const r=function Lle(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return G({});const o={};return Ut(r).pipe(_n(s=>function Vle(n,e,t,i){const r=Xh(e)??i,o=gu(n,r);return Gs(o.resolve?o.resolve(e,t):r.runInContext(()=>o(e,t)))}(n[s],e,t,i).pipe(zs(),Xt(a=>{o[s]=a}))),pE(1),function Kse(n){return ie(()=>n)}(o),Zo(s=>OE(s)?zr:cu(s)))}(o,n,e,i).pipe(ie(s=>(n._resolvedData=s,n.data=Dj(n,t).resolve,r&&qj(r)&&(n.data[Hh]=r.title),null)))}(s.route,i,n,e)),Xt(()=>o++),pE(1),_n(s=>o===r.length?G(t):zr))})}(t.paramsInheritanceStrategy,this.environmentInjector),Xt({next:()=>l=!0,complete:()=>{l||(t.restoreHistory(a),this.cancelNavigationTransition(a,"",2))}}))}),Xt(a=>{const l=new Eae(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}))}),FE(s=>{const a=l=>{const c=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&c.push(this.configLoader.loadComponent(l.routeConfig).pipe(Xt(u=>{l.component=u}),ie(()=>{})));for(const u of l.children)c.push(...a(u));return c};return dE(a(s.targetSnapshot.root)).pipe(D_(),Ti(1))}),FE(()=>this.afterPreactivation()),ie(s=>{const a=function Vae(n,e,t){const i=Yh(n,e._root,t?t._root:void 0);return new xj(i,e)}(t.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return i={...s,targetRouterState:a}}),Xt(s=>{t.currentUrlTree=s.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(s.urlAfterRedirects,s.rawUrl),t.routerState=s.targetRouterState,"deferred"===t.urlUpdateStrategy&&(s.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,s),t.browserUrlTree=s.urlAfterRedirects)}),((n,e,t)=>ie(i=>(new Kae(e,i.targetRouterState,i.currentRouterState,t).activate(n),i)))(this.rootContexts,t.routeReuseStrategy,s=>this.events.next(s)),Ti(1),Xt({next:s=>{r=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new ll(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{r=!0}}),I_(()=>{r||o||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),Zo(s=>{if(o=!0,Rj(s)){Mj(s)||(t.navigated=!0,t.restoreHistory(i,!0));const a=new P_(i.id,this.urlSerializer.serialize(i.extractedUrl),s.message,s.cancellationCode);if(this.events.next(a),Mj(s)){const l=t.urlHandlingStrategy.merge(s.url,t.rawUrlTree),c={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||Qj(i.source)};t.scheduleNavigation(l,Kh,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{t.restoreHistory(i,!0);const a=new CE(i.id,this.urlSerializer.serialize(i.extractedUrl),s,i.targetSnapshot??void 0);this.events.next(a);try{i.resolve(t.errorHandler(s))}catch(l){i.reject(l)}}return zr}))}))}cancelNavigationTransition(t,i,r){const o=new P_(t.id,this.urlSerializer.serialize(t.extractedUrl),i,r);this.events.next(o),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Qj(n){return n!==Kh}let Xj=(()=>{class n{buildTitle(t){let i,r=t.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===me);return i}getResolvedTitleForRoute(t){return t.data[Hh]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=k({token:n,factory:function(){return le(Ule)},providedIn:"root"}),n})(),Ule=(()=>{class n extends Xj{constructor(t){super(),this.title=t}updateTitle(t){const i=this.buildTitle(t);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(t){return new(t||n)(w(WU))},n.\u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),jle=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=k({token:n,factory:function(){return le(zle)},providedIn:"root"}),n})();class Hle{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let zle=(()=>{class n extends Hle{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=Ue(n)))(i||n)}}(),n.\u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const W_=new I("",{providedIn:"root",factory:()=>({})});let Gle=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=k({token:n,factory:function(){return le(Wle)},providedIn:"root"}),n})(),Wle=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,i){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function qle(n){throw n}function Kle(n,e,t){return e.parse("/")}const Yle={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Qle={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ti=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=le(Die),this.isNgZoneEnabled=!1,this.options=le(W_,{optional:!0})||{},this.errorHandler=this.options.errorHandler||qle,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Kle,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=le(Gle),this.routeReuseStrategy=le(jle),this.urlCreationStrategy=le(Nae),this.titleStrategy=le(Xj),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=ij(le(yu,{optional:!0})??[]),this.navigationTransitions=le(G_),this.urlSerializer=le($h),this.location=le(Nh),this.isNgZoneEnabled=le(ae)instanceof ae&&ae.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Ws,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Ej(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId??0},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Kh,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const i="popstate"===t.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,i,t.state)},0)}))}navigateToSyncWithBrowser(t,i,r){const o={replaceUrl:!0},s=r?.navigationId?r:null;if(r){const l={...r};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(o.state=l)}const a=this.parseUrl(t);this.scheduleNavigation(a,i,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(t){this.config=t.map(kE),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,i={}){const{relativeTo:r,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=i,c=l?this.currentUrlTree.fragment:s;let u=null;switch(a){case"merge":u={...this.currentUrlTree.queryParams,...o};break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}return null!==u&&(u=this.removeEmptyProps(u)),this.urlCreationStrategy.createUrlTree(r,this.routerState,this.currentUrlTree,t,u,c??null)}navigateByUrl(t,i={skipLocationChange:!1}){const r=al(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,Kh,null,i)}navigate(t,i={skipLocationChange:!1}){return function Xle(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new D(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let i;try{i=this.urlSerializer.parse(t)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,t)}return i}isActive(t,i){let r;if(r=!0===i?{...Yle}:!1===i?{...Qle}:i,al(t))return sj(this.currentUrlTree,t,r);const o=this.parseUrl(t);return sj(this.currentUrlTree,o,r)}removeEmptyProps(t){return Object.keys(t).reduce((i,r)=>{const o=t[r];return null!=o&&(i[r]=o),i},{})}scheduleNavigation(t,i,r,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,c,u;return s?(a=s.resolve,l=s.reject,c=s.promise):c=new Promise((d,h)=>{a=d,l=h}),u="computed"===this.canceledNavigationResolution?r&&r.\u0275routerPageId?r.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:u,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}setBrowserUrl(t,i){const r=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){const s={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(r,"",s)}else{const o={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.go(r,"",o)}}restoreHistory(t,i=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-(this.browserPageId??this.currentPageId);0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),q_=(()=>{class n{constructor(t,i,r,o,s,a){this.router=t,this.route=i,this.tabIndexAttribute=r,this.renderer=o,this.el=s,this.locationStrategy=a,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new Ae;const l=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===l||"area"===l,this.isAnchorElement?this.subscription=t.events.subscribe(c=>{c instanceof ll&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=lu(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=lu(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=lu(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,i,r,o,s){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||i||r||o||s||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:function fL(n,e,t){return function DZ(n,e){return"src"===e&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===e&&("base"===n||"link"===n)?hL:dL}(e,t)(n)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,i){const r=this.renderer,o=this.el.nativeElement;null!==i?r.setAttribute(o,t,i):r.removeAttribute(o,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(b(ti),b(mu),function sh(n){return function WQ(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const i=t.length;let r=0;for(;r<i;){const o=t[r];if(nF(o))break;if(0===o)r+=2;else if("number"==typeof o)for(r++;r<i&&"string"==typeof t[r];)r++;else{if(o===e)return t[r+1];r+=2}}}return null}(On(),n)}("tabindex"),b($o),b($e),b(ol))},n.\u0275dir=O({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(t,i){1&t&&yn("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&t&&Hi("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[Xn]}),n})();class Zj{}let ece=(()=>{class n{constructor(t,i,r,o,s){this.router=t,this.injector=r,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(ei(t=>t instanceof ll),$s(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const r=[];for(const o of i){o.providers&&!o._injector&&(o._injector=Xg(o.providers,t,`Route: ${o.path}`));const s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&r.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&r.push(this.processRoutes(a,o.children??o._loadedRoutes))}return Ut(r).pipe(bc())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(t,i):G(null);const o=r.pipe(_n(s=>null===s?G(void 0):(i._loadedRoutes=s.routes,i._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));return i.loadComponent&&!i._loadedComponent?Ut([o,this.loader.loadComponent(i)]).pipe(bc()):o})}}return n.\u0275fac=function(t){return new(t||n)(w(ti),w(IB),w(Qr),w(Zj),w(LE))},n.\u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const BE=new I("");let Jj=(()=>{class n{constructor(t,i,r,o,s={}){this.urlSerializer=t,this.transitions=i,this.viewportScroller=r,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof wE?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof ll&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof wj&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new wj(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){Pg()},n.\u0275prov=k({token:n,factory:n.\u0275fac}),n})();var Gi=(()=>((Gi=Gi||{})[Gi.COMPLETE=0]="COMPLETE",Gi[Gi.FAILED=1]="FAILED",Gi[Gi.REDIRECTING=2]="REDIRECTING",Gi))();const vu=!1;function qs(n,e){return{\u0275kind:n,\u0275providers:e}}const UE=new I("",{providedIn:"root",factory:()=>!1});function tH(){const n=le(Ot);return e=>{const t=n.get(su);if(e!==t.components[0])return;const i=n.get(ti),r=n.get(nH);1===n.get(jE)&&i.initialNavigation(),n.get(iH,null,ne.Optional)?.setUpPreloading(),n.get(BE,null,ne.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}const nH=new I(vu?"bootstrap done indicator":"",{factory:()=>new Ae}),jE=new I(vu?"initial navigation":"",{providedIn:"root",factory:()=>1});function oce(){let n=[];return n=vu?[{provide:Mg,multi:!0,useFactory:()=>{const e=le(ti);return()=>e.events.subscribe(t=>{console.group?.(`Router Event: ${t.constructor.name}`),console.log(function Rae(n){if(!("type"in n))return`Unknown Router Event: ${n.constructor.name}`;switch(n.type){case 14:return`ActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state}, shouldActivate: ${n.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 2:return`NavigationCancel(id: ${n.id}, url: '${n.url}')`;case 16:return`NavigationSkipped(id: ${n.id}, url: '${n.url}')`;case 1:return`NavigationEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${n.id}, url: '${n.url}', error: ${n.error})`;case 0:return`NavigationStart(id: ${n.id}, url: '${n.url}')`;case 6:return`ResolveEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 5:return`ResolveStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 10:return`RouteConfigLoadEnd(path: ${n.route.path})`;case 9:return`RouteConfigLoadStart(path: ${n.route.path})`;case 4:return`RoutesRecognized(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 15:return`Scroll(anchor: '${n.anchor}', position: '${n.position?`${n.position[0]}, ${n.position[1]}`:null}')`}}(t)),console.log(t),console.groupEnd?.()})}}]:[],qs(1,n)}const iH=new I(vu?"router preloader":"");function sce(n){return qs(0,[{provide:iH,useExisting:ece},{provide:Zj,useExisting:n}])}const nf=!1,rH=new I(nf?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),ace=[Nh,{provide:$h,useClass:mE},ti,Qh,{provide:mu,useFactory:function eH(n){return n.routerState.root},deps:[ti]},LE,nf?{provide:UE,useValue:!0}:[]];function lce(){return new PB("Router",ti)}let oH=(()=>{class n{constructor(t){}static forRoot(t,i){return{ngModule:n,providers:[ace,nf&&i?.enableTracing?oce().\u0275providers:[],{provide:yu,multi:!0,useValue:t},{provide:rH,useFactory:hce,deps:[[ti,new ze,new Kr]]},{provide:W_,useValue:i||{}},i?.useHash?{provide:ol,useClass:hre}:{provide:ol,useClass:iU},{provide:BE,useFactory:()=>{const n=le(koe),e=le(ae),t=le(W_),i=le(G_),r=le($h);return t.scrollOffset&&n.setOffset(t.scrollOffset),new Jj(r,i,n,e,t)}},i?.preloadingStrategy?sce(i.preloadingStrategy).\u0275providers:[],{provide:PB,multi:!0,useFactory:lce},i?.initialNavigation?fce(i):[],[{provide:sH,useFactory:tH},{provide:OB,multi:!0,useExisting:sH}]]}}static forChild(t){return{ngModule:n,providers:[{provide:yu,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(w(rH,8))},n.\u0275mod=ce({type:n}),n.\u0275inj=se({imports:[ME]}),n})();function hce(n){if(nf&&n)throw new D(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function fce(n){return["disabled"===n.initialNavigation?qs(3,[{provide:t_,multi:!0,useFactory:()=>{const e=le(ti);return()=>{e.setUpLocationChangeListener()}}},{provide:jE,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?qs(2,[{provide:jE,useValue:0},{provide:t_,multi:!0,deps:[Ot],useFactory:e=>{const t=e.get(ure,Promise.resolve());return()=>t.then(()=>new Promise(i=>{const r=e.get(ti),o=e.get(nH);(function tce(n,e){n.events.pipe(ei(t=>t instanceof ll||t instanceof P_||t instanceof CE||t instanceof N_),ie(t=>t instanceof ll||t instanceof N_?Gi.COMPLETE:t instanceof P_&&(0===t.code||1===t.code)?Gi.REDIRECTING:Gi.FAILED),ei(t=>t!==Gi.REDIRECTING),Ti(1)).subscribe(()=>{e()})})(r,()=>{i(!0)}),e.get(G_).afterPreactivation=()=>(i(!0),o.closed?G(void 0):o),r.initialNavigation()}))}}]).\u0275providers:[]]}const sH=new I(nf?"Router Initializer":"");function aH(n,e,t,i,r,o,s){try{var a=n[o](s),l=a.value}catch(c){return void t(c)}a.done?e(l):Promise.resolve(l).then(i,r)}function _(n){return function(){var e=this,t=arguments;return new Promise(function(i,r){var o=n.apply(e,t);function s(l){aH(o,i,r,s,a,"next",l)}function a(l){aH(o,i,r,s,a,"throw",l)}s(void 0)})}}const HE={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},L=function(n,e){if(!n)throw bu(e)},bu=function(n){return new Error("Firebase Database ("+HE.SDK_VERSION+") INTERNAL ASSERT FAILED: "+n)},lH=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?e[t++]=r:r<2048?(e[t++]=r>>6|192,e[t++]=63&r|128):55296==(64512&r)&&i+1<n.length&&56320==(64512&n.charCodeAt(i+1))?(r=65536+((1023&r)<<10)+(1023&n.charCodeAt(++i)),e[t++]=r>>18|240,e[t++]=r>>12&63|128,e[t++]=r>>6&63|128,e[t++]=63&r|128):(e[t++]=r>>12|224,e[t++]=r>>6&63|128,e[t++]=63&r|128)}return e},K_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){const o=n[r],s=r+1<n.length,a=s?n[r+1]:0,l=r+2<n.length,c=l?n[r+2]:0;let h=(15&a)<<2|c>>6,f=63&c;l||(f=64,s||(h=64)),i.push(t[o>>2],t[(3&o)<<4|a>>4],t[h],t[f])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(lH(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):function(n){const e=[];let t=0,i=0;for(;t<n.length;){const r=n[t++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const o=n[t++];e[i++]=String.fromCharCode((31&r)<<6|63&o)}else if(r>239&&r<365){const l=((7&r)<<18|(63&n[t++])<<12|(63&n[t++])<<6|63&n[t++])-65536;e[i++]=String.fromCharCode(55296+(l>>10)),e[i++]=String.fromCharCode(56320+(1023&l))}else{const o=n[t++],s=n[t++];e[i++]=String.fromCharCode((15&r)<<12|(63&o)<<6|63&s)}}return e.join("")}(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){const o=t[n.charAt(r++)],a=r<n.length?t[n.charAt(r)]:0;++r;const c=r<n.length?t[n.charAt(r)]:64;++r;const d=r<n.length?t[n.charAt(r)]:64;if(++r,null==o||null==a||null==c||null==d)throw new gce;i.push(o<<2|a>>4),64!==c&&(i.push(a<<4&240|c>>2),64!==d&&i.push(c<<6&192|d))}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class gce extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const cH=function(n){const e=lH(n);return K_.encodeByteArray(e,!0)},Y_=function(n){return cH(n).replace(/\./g,"")},Q_=function(n){try{return K_.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function _ce(n){return uH(void 0,n)}function uH(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===n&&(n={});break;case Array:n=[];break;default:return e}for(const t in e)!e.hasOwnProperty(t)||!yce(t)||(n[t]=uH(n[t],e[t]));return n}function yce(n){return"__proto__"!==n}const X_=()=>{try{return function vce(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const n=process.env.__FIREBASE_DEFAULTS__;return n?JSON.parse(n):void 0})()||(()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Q_(n[1]);return e&&JSON.parse(e)})()}catch(n){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`)}},dH=n=>{var e,t;return null===(t=null===(e=X_())||void 0===e?void 0:e.emulatorHosts)||void 0===t?void 0:t[n]},zE=n=>{const e=dH(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return"["===e[0]?[e.substring(1,t-1),i]:[e.substring(0,t),i]},xce=()=>{var n;return null===(n=X_())||void 0===n?void 0:n.config},hH=n=>{var e;return null===(e=X_())||void 0===e?void 0:e[`_${n}`]};class wu{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,i))}}}function $E(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i=e||"demo-project",r=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Y_(JSON.stringify({alg:"none",type:"JWT"})),Y_(JSON.stringify(s)),""].join(".")}function bn(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function GE(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(bn())}function WE(){const n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof n&&void 0!==n.id}function fH(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function es(){return!0===HE.NODE_CLIENT||!0===HE.NODE_ADMIN}function cl(){try{return"object"==typeof indexedDB}catch{return!1}}function rf(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{t=!1},r.onerror=()=>{var o;e((null===(o=r.error)||void 0===o?void 0:o.message)||"")}}catch(t){e(t)}})}function qE(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Wi extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name="FirebaseError",Object.setPrototypeOf(this,Wi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ho.prototype.create)}}class ho{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},r=`${this.service}/${e}`,o=this.errors[e],s=o?function Sce(n,e){return n.replace(Tce,(t,i)=>{const r=e[i];return null!=r?String(r):`<${i}?>`})}(o,i):"Error";return new Wi(r,`${this.serviceName}: ${s} (${r}).`,i)}}const Tce=/\{\$([^}]+)}/g;function sf(n){return JSON.parse(n)}function Ln(n){return JSON.stringify(n)}const Z_=function(n){let e={},t={},i={},r="";try{const o=n.split(".");e=sf(Q_(o[0])||""),t=sf(Q_(o[1])||""),r=o[2],i=t.d||{},delete t.d}catch{}return{header:e,claims:t,data:i,signature:r}};function ts(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function Cu(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]}function KE(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function J_(n,e,t){const i={};for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=e.call(t,n[r],r,n));return i}function ey(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const r of t){if(!i.includes(r))return!1;const o=n[r],s=e[r];if(pH(o)&&pH(s)){if(!ey(o,s))return!1}else if(o!==s)return!1}for(const r of i)if(!t.includes(r))return!1;return!0}function pH(n){return null!==n&&"object"==typeof n}function af(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function lf(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,o]=i.split("=");e[decodeURIComponent(r)]=decodeURIComponent(o)}}),e}function cf(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}class Rce{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const i=this.W_;if("string"==typeof e)for(let d=0;d<16;d++)i[d]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let d=0;d<16;d++)i[d]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let d=16;d<80;d++){const h=i[d-3]^i[d-8]^i[d-14]^i[d-16];i[d]=4294967295&(h<<1|h>>>31)}let c,u,r=this.chain_[0],o=this.chain_[1],s=this.chain_[2],a=this.chain_[3],l=this.chain_[4];for(let d=0;d<80;d++){d<40?d<20?(c=a^o&(s^a),u=1518500249):(c=o^s^a,u=1859775393):d<60?(c=o&s|a&(o|s),u=2400959708):(c=o^s^a,u=3395469782);const h=(r<<5|r>>>27)+c+l+u+i[d]&4294967295;l=a,a=s,s=4294967295&(o<<30|o>>>2),o=r,r=h}this.chain_[0]=this.chain_[0]+r&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+s&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,t){if(null==e)return;void 0===t&&(t=e.length);const i=t-this.blockSize;let r=0;const o=this.buf_;let s=this.inbuf_;for(;r<t;){if(0===s)for(;r<=i;)this.compress_(e,r),r+=this.blockSize;if("string"==typeof e){for(;r<t;)if(o[s]=e.charCodeAt(r),++s,++r,s===this.blockSize){this.compress_(o),s=0;break}}else for(;r<t;)if(o[s]=e[r],++s,++r,s===this.blockSize){this.compress_(o),s=0;break}}this.inbuf_=s,this.total_+=t}digest(){const e=[];let t=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=255&t,t/=256;this.compress_(this.buf_);let i=0;for(let r=0;r<5;r++)for(let o=24;o>=0;o-=8)e[i]=this.chain_[r]>>o&255,++i;return e}}class Oce{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let r;if(void 0===e&&void 0===t&&void 0===i)throw new Error("Missing Observer.");r=function Pce(n,e){if("object"!=typeof n||null===n)return!1;for(const t of e)if(t in n&&"function"==typeof n[t])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:i},void 0===r.next&&(r.next=YE),void 0===r.error&&(r.error=YE),void 0===r.complete&&(r.complete=YE);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),o}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function YE(){}const ny=function(n){let e=0;for(let t=0;t<n.length;t++){const i=n.charCodeAt(t);i<128?e++:i<2048?e+=2:i>=55296&&i<=56319?(e+=4,t++):e+=3}return e},Fce=1e3,Lce=2,Vce=144e5,Bce=.5;function QE(n,e=Fce,t=Lce){const i=e*Math.pow(t,n),r=Math.round(Bce*i*(Math.random()-.5)*2);return Math.min(Vce,i+r)}function Nt(n){return n&&n._delegate?n._delegate:n}class wn{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ul="[DEFAULT]";class jce{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new wu;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:t});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e?.identifier),r=null!==(t=e?.optional)&&void 0!==t&&t;if(!this.isInitialized(i)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function zce(n){return"EAGER"===n.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:ul})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:r});i.resolve(o)}catch{}}}}clearInstance(e=ul){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return _(function*(){const t=Array.from(e.instances.values());yield Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=ul){return this.instances.has(e)}getOptions(e=ul){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[o,s]of this.instancesDeferred.entries())i===this.normalizeInstanceIdentifier(o)&&s.resolve(r);return r}onInit(e,t){var i;const r=this.normalizeInstanceIdentifier(t),o=null!==(i=this.onInitCallbacks.get(r))&&void 0!==i?i:new Set;o.add(e),this.onInitCallbacks.set(r,o);const s=this.instances.get(r);return s&&e(s,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const r of i)try{r(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:(n=e,n===ul?void 0:n),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}var n;return i||null}normalizeInstanceIdentifier(e=ul){return this.component?this.component.multipleInstances?e:ul:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class $ce{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new jce(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const XE=[];var Pe=(()=>{return(n=Pe||(Pe={}))[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",Pe;var n})();const mH={debug:Pe.DEBUG,verbose:Pe.VERBOSE,info:Pe.INFO,warn:Pe.WARN,error:Pe.ERROR,silent:Pe.SILENT},Gce=Pe.INFO,Wce={[Pe.DEBUG]:"log",[Pe.VERBOSE]:"log",[Pe.INFO]:"info",[Pe.WARN]:"warn",[Pe.ERROR]:"error"},qce=(n,e,...t)=>{if(e<n.logLevel)return;const i=(new Date).toISOString(),r=Wce[e];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[r](`[${i}]  ${n.name}:`,...t)};class dl{constructor(e){this.name=e,this._logLevel=Gce,this._logHandler=qce,this._userLogHandler=null,XE.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?mH[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pe.DEBUG,...e),this._logHandler(this,Pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pe.VERBOSE,...e),this._logHandler(this,Pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pe.INFO,...e),this._logHandler(this,Pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pe.WARN,...e),this._logHandler(this,Pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pe.ERROR,...e),this._logHandler(this,Pe.ERROR,...e)}}const Kce=(n,e)=>e.some(t=>n instanceof t);let gH,_H;const yH=new WeakMap,ZE=new WeakMap,vH=new WeakMap,JE=new WeakMap,eD=new WeakMap;let tD={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return ZE.get(n);if("objectStoreNames"===e)return n.objectStoreNames||vH.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ks(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function tue(n){return"function"==typeof n?function eue(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Qce(){return _H||(_H=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(nD(this),e),Ks(yH.get(this))}:function(...e){return Ks(n.apply(nD(this),e))}:function(e,...t){const i=n.call(nD(this),e,...t);return vH.set(i,e.sort?e.sort():[e]),Ks(i)}}(n):(n instanceof IDBTransaction&&function Zce(n){if(ZE.has(n))return;const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),r()},s=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});ZE.set(n,e)}(n),Kce(n,function Yce(){return gH||(gH=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,tD):n)}function Ks(n){if(n instanceof IDBRequest)return function Xce(n){const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(Ks(n.result)),r()},s=()=>{i(n.error),r()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&yH.set(t,n)}).catch(()=>{}),eD.set(e,n),e}(n);if(JE.has(n))return JE.get(n);const e=tue(n);return e!==n&&(JE.set(n,e),eD.set(e,n)),e}const nD=n=>eD.get(n),iue=["get","getKey","getAll","getAllKeys","count"],rue=["put","add","delete","clear"],iD=new Map;function bH(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(iD.get(e))return iD.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,r=rue.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!r&&!iue.includes(t))return;const o=function(){var s=_(function*(a,...l){const c=this.transaction(a,r?"readwrite":"readonly");let u=c.store;return i&&(u=u.index(l.shift())),(yield Promise.all([u[t](...l),r&&c.done]))[0]});return function(l){return s.apply(this,arguments)}}();return iD.set(e,o),o}!function Jce(n){tD=n(tD)}(n=>({...n,get:(e,t,i)=>bH(e,t)||n.get(e,t,i),has:(e,t)=>!!bH(e,t)||n.has(e,t)}));class oue{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(function sue(n){return"VERSION"===n.getComponent()?.type}(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}return null}).filter(t=>t).join(" ")}}const rD="@firebase/app",hl=new dl("@firebase/app"),iy="[DEFAULT]",kue={[rD]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},fl=new Map,ry=new Map;function Oue(n,e){try{n.container.addComponent(e)}catch(t){hl.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Vn(n){const e=n.name;if(ry.has(e))return hl.debug(`There were multiple attempts to register component ${e}.`),!1;ry.set(e,n);for(const t of fl.values())Oue(t,n);return!0}function Ys(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}const ns=new ho("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Nue{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new wn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ns.create("app-deleted",{appName:this._name})}}const is="9.21.0";function CH(n,e={}){let t=n;"object"!=typeof e&&(e={name:e});const i=Object.assign({name:iy,automaticDataCollectionEnabled:!1},e),r=i.name;if("string"!=typeof r||!r)throw ns.create("bad-app-name",{appName:String(r)});if(t||(t=xce()),!t)throw ns.create("no-options");const o=fl.get(r);if(o){if(ey(t,o.options)&&ey(i,o.config))return o;throw ns.create("duplicate-app",{appName:r})}const s=new $ce(r);for(const l of ry.values())s.addComponent(l);const a=new Nue(t,i,s);return fl.set(r,a),a}function uf(n=iy){const e=fl.get(n);if(!e&&n===iy)return CH();if(!e)throw ns.create("no-app",{appName:n});return e}function xH(){return Array.from(fl.values())}function it(n,e,t){var i;let r=null!==(i=kue[n])&&void 0!==i?i:n;t&&(r+=`-${t}`);const o=r.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${r}" with version "${e}":`];return o&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void hl.warn(a.join(" "))}Vn(new wn(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const Fue="firebase-heartbeat-database",Lue=1,df="firebase-heartbeat-store";let sD=null;function EH(){return sD||(sD=function nue(n,e,{blocked:t,upgrade:i,blocking:r,terminated:o}={}){const s=indexedDB.open(n,e),a=Ks(s);return i&&s.addEventListener("upgradeneeded",l=>{i(Ks(s.result),l.oldVersion,l.newVersion,Ks(s.transaction),l)}),t&&s.addEventListener("blocked",l=>t(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),r&&l.addEventListener("versionchange",c=>r(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}(Fue,Lue,{upgrade:(n,e)=>{0===e&&n.createObjectStore(df)}}).catch(n=>{throw ns.create("idb-open",{originalErrorMessage:n.message})})),sD}function aD(){return(aD=_(function*(n){try{return(yield EH()).transaction(df).objectStore(df).get(IH(n))}catch(e){if(e instanceof Wi)hl.warn(e.message);else{const t=ns.create("idb-get",{originalErrorMessage:e?.message});hl.warn(t.message)}}})).apply(this,arguments)}function DH(n,e){return lD.apply(this,arguments)}function lD(){return(lD=_(function*(n,e){try{const i=(yield EH()).transaction(df,"readwrite");return yield i.objectStore(df).put(e,IH(n)),i.done}catch(t){if(t instanceof Wi)hl.warn(t.message);else{const i=ns.create("idb-set",{originalErrorMessage:t?.message});hl.warn(i.message)}}})).apply(this,arguments)}function IH(n){return`${n.name}!${n.options.appId}`}class jue{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new zue(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}triggerHeartbeat(){var e=this;return _(function*(){const i=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=SH();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==r&&!e._heartbeatsCache.heartbeats.some(o=>o.date===r))return e._heartbeatsCache.heartbeats.push({date:r,agent:i}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(o=>{const s=new Date(o.date).valueOf();return Date.now()-s<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return _(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const t=SH(),{heartbeatsToSend:i,unsentEntries:r}=function Hue(n,e=1024){const t=[];let i=n.slice();for(const r of n){const o=t.find(s=>s.agent===r.agent);if(o){if(o.dates.push(r.date),TH(t)>e){o.dates.pop();break}}else if(t.push({agent:r.agent,dates:[r.date]}),TH(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}(e._heartbeatsCache.heartbeats),o=Y_(JSON.stringify({version:2,heartbeats:i}));return e._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(e._heartbeatsCache.heartbeats=r,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),o})()}}function SH(){return(new Date).toISOString().substring(0,10)}class zue{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return _(function*(){return!!cl()&&rf().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return _(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function Vue(n){return aD.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var t=this;return _(function*(){var i;if(yield t._canUseIndexedDBPromise){const o=yield t.read();return DH(t.app,{lastSentHeartbeatDate:null!==(i=e.lastSentHeartbeatDate)&&void 0!==i?i:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var t=this;return _(function*(){var i;if(yield t._canUseIndexedDBPromise){const o=yield t.read();return DH(t.app,{lastSentHeartbeatDate:null!==(i=e.lastSentHeartbeatDate)&&void 0!==i?i:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}})()}}function TH(n){return Y_(JSON.stringify({version:2,heartbeats:n})).length}!function $ue(n){Vn(new wn("platform-logger",e=>new oue(e),"PRIVATE")),Vn(new wn("heartbeat",e=>new jue(e),"PRIVATE")),it(rD,"0.9.9",n),it(rD,"0.9.9","esm2017"),it("fire-js","")}("");const Gue=function AH(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},MH=new ho("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),oy=new dl("@firebase/auth");function sy(n,...e){oy.logLevel<=Pe.ERROR&&oy.error(`Auth (${is}): ${n}`,...e)}function Ai(n,...e){throw cD(n,...e)}function fo(n,...e){return cD(n,...e)}function cD(n,...e){if("string"!=typeof n){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return MH.create(n,...e)}function N(n,e,...t){if(!n)throw cD(e,...t)}function po(n){const e="INTERNAL ASSERTION FAILED: "+n;throw sy(e),new Error(e)}function Qs(n,e){n||po(e)}function hf(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.href)||""}function kH(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}class ff{constructor(e,t){this.shortDelay=e,this.longDelay=t,Qs(t>e,"Short delay should be less than long delay!"),this.isMobile=GE()||fH()}get(){return function que(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function uD(){return"http:"===kH()||"https:"===kH()}()||WE()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function dD(n,e){Qs(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class OH{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void po("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void po("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void po("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Yue={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Que=new ff(3e4,6e4);function It(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function Ft(n,e,t,i){return hD.apply(this,arguments)}function hD(){return(hD=_(function*(n,e,t,i,r={}){return PH(n,r,_(function*(){let o={},s={};i&&("GET"===e?s=i:o={body:JSON.stringify(i)});const a=af(Object.assign({key:n.config.apiKey},s)).slice(1),l=yield n._getAdditionalHeaders();return l["Content-Type"]="application/json",n.languageCode&&(l["X-Firebase-Locale"]=n.languageCode),OH.fetch()(NH(n,n.config.apiHost,t,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},o))}))})).apply(this,arguments)}function PH(n,e,t){return fD.apply(this,arguments)}function fD(){return(fD=_(function*(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},Yue),e);try{const r=new Xue(n),o=yield Promise.race([t(),r.promise]);r.clearNetworkTimeout();const s=yield o.json();if("needConfirmation"in s)throw pf(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[l,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===l)throw pf(n,"credential-already-in-use",s);if("EMAIL_EXISTS"===l)throw pf(n,"email-already-in-use",s);if("USER_DISABLED"===l)throw pf(n,"user-disabled",s);const u=i[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw function RH(n,e,t){const i=Object.assign(Object.assign({},Gue()),{[e]:t});return new ho("auth","Firebase",i).create(e,{appName:n.name})}(n,u,c);Ai(n,u)}}catch(r){if(r instanceof Wi)throw r;Ai(n,"network-request-failed",{message:String(r)})}})).apply(this,arguments)}function rs(n,e,t,i){return pD.apply(this,arguments)}function pD(){return(pD=_(function*(n,e,t,i,r={}){const o=yield Ft(n,e,t,i,r);return"mfaPendingCredential"in o&&Ai(n,"multi-factor-auth-required",{_serverResponse:o}),o})).apply(this,arguments)}function NH(n,e,t,i){const r=`${e}${t}?${i}`;return n.config.emulator?dD(n.config,r):`${n.config.apiScheme}://${r}`}class Xue{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(fo(this.auth,"network-request-failed")),Que.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function pf(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const r=fo(n,e,i);return r.customData._tokenResponse=t,r}function mD(){return(mD=_(function*(n,e){return Ft(n,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function _D(){return(_D=_(function*(n,e){return Ft(n,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function mf(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function yD(){return(yD=_(function*(n,e=!1){const t=Nt(n),i=yield t.getIdToken(e),r=ay(i);N(r&&r.exp&&r.auth_time&&r.iat,t.auth,"internal-error");const o="object"==typeof r.firebase?r.firebase:void 0,s=o?.sign_in_provider;return{claims:r,token:i,authTime:mf(vD(r.auth_time)),issuedAtTime:mf(vD(r.iat)),expirationTime:mf(vD(r.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})).apply(this,arguments)}function vD(n){return 1e3*Number(n)}function ay(n){const[e,t,i]=n.split(".");if(void 0===e||void 0===t||void 0===i)return sy("JWT malformed, contained fewer than 3 sections"),null;try{const r=Q_(t);return r?JSON.parse(r):(sy("Failed to decode base64 JWT payload"),null)}catch(r){return sy("Caught error parsing JWT payload as JSON",r?.toString()),null}}function os(n,e){return bD.apply(this,arguments)}function bD(){return(bD=_(function*(n,e,t=!1){if(t)return e;try{return yield e}catch(i){throw i instanceof Wi&&function ide({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}(i)&&n.auth.currentUser===n&&(yield n.auth.signOut()),i}})).apply(this,arguments)}class rde{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),i}{this.errorBackoff=3e4;const r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(_(function*(){yield t.iteration()}),i)}iteration(){var e=this;return _(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t?.code&&e.schedule(!0))}e.schedule()})()}}class FH{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=mf(this.lastLoginAt),this.creationTime=mf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function gf(n){return wD.apply(this,arguments)}function wD(){return wD=_(function*(n){var e;const t=n.auth,i=yield n.getIdToken(),r=yield os(n,function ede(n,e){return _D.apply(this,arguments)}(t,{idToken:i}));N(r?.users.length,t,"internal-error");const o=r.users[0];n._notifyReloadListener(o);const s=null!==(e=o.providerUserInfo)&&void 0!==e&&e.length?function ade(n){return n.map(e=>{var{providerId:t}=e,i=iN(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}(o.providerUserInfo):[],a=function sde(n,e){return[...n.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}(n.providerData,s),u=!!n.isAnonymous&&!(n.email&&o.passwordHash||a?.length),d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new FH(o.createdAt,o.lastLoginAt),isAnonymous:u};Object.assign(n,d)}),wD.apply(this,arguments)}function CD(){return(CD=_(function*(n){const e=Nt(n);yield gf(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function xD(){return(xD=_(function*(n,e){const t=yield PH(n,{},_(function*(){const i=af({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:o}=n.config,s=NH(n,r,"/v1/token",`key=${o}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",OH.fetch()(s,{method:"POST",headers:a,body:i})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})).apply(this,arguments)}class _f{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){N(e.idToken,"internal-error"),N(typeof e.idToken<"u","internal-error"),N(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function nde(n){const e=ay(n);return N(e,"internal-error"),N(typeof e.exp<"u","internal-error"),N(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){var i=this;return _(function*(){return N(!i.accessToken||i.refreshToken,e,"user-token-expired"),t||!i.accessToken||i.isExpired?i.refreshToken?(yield i.refresh(e,i.refreshToken),i.accessToken):null:i.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var i=this;return _(function*(){const{accessToken:r,refreshToken:o,expiresIn:s}=yield function lde(n,e){return xD.apply(this,arguments)}(e,t);i.updateTokensAndExpiration(r,o,Number(s))})()}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*i}static fromJSON(e,t){const{refreshToken:i,accessToken:r,expirationTime:o}=t,s=new _f;return i&&(N("string"==typeof i,"internal-error",{appName:e}),s.refreshToken=i),r&&(N("string"==typeof r,"internal-error",{appName:e}),s.accessToken=r),o&&(N("number"==typeof o,"internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new _f,this.toJSON())}_performRefresh(){return po("not implemented")}}function Xs(n,e){N("string"==typeof n||typeof n>"u","internal-error",{appName:e})}class pl{constructor(e){var{uid:t,auth:i,stsTokenManager:r}=e,o=iN(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new rde(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new FH(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){var t=this;return _(function*(){const i=yield os(t,t.stsTokenManager.getToken(t.auth,e));return N(i,t.auth,"internal-error"),t.accessToken!==i&&(t.accessToken=i,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),i})()}getIdTokenResult(e){return function tde(n){return yD.apply(this,arguments)}(this,e)}reload(){return function ode(n){return CD.apply(this,arguments)}(this)}_assign(e){this!==e&&(N(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new pl(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){N(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var i=this;return _(function*(){let r=!1;e.idToken&&e.idToken!==i.stsTokenManager.accessToken&&(i.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield gf(i)),yield i.auth._persistUserIfCurrent(i),r&&i.auth._notifyListenersIfCurrent(i)})()}delete(){var e=this;return _(function*(){const t=yield e.getIdToken();return yield os(e,function Zue(n,e){return mD.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,r,o,s,a,l,c,u;const d=null!==(i=t.displayName)&&void 0!==i?i:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,f=null!==(o=t.phoneNumber)&&void 0!==o?o:void 0,p=null!==(s=t.photoURL)&&void 0!==s?s:void 0,m=null!==(a=t.tenantId)&&void 0!==a?a:void 0,g=null!==(l=t._redirectEventId)&&void 0!==l?l:void 0,y=null!==(c=t.createdAt)&&void 0!==c?c:void 0,x=null!==(u=t.lastLoginAt)&&void 0!==u?u:void 0,{uid:v,emailVerified:S,isAnonymous:j,providerData:z,stsTokenManager:Re}=t;N(v&&Re,e,"internal-error");const pt=_f.fromJSON(this.name,Re);N("string"==typeof v,e,"internal-error"),Xs(d,e.name),Xs(h,e.name),N("boolean"==typeof S,e,"internal-error"),N("boolean"==typeof j,e,"internal-error"),Xs(f,e.name),Xs(p,e.name),Xs(m,e.name),Xs(g,e.name),Xs(y,e.name),Xs(x,e.name);const qn=new pl({uid:v,auth:e,email:h,emailVerified:S,displayName:d,isAnonymous:j,photoURL:p,phoneNumber:f,tenantId:m,stsTokenManager:pt,createdAt:y,lastLoginAt:x});return z&&Array.isArray(z)&&(qn.providerData=z.map(jr=>Object.assign({},jr))),g&&(qn._redirectEventId=g),qn}static _fromIdTokenResponse(e,t,i=!1){return _(function*(){const r=new _f;r.updateFromServerResponse(t);const o=new pl({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:i});return yield gf(o),o})()}}const LH=new Map;function ss(n){Qs(n instanceof Function,"Expected a class definition");let e=LH.get(n);return e?(Qs(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,LH.set(n,e),e)}const VH=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return _(function*(){return!0})()}_set(t,i){var r=this;return _(function*(){r.storage[t]=i})()}_get(t){var i=this;return _(function*(){const r=i.storage[t];return void 0===r?null:r})()}_remove(t){var i=this;return _(function*(){delete i.storage[t]})()}_addListener(t,i){}_removeListener(t,i){}}return n.type="NONE",n})();function ly(n,e,t){return`firebase:${n}:${e}:${t}`}class Eu{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:r,name:o}=this.auth;this.fullUserKey=ly(this.userKey,r.apiKey,o),this.fullPersistenceKey=ly("persistence",r.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return _(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?pl._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return _(function*(){if(t.persistence===e)return;const i=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,i?t.setCurrentUser(i):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,i="authUser"){return _(function*(){if(!t.length)return new Eu(ss(VH),e,i);const r=(yield Promise.all(t.map(function(){var c=_(function*(u){if(yield u._isAvailable())return u});return function(u){return c.apply(this,arguments)}}()))).filter(c=>c);let o=r[0]||ss(VH);const s=ly(i,e.config.apiKey,e.name);let a=null;for(const c of t)try{const u=yield c._get(s);if(u){const d=pl._fromJSON(e,u);c!==o&&(a=d),o=c;break}}catch{}const l=r.filter(c=>c._shouldAllowMigration);return o._shouldAllowMigration&&l.length?(o=l[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(t.map(function(){var c=_(function*(u){if(u!==o)try{yield u._remove(s)}catch{}});return function(u){return c.apply(this,arguments)}}())),new Eu(o,e,i)):new Eu(o,e,i)})()}}function BH(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(HH(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(UH(e))return"Firefox";if(e.includes("silk/"))return"Silk";if($H(e))return"Blackberry";if(GH(e))return"Webos";if(ED(e))return"Safari";if((e.includes("chrome/")||jH(e))&&!e.includes("edge/"))return"Chrome";if(zH(e))return"Android";{const i=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===i?.length)return i[1]}return"Other"}function UH(n=bn()){return/firefox\//i.test(n)}function ED(n=bn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function jH(n=bn()){return/crios\//i.test(n)}function HH(n=bn()){return/iemobile/i.test(n)}function zH(n=bn()){return/android/i.test(n)}function $H(n=bn()){return/blackberry/i.test(n)}function GH(n=bn()){return/webos/i.test(n)}function cy(n=bn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function WH(n=bn()){return cy(n)||zH(n)||GH(n)||$H(n)||/windows phone/i.test(n)||HH(n)}function qH(n,e=[]){let t;switch(n){case"Browser":t=BH(bn());break;case"Worker":t=`${BH(bn())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${is}/${i}`}function KH(n,e){return ID.apply(this,arguments)}function ID(){return(ID=_(function*(n,e){return Ft(n,"GET","/v2/recaptchaConfig",It(n,e))})).apply(this,arguments)}function QH(n){return void 0!==n&&void 0!==n.enterprise}class XH{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(t=>"EMAIL_PASSWORD_PROVIDER"===t.provider&&"OFF"!==t.enforcementState)}}function SD(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=r=>{const o=fo("internal-error");o.customData=r,t(o)},i.type="text/javascript",i.charset="UTF-8",function fde(){var n,e;return null!==(e=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==e?e:document}().appendChild(i)})}function ZH(n){return`__${n}${Math.floor(1e6*Math.random())}`}const gde="NO_RECAPTCHA";class JH{constructor(e){this.type="recaptcha-enterprise",this.auth=Cn(e)}verify(e="verify",t=!1){var i=this;return _(function*(){function o(){return o=_(function*(a){if(!t){if(null==a.tenantId&&null!=a._agentRecaptchaConfig)return a._agentRecaptchaConfig.siteKey;if(null!=a.tenantId&&void 0!==a._tenantRecaptchaConfigs[a.tenantId])return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(function(){var l=_(function*(c,u){KH(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(void 0!==d.recaptchaKey){const h=new XH(d);return null==a.tenantId?a._agentRecaptchaConfig=h:a._tenantRecaptchaConfigs[a.tenantId]=h,c(h.siteKey)}u(new Error("recaptcha Enterprise site key undefined"))}).catch(d=>{u(d)})});return function(c,u){return l.apply(this,arguments)}}())}),o.apply(this,arguments)}function s(a,l,c){const u=window.grecaptcha;QH(u)?u.enterprise.ready(()=>{u.enterprise.execute(a,{action:e}).then(d=>{l(d)}).catch(()=>{l(gde)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,l)=>{(function r(a){return o.apply(this,arguments)})(i.auth).then(c=>{if(!t&&QH(window.grecaptcha))s(c,a,l);else{if(typeof window>"u")return void l(new Error("RecaptchaVerifier is only supported in browser"));SD("https://www.google.com/recaptcha/enterprise.js?render="+c).then(()=>{s(c,a,l)}).catch(u=>{l(u)})}}).catch(c=>{l(c)})})})()}}function Zs(n,e,t){return TD.apply(this,arguments)}function TD(){return(TD=_(function*(n,e,t,i=!1){const r=new JH(n);let o;try{o=yield r.verify(t)}catch{o=yield r.verify(t,!0)}const s=Object.assign({},e);return Object.assign(s,i?{captchaResp:o}:{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s})).apply(this,arguments)}class _de{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=o=>new Promise((s,a)=>{try{s(e(o))}catch(l){a(l)}});i.onAbort=t,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}runMiddleware(e){var t=this;return _(function*(){if(t.auth.currentUser===e)return;const i=[];try{for(const r of t.queue)yield r(e),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const o of i)try{o()}catch{}throw t.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})()}}class yde{constructor(e,t,i,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ez(this),this.idTokenSubscription=new ez(this),this.beforeStateQueue=new _de(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=MH,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){var i=this;return t&&(this._popupRedirectResolver=ss(t)),this._initializationPromise=this.queue(_(function*(){var r,o;if(!i._deleted&&(i.persistenceManager=yield Eu.create(i,e),!i._deleted)){if(null!==(r=i._popupRedirectResolver)&&void 0!==r&&r._shouldInitProactively)try{yield i._popupRedirectResolver._initialize(i)}catch{}yield i.initializeCurrentUser(t),i.lastNotifiedUid=(null===(o=i.currentUser)||void 0===o?void 0:o.uid)||null,!i._deleted&&(i._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return _(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t,!0)}})()}initializeCurrentUser(e){var t=this;return _(function*(){var i;const r=yield t.assertedPersistence.getCurrentUser();let o=r,s=!1;if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const a=null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId,l=o?._redirectEventId,c=yield t.tryRedirectSignIn(e);(!a||a===l)&&c?.user&&(o=c.user,s=!0)}if(!o)return t.directlySetCurrentUser(null);if(!o._redirectEventId){if(s)try{yield t.beforeStateQueue.runMiddleware(o)}catch(a){o=r,t._popupRedirectResolver._overrideRedirectResult(t,()=>Promise.reject(a))}return o?t.reloadAndSetCurrentUserOrClear(o):t.directlySetCurrentUser(null)}return N(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===o._redirectEventId?t.directlySetCurrentUser(o):t.reloadAndSetCurrentUserOrClear(o)})()}tryRedirectSignIn(e){var t=this;return _(function*(){let i=null;try{i=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch{yield t._setRedirectUser(null)}return i})()}reloadAndSetCurrentUserOrClear(e){var t=this;return _(function*(){try{yield gf(e)}catch(i){if("auth/network-request-failed"!==i?.code)return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function Kue(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var e=this;return _(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return _(function*(){const i=e?Nt(e):null;return i&&N(i.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(i&&i._clone(t))})()}_updateCurrentUser(e,t=!1){var i=this;return _(function*(){if(!i._deleted)return e&&N(i.tenantId===e.tenantId,i,"tenant-id-mismatch"),t||(yield i.beforeStateQueue.runMiddleware(e)),i.queue(_(function*(){yield i.directlySetCurrentUser(e),i.notifyAuthListeners()}))})()}signOut(){var e=this;return _(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var t=this;return this.queue(_(function*(){yield t.assertedPersistence.setPersistence(ss(e))}))}initializeRecaptchaConfig(){var e=this;return _(function*(){const t=yield KH(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),i=new XH(t);null==e.tenantId?e._agentRecaptchaConfig=i:e._tenantRecaptchaConfigs[e.tenantId]=i,i.emailPasswordEnabled&&new JH(e).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ho("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var i=this;return _(function*(){const r=yield i.getOrInitRedirectPersistenceManager(t);return null===e?r.removeCurrentUser():r.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return _(function*(){if(!t.redirectPersistenceManager){const i=e&&ss(e)||t._popupRedirectResolver;N(i,t,"argument-error"),t.redirectPersistenceManager=yield Eu.create(t,[ss(i._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return _(function*(){var i,r;return t._isInitialized&&(yield t.queue(_(function*(){}))),(null===(i=t._currentUser)||void 0===i?void 0:i._redirectEventId)===e?t._currentUser:(null===(r=t.redirectUser)||void 0===r?void 0:r._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return _(function*(){if(e===t.currentUser)return t.queue(_(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,r){if(this._deleted)return()=>{};const o="function"==typeof t?t:t.next.bind(t),s=this._isInitialized?Promise.resolve():this._initializationPromise;return N(s,this,"internal-error"),s.then(()=>o(this.currentUser)),"function"==typeof t?e.addObserver(t,i,r):e.addObserver(t)}directlySetCurrentUser(e){var t=this;return _(function*(){t.currentUser&&t.currentUser!==e&&t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh(),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return N(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=qH(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return _(function*(){var t;const i={"X-Client-Version":e.clientVersion};e.app.options.appId&&(i["X-Firebase-gmpid"]=e.app.options.appId);const r=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();r&&(i["X-Firebase-Client"]=r);const o=yield e._getAppCheckToken();return o&&(i["X-Firebase-AppCheck"]=o),i})()}_getAppCheckToken(){var e=this;return _(function*(){var t;const i=yield null===(t=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();return i?.error&&function Wue(n,...e){oy.logLevel<=Pe.WARN&&oy.warn(`Auth (${is}): ${n}`,...e)}(`Error while retrieving App Check token: ${i.error}`),i?.token})()}}function Cn(n){return Nt(n)}class ez{constructor(e){this.auth=e,this.observer=null,this.addObserver=function kce(n,e){const t=new Oce(n,e);return t.subscribe.bind(t)}(t=>this.observer=t)}get next(){return N(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function tz(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function nz(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}class iz{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return po("not implemented")}_getIdTokenResponse(e){return po("not implemented")}_linkToIdToken(e,t){return po("not implemented")}_getReauthenticationResolver(e){return po("not implemented")}}function oz(n,e){return MD.apply(this,arguments)}function MD(){return(MD=_(function*(n,e){return Ft(n,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function kD(n,e){return OD.apply(this,arguments)}function OD(){return(OD=_(function*(n,e){return rs(n,"POST","/v1/accounts:signInWithPassword",It(n,e))})).apply(this,arguments)}function jD(){return(jD=_(function*(n,e){return rs(n,"POST","/v1/accounts:signInWithEmailLink",It(n,e))})).apply(this,arguments)}function HD(){return(HD=_(function*(n,e){return rs(n,"POST","/v1/accounts:signInWithEmailLink",It(n,e))})).apply(this,arguments)}class yf extends iz{constructor(e,t,i,r=null){super("password",i),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new yf(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new yf(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if(t?.email&&t?.password){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){var t=this;return _(function*(){var i;switch(t.signInMethod){case"password":const r={returnSecureToken:!0,email:t._email,password:t._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(i=e._getRecaptchaConfig())&&void 0!==i&&i.emailPasswordEnabled){const o=yield Zs(e,r,"signInWithPassword");return kD(e,o)}return kD(e,r).catch(function(){var o=_(function*(s){if("auth/missing-recaptcha-token"===s.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const a=yield Zs(e,r,"signInWithPassword");return kD(e,a)}return Promise.reject(s)});return function(s){return o.apply(this,arguments)}}());case"emailLink":return function Sde(n,e){return jD.apply(this,arguments)}(e,{email:t._email,oobCode:t._password});default:Ai(e,"internal-error")}})()}_linkToIdToken(e,t){var i=this;return _(function*(){switch(i.signInMethod){case"password":return oz(e,{idToken:t,returnSecureToken:!0,email:i._email,password:i._password});case"emailLink":return function Tde(n,e){return HD.apply(this,arguments)}(e,{idToken:t,email:i._email,oobCode:i._password});default:Ai(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function as(n,e){return zD.apply(this,arguments)}function zD(){return(zD=_(function*(n,e){return rs(n,"POST","/v1/accounts:signInWithIdp",It(n,e))})).apply(this,arguments)}class wf{constructor(e){var t,i,r,o,s,a;const l=lf(cf(e)),c=null!==(t=l.apiKey)&&void 0!==t?t:null,u=null!==(i=l.oobCode)&&void 0!==i?i:null,d=function Nde(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=l.mode)&&void 0!==r?r:null);N(c&&u&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=u,this.continueUrl=null!==(o=l.continueUrl)&&void 0!==o?o:null,this.languageCode=null!==(s=l.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(a=l.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function Fde(n){const e=lf(cf(n)).link,t=e?lf(cf(e)).deep_link_id:null,i=lf(cf(n)).deep_link_id;return(i?lf(cf(i)).link:null)||i||t||e||n}(e);try{return new wf(t)}catch{return null}}}let sz=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,i){return yf._fromEmailAndPassword(t,i)}static credentialWithLink(t,i){const r=wf.parseLink(i);return N(r,"argument-error"),yf._fromEmailAndCode(t,r.code,r.tenantId)}}return n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink",n})();class Js{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Lde extends Js{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}function hy(n,e){return YD.apply(this,arguments)}function YD(){return(YD=_(function*(n,e){return rs(n,"POST","/v1/accounts:signUp",It(n,e))})).apply(this,arguments)}class ur{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,i,r=!1){return _(function*(){const o=yield pl._fromIdTokenResponse(e,i,r),s=az(i);return new ur({user:o,providerId:s,_tokenResponse:i,operationType:t})})()}static _forOperation(e,t,i){return _(function*(){yield e._updateTokensIfNecessary(i,!0);const r=az(i);return new ur({user:e,providerId:r,_tokenResponse:i,operationType:t})})()}}function az(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class fy extends Wi{constructor(e,t,i,r){var o;super(t.code,t.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,fy.prototype),this.customData={appName:e.name,tenantId:null!==(o=e.tenantId)&&void 0!==o?o:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,r){return new fy(e,t,i,r)}}function lz(n,e,t,i){return("reauthenticate"===e?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw"auth/multi-factor-auth-required"===o.code?fy._fromErrorAndOperation(n,o,e,i):o})}function ZD(n,e){return JD.apply(this,arguments)}function JD(){return(JD=_(function*(n,e,t=!1){const i=yield os(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return ur._forOperation(n,"link",i)})).apply(this,arguments)}function uz(n,e){return tI.apply(this,arguments)}function tI(){return(tI=_(function*(n,e,t=!1){const{auth:i}=n,r="reauthenticate";try{const o=yield os(n,lz(i,r,e,n),t);N(o.idToken,i,"internal-error");const s=ay(o.idToken);N(s,i,"internal-error");const{sub:a}=s;return N(n.uid===a,i,"user-mismatch"),ur._forOperation(n,r,o)}catch(o){throw"auth/user-not-found"===o?.code&&Ai(i,"user-mismatch"),o}})).apply(this,arguments)}function dz(n,e){return nI.apply(this,arguments)}function nI(){return(nI=_(function*(n,e,t=!1){const i="signIn",r=yield lz(n,i,e),o=yield ur._fromIdTokenResponse(n,i,r);return t||(yield n._updateCurrentUser(o.user)),o})).apply(this,arguments)}function iI(n,e){return rI.apply(this,arguments)}function rI(){return(rI=_(function*(n,e){return dz(Cn(n),e)})).apply(this,arguments)}function _I(){return _I=_(function*(n,e,t){var i;const r=Cn(n),o={returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"};let s;if(null!==(i=r._getRecaptchaConfig())&&void 0!==i&&i.emailPasswordEnabled){const c=yield Zs(r,o,"signUpPassword");s=hy(r,c)}else s=hy(r,o).catch(function(){var c=_(function*(u){if("auth/missing-recaptcha-token"===u.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const d=yield Zs(r,o,"signUpPassword");return hy(r,d)}return Promise.reject(u)});return function(u){return c.apply(this,arguments)}}());const a=yield s.catch(c=>Promise.reject(c)),l=yield ur._fromIdTokenResponse(r,"signIn",a);return yield r._updateCurrentUser(l.user),l}),_I.apply(this,arguments)}const my="__sak";class fz{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(my,"1"),this.storage.removeItem(my),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const che=(()=>{class n extends fz{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function she(){const n=bn();return ED(n)||cy(n)}()&&function dde(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=WH(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),o=this.localCache[i];r!==o&&t(i,o,r)}}onStorageEvent(t,i=!1){if(!t.key)return void this.forAllChangedKeys((a,l,c)=>{this.notifyListeners(a,c)});const r=t.key;if(i?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(r);if(t.newValue!==a)null!==t.newValue?this.storage.setItem(r,t.newValue):this.storage.removeItem(r);else if(this.localCache[r]===t.newValue&&!i)return}const o=()=>{const a=this.storage.getItem(r);!i&&this.localCache[r]===a||this.notifyListeners(r,a)},s=this.storage.getItem(r);!function ude(){return function Dce(){const n=bn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}()&&10===document.documentMode}()||s===t.newValue||t.newValue===t.oldValue?o():setTimeout(o,10)}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const o of Array.from(r))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:r}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(t,i){var r=()=>super._set,o=this;return _(function*(){yield r().call(o,t,i),o.localCache[t]=JSON.stringify(i)})()}_get(t){var i=()=>super._get,r=this;return _(function*(){const o=yield i().call(r,t);return r.localCache[t]=JSON.stringify(o),o})()}_remove(t){var i=()=>super._remove,r=this;return _(function*(){yield i().call(r,t),delete r.localCache[t]})()}}return n.type="LOCAL",n})(),pz=(()=>{class n extends fz{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}return n.type="SESSION",n})();let dhe=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(o=>o.isListeningto(t));if(i)return i;const r=new n(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}handleEvent(t){var i=this;return _(function*(){const r=t,{eventId:o,eventType:s,data:a}=r.data,l=i.handlersMap[s];if(!l?.size)return;r.ports[0].postMessage({status:"ack",eventId:o,eventType:s});const c=Array.from(l).map(function(){var d=_(function*(h){return h(r.origin,a)});return function(h){return d.apply(this,arguments)}}()),u=yield function uhe(n){return Promise.all(n.map(function(){var e=_(function*(t){try{return{fulfilled:!0,value:yield t}}catch(i){return{fulfilled:!1,reason:i}}});return function(t){return e.apply(this,arguments)}}()))}(c);r.ports[0].postMessage({status:"done",eventId:o,eventType:s,response:u})})()}_subscribe(t,i){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||0===this.handlersMap[t].size)&&delete this.handlersMap[t],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return n.receivers=[],n})();function kI(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(10*Math.random());return n+t}class hhe{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,i=50){var r=this;return _(function*(){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let s,a;return new Promise((l,c)=>{const u=kI("",20);o.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},i);a={messageChannel:o,onMessage(h){const f=h;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),l(f.data.response);break;default:clearTimeout(d),clearTimeout(s),c(new Error("invalid_response"))}}},r.handlers.add(a),o.port1.addEventListener("message",a.onMessage),r.target.postMessage({eventType:e,eventId:u,data:t},[o.port2])}).finally(()=>{a&&r.removeMessageHandler(a)})})()}}function Zt(){return window}function OI(){return typeof Zt().WorkerGlobalScope<"u"&&"function"==typeof Zt().importScripts}function PI(){return(PI=_(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const mz="firebaseLocalStorageDb",_he=1,gy="firebaseLocalStorage",gz="fbase_key";class xf{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function _y(n,e){return n.transaction([gy],e?"readwrite":"readonly").objectStore(gy)}function NI(){const n=indexedDB.open(mz,_he);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(gy,{keyPath:gz})}catch(r){t(r)}}),n.addEventListener("success",_(function*(){const i=n.result;i.objectStoreNames.contains(gy)?e(i):(i.close(),yield function yhe(){const n=indexedDB.deleteDatabase(mz);return new xf(n).toPromise()}(),e(yield NI()))}))})}function _z(n,e,t){return FI.apply(this,arguments)}function FI(){return(FI=_(function*(n,e,t){const i=_y(n,!0).put({[gz]:e,value:t});return new xf(i).toPromise()})).apply(this,arguments)}function LI(){return(LI=_(function*(n,e){const t=_y(n,!1).get(e),i=yield new xf(t).toPromise();return void 0===i?null:i.value})).apply(this,arguments)}function yz(n,e){const t=_y(n,!0).delete(e);return new xf(t).toPromise()}const Che=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var t=this;return _(function*(){return t.db||(t.db=yield NI()),t.db})()}_withRetries(t){var i=this;return _(function*(){let r=0;for(;;)try{const o=yield i._openDb();return yield t(o)}catch(o){if(r++>3)throw o;i.db&&(i.db.close(),i.db=void 0)}})()}initializeServiceWorkerMessaging(){var t=this;return _(function*(){return OI()?t.initializeReceiver():t.initializeSender()})()}initializeReceiver(){var t=this;return _(function*(){t.receiver=dhe._getInstance(function ghe(){return OI()?self:null}()),t.receiver._subscribe("keyChanged",function(){var i=_(function*(r,o){return{keyProcessed:(yield t._poll()).includes(o.key)}});return function(r,o){return i.apply(this,arguments)}}()),t.receiver._subscribe("ping",function(){var i=_(function*(r,o){return["keyChanged"]});return function(r,o){return i.apply(this,arguments)}}())})()}initializeSender(){var t=this;return _(function*(){var i,r;if(t.activeServiceWorker=yield function phe(){return PI.apply(this,arguments)}(),!t.activeServiceWorker)return;t.sender=new hhe(t.activeServiceWorker);const o=yield t.sender._send("ping",{},800);o&&null!==(i=o[0])&&void 0!==i&&i.fulfilled&&null!==(r=o[0])&&void 0!==r&&r.value.includes("keyChanged")&&(t.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(t){var i=this;return _(function*(){if(i.sender&&i.activeServiceWorker&&function mhe(){var n;return(null===(n=navigator?.serviceWorker)||void 0===n?void 0:n.controller)||null}()===i.activeServiceWorker)try{yield i.sender._send("keyChanged",{key:t},i.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return _(function*(){try{if(!indexedDB)return!1;const t=yield NI();return yield _z(t,my,"1"),yield yz(t,my),!0}catch{}return!1})()}_withPendingWrite(t){var i=this;return _(function*(){i.pendingWrites++;try{yield t()}finally{i.pendingWrites--}})()}_set(t,i){var r=this;return _(function*(){return r._withPendingWrite(_(function*(){return yield r._withRetries(o=>_z(o,t,i)),r.localCache[t]=i,r.notifyServiceWorker(t)}))})()}_get(t){var i=this;return _(function*(){const r=yield i._withRetries(o=>function vhe(n,e){return LI.apply(this,arguments)}(o,t));return i.localCache[t]=r,r})()}_remove(t){var i=this;return _(function*(){return i._withPendingWrite(_(function*(){return yield i._withRetries(r=>yz(r,t)),delete i.localCache[t],i.notifyServiceWorker(t)}))})()}_poll(){var t=this;return _(function*(){const i=yield t._withRetries(s=>{const a=_y(s,!1).getAll();return new xf(a).toPromise()});if(!i)return[];if(0!==t.pendingWrites)return[];const r=[],o=new Set;for(const{fbase_key:s,value:a}of i)o.add(s),JSON.stringify(t.localCache[s])!==JSON.stringify(a)&&(t.notifyListeners(s,a),r.push(s));for(const s of Object.keys(t.localCache))t.localCache[s]&&!o.has(s)&&(t.notifyListeners(s,null),r.push(s));return r})()}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const o of Array.from(r))o(i)}startPolling(){var t=this;this.stopPolling(),this.pollTimer=setInterval(_(function*(){return t._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return n.type="LOCAL",n})();ZH("rcb"),new ff(3e4,6e4);class WI extends iz{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return as(e,this._buildIdpRequest())}_linkToIdToken(e,t){return as(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return as(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Vhe(n){return dz(n.auth,new WI(n),n.bypassAuthState)}function Bhe(n){const{auth:e,user:t}=n;return N(t,e,"internal-error"),uz(t,new WI(n),n.bypassAuthState)}function Uhe(n){return qI.apply(this,arguments)}function qI(){return(qI=_(function*(n){const{auth:e,user:t}=n;return N(t,e,"internal-error"),ZD(t,new WI(n),n.bypassAuthState)})).apply(this,arguments)}class jhe{constructor(e,t,i,r,o=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){var e=this;return new Promise(function(){var t=_(function*(i,r){e.pendingPromise={resolve:i,reject:r};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(o){e.reject(o)}});return function(i,r){return t.apply(this,arguments)}}())}onAuthEvent(e){var t=this;return _(function*(){const{urlResponse:i,sessionId:r,postBody:o,tenantId:s,error:a,type:l}=e;if(a)return void t.reject(a);const c={auth:t.auth,requestUri:i,sessionId:r,tenantId:s||void 0,postBody:o||void 0,user:t.user,bypassAuthState:t.bypassAuthState};try{t.resolve(yield t.getIdpTask(l)(c))}catch(u){t.reject(u)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Vhe;case"linkViaPopup":case"linkViaRedirect":return Uhe;case"reauthViaPopup":case"reauthViaRedirect":return Bhe;default:Ai(this.auth,"internal-error")}}resolve(e){Qs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Qs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new ff(2e3,1e4);const Hhe="pendingRedirect",Ef=new Map;class zhe extends jhe{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}execute(){var e=()=>super.execute,t=this;return _(function*(){let i=Ef.get(t.auth._key());if(!i){try{const o=(yield function $he(n,e){return ZI.apply(this,arguments)}(t.resolver,t.auth))?yield e().call(t):null;i=()=>Promise.resolve(o)}catch(r){i=()=>Promise.reject(r)}Ef.set(t.auth._key(),i)}return t.bypassAuthState||Ef.set(t.auth._key(),()=>Promise.resolve(null)),i()})()}onAuthEvent(e){var t=()=>super.onAuthEvent,i=this;return _(function*(){if("signInViaRedirect"===e.type)return t().call(i,e);if("unknown"!==e.type){if(e.eventId){const r=yield i.auth._redirectUserForId(e.eventId);if(r)return i.user=r,t().call(i,e);i.resolve(null)}}else i.resolve(null)})()}onExecution(){return _(function*(){})()}cleanUp(){}}function ZI(){return(ZI=_(function*(n,e){const t=function wz(n){return ly(Hhe,n.config.apiKey,n.name)}(e),i=function bz(n){return ss(n._redirectPersistence)}(n);if(!(yield i._isAvailable()))return!1;const r="true"===(yield i._get(t));return yield i._remove(t),r})).apply(this,arguments)}function Ghe(n,e){Ef.set(n._key(),e)}function Cz(n,e){return oS.apply(this,arguments)}function oS(){return(oS=_(function*(n,e,t=!1){const i=Cn(n),r=function gl(n,e){return e?ss(e):(N(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}(i,e),s=yield new zhe(i,r,t).execute();return s&&!t&&(delete s.user._redirectEventId,yield i._persistUserIfCurrent(s.user),yield i._setRedirectUser(null,e)),s})).apply(this,arguments)}class Qhe{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function Xhe(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Dz(n);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!Dz(e)){const r=(null===(i=e.error.code)||void 0===i?void 0:i.split("auth/")[1])||"internal-error";t.onError(fo(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ez(e))}saveEventToCache(e){this.cachedEventUids.add(Ez(e)),this.lastProcessedEventTime=Date.now()}}function Ez(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function Dz({type:n,error:e}){return"unknown"===n&&"auth/no-auth-event"===e?.code}function aS(){return(aS=_(function*(n,e={}){return Ft(n,"GET","/v1/projects",e)})).apply(this,arguments)}const Jhe=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,efe=/^https?/;function lS(){return lS=_(function*(n){if(n.config.emulator)return;const{authorizedDomains:e}=yield function Zhe(n){return aS.apply(this,arguments)}(n);for(const t of e)try{if(nfe(t))return}catch{}Ai(n,"unauthorized-domain")}),lS.apply(this,arguments)}function nfe(n){const e=hf(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const s=new URL(n);return""===s.hostname&&""===i?"chrome-extension:"===t&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===t&&s.hostname===i}if(!efe.test(t))return!1;if(Jhe.test(n))return i===n;const r=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}const ife=new ff(3e4,6e4);function Iz(){const n=Zt().___jsl;if(n?.H)for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}let vy=null;const sfe=new ff(5e3,15e3),afe="__/auth/iframe",lfe="emulator/auth/iframe",cfe={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ufe=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function dfe(n){const e=n.config;N(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?dD(e,lfe):`https://${n.config.authDomain}/${afe}`,i={apiKey:e.apiKey,appName:n.name,v:is},r=ufe.get(n.config.apiHost);r&&(i.eid=r);const o=n._getFrameworks();return o.length&&(i.fw=o.join(",")),`${t}?${af(i).slice(1)}`}function cS(){return cS=_(function*(n){const e=yield function ofe(n){return vy=vy||function rfe(n){return new Promise((e,t)=>{var i,r,o;function s(){Iz(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Iz(),t(fo(n,"network-request-failed"))},timeout:ife.get()})}if(null!==(r=null===(i=Zt().gapi)||void 0===i?void 0:i.iframes)&&void 0!==r&&r.Iframe)e(gapi.iframes.getContext());else{if(null===(o=Zt().gapi)||void 0===o||!o.load){const a=ZH("iframefcb");return Zt()[a]=()=>{gapi.load?s():t(fo(n,"network-request-failed"))},SD(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>t(l))}s()}}).catch(e=>{throw vy=null,e})}(n),vy}(n),t=Zt().gapi;return N(t,n,"internal-error"),e.open({where:document.body,url:dfe(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:cfe,dontclear:!0},i=>new Promise(function(){var r=_(function*(o,s){yield i.restyle({setHideOnLeave:!1});const a=fo(n,"network-request-failed"),l=Zt().setTimeout(()=>{s(a)},sfe.get());function c(){Zt().clearTimeout(l),o(i)}i.ping(c).then(c,()=>{s(a)})});return function(o,s){return r.apply(this,arguments)}}()))}),cS.apply(this,arguments)}const ffe={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},pfe=500,mfe=600,gfe="_blank",_fe="http://localhost";class Sz{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const bfe="__/auth/handler",wfe="emulator/auth/handler",Cfe=encodeURIComponent("fac");function Tz(n,e,t,i,r,o){return uS.apply(this,arguments)}function uS(){return(uS=_(function*(n,e,t,i,r,o){N(n.config.authDomain,n,"auth-domain-config-required"),N(n.config.apiKey,n,"invalid-api-key");const s={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:is,eventId:r};if(e instanceof Js){e.setDefaultLanguage(n.languageCode),s.providerId=e.providerId||"",KE(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,d]of Object.entries(o||{}))s[u]=d}if(e instanceof Lde){const u=e.getScopes().filter(d=>""!==d);u.length>0&&(s.scopes=u.join(","))}n.tenantId&&(s.tid=n.tenantId);const a=s;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];const l=yield n._getAppCheckToken(),c=l?`#${Cfe}=${encodeURIComponent(l)}`:"";return`${function xfe({config:n}){return n.emulator?dD(n,wfe):`https://${n.authDomain}/${bfe}`}(n)}?${af(a).slice(1)}${c}`})).apply(this,arguments)}const dS="webStorageSupport",Dfe=class Efe{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=pz,this._completeRedirectFn=Cz,this._overrideRedirectResult=Ghe}_openPopup(e,t,i,r){var o=this;return _(function*(){var s;Qs(null===(s=o.eventManagers[e._key()])||void 0===s?void 0:s.manager,"_initialize() not called before _openPopup()");const a=yield Tz(e,t,i,hf(),r);return function yfe(n,e,t,i=pfe,r=mfe){const o=Math.max((window.screen.availHeight-r)/2,0).toString(),s=Math.max((window.screen.availWidth-i)/2,0).toString();let a="";const l=Object.assign(Object.assign({},ffe),{width:i.toString(),height:r.toString(),top:o,left:s}),c=bn().toLowerCase();t&&(a=jH(c)?gfe:t),UH(c)&&(e=e||_fe,l.scrollbars="yes");const u=Object.entries(l).reduce((h,[f,p])=>`${h}${f}=${p},`,"");if(function cde(n=bn()){var e;return cy(n)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(c)&&"_self"!==a)return function vfe(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}(e||"",a),new Sz(null);const d=window.open(e||"",a,u);N(d,n,"popup-blocked");try{d.focus()}catch{}return new Sz(d)}(e,a,kI())})()}_openRedirect(e,t,i,r){var o=this;return _(function*(){return yield o._originValidation(e),function fhe(n){Zt().location.href=n}(yield Tz(e,t,i,hf(),r)),new Promise(()=>{})})()}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:r,promise:o}=this.eventManagers[t];return r?Promise.resolve(r):(Qs(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}initAndGetManager(e){var t=this;return _(function*(){const i=yield function hfe(n){return cS.apply(this,arguments)}(e),r=new Qhe(e);return i.register("authEvent",o=>(N(o?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),t.eventManagers[e._key()]={manager:r},t.iframes[e._key()]=i,r})()}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(dS,{type:dS},r=>{var o;const s=null===(o=r?.[0])||void 0===o?void 0:o[dS];void 0!==s&&t(!!s),Ai(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function tfe(n){return lS.apply(this,arguments)}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return WH()||ED()||cy()}};var Rz="@firebase/auth";class Ife{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return _(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){N(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Mfe=hH("authIdTokenMaxAge")||300;let Oz=null;const Rfe=n=>function(){var e=_(function*(t){const i=t&&(yield t.getIdTokenResult()),r=i&&((new Date).getTime()-Date.parse(i.issuedAtTime))/1e3;if(r&&r>Mfe)return;const o=i?.token;Oz!==o&&(Oz=o,yield fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))});return function(t){return e.apply(this,arguments)}}();function Iu(n=uf()){const e=Ys(n,"auth");if(e.isInitialized())return e.getImmediate();const t=function vde(n,e){const t=Ys(n,"auth");if(t.isInitialized()){const r=t.getImmediate();if(ey(t.getOptions(),e??{}))return r;Ai(r,"already-initialized")}return t.initialize({options:e})}(n,{popupRedirectResolver:Dfe,persistence:[Che,che,pz]}),i=hH("authTokenSyncURL");if(i){const o=Rfe(i);(function ehe(n,e,t){Nt(n).beforeAuthStateChanged(e,t)})(t,o,()=>o(t.currentUser)),function Jde(n,e,t,i){Nt(n).onIdTokenChanged(e,t,i)}(t,s=>o(s))}const r=dH("auth");return r&&function wde(n,e,t){const i=Cn(n);N(i._canInitEmulator,i,"emulator-config-failed"),N(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const r=!!t?.disableWarnings,o=tz(e),{host:s,port:a}=function Cde(n){const e=tz(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const o=r[1];return{host:o,port:nz(i.substr(o.length+1))}}{const[o,s]=i.split(":");return{host:o,port:nz(s)}}}(e);i.config.emulator={url:`${o}//${s}${null===a?"":`:${a}`}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:r})}),r||function xde(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",n):n())}()}(t,`http://${r}`),t}!function Tfe(n){Vn(new wn("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=i.options;N(s&&!s.includes(":"),"invalid-api-key",{appName:i.name}),N(!a?.includes(":"),"argument-error",{appName:i.name});const l={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:qH(n)},c=new yde(i,r,o,l);return function bde(n,e){const t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map(ss);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e?.popupRedirectResolver)}(c,t),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Vn(new wn("auth-internal",e=>{const t=Cn(e.getProvider("auth").getImmediate());return new Ife(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),it(Rz,"0.23.1",function Sfe(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(n)),it(Rz,"0.23.1","esm2017")}("Browser");let fS=(()=>{class n{}return n.usuarioLocalStorage="usuarioLogueado",n})();var kfe=Ee(104),pS=Ee.n(kfe);let wy=(()=>{class n{constructor(){}Error(t){pS()({text:t,position:"center",className:"error"}).showToast()}Info(t){pS()({text:t,position:"center",className:"info"}).showToast()}Warning(t){pS()({text:t,position:"center",className:"warning"}).showToast()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();it("firebase","9.21.0","app");const Nfe=(n,e)=>e.some(t=>n instanceof t);let Pz,Nz;const Fz=new WeakMap,mS=new WeakMap,Lz=new WeakMap,gS=new WeakMap,_S=new WeakMap;let yS={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return mS.get(n);if("objectStoreNames"===e)return n.objectStoreNames||Lz.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ea(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function Hfe(n){return"function"==typeof n?function jfe(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Lfe(){return Nz||(Nz=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(vS(this),e),ea(Fz.get(this))}:function(...e){return ea(n.apply(vS(this),e))}:function(e,...t){const i=n.call(vS(this),e,...t);return Lz.set(i,e.sort?e.sort():[e]),ea(i)}}(n):(n instanceof IDBTransaction&&function Bfe(n){if(mS.has(n))return;const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),r()},s=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});mS.set(n,e)}(n),Nfe(n,function Ffe(){return Pz||(Pz=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,yS):n)}function ea(n){if(n instanceof IDBRequest)return function Vfe(n){const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(ea(n.result)),r()},s=()=>{i(n.error),r()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&Fz.set(t,n)}).catch(()=>{}),_S.set(e,n),e}(n);if(gS.has(n))return gS.get(n);const e=Hfe(n);return e!==n&&(gS.set(n,e),_S.set(e,n)),e}const vS=n=>_S.get(n),$fe=["get","getKey","getAll","getAllKeys","count"],Gfe=["put","add","delete","clear"],bS=new Map;function Vz(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(bS.get(e))return bS.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,r=Gfe.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!r&&!$fe.includes(t))return;const o=function(){var s=_(function*(a,...l){const c=this.transaction(a,r?"readwrite":"readonly");let u=c.store;return i&&(u=u.index(l.shift())),(yield Promise.all([u[t](...l),r&&c.done]))[0]});return function(l){return s.apply(this,arguments)}}();return bS.set(e,o),o}!function Ufe(n){yS=n(yS)}(n=>({...n,get:(e,t,i)=>Vz(e,t)||n.get(e,t,i),has:(e,t)=>!!Vz(e,t)||n.has(e,t)}));const Bz="@firebase/installations",wS="0.6.4",Uz=1e4,jz=`w:${wS}`,Hz="FIS_v2",Wfe="https://firebaseinstallations.googleapis.com/v1",qfe=36e5,ls=new ho("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function zz(n){return n instanceof Wi&&n.code.includes("request-failed")}function CS({projectId:n}){return`${Wfe}/projects/${n}/installations`}function $z(n){return{token:n.token,requestStatus:2,expiresIn:Xfe(n.expiresIn),creationTime:Date.now()}}function xS(n,e){return ES.apply(this,arguments)}function ES(){return(ES=_(function*(n,e){const i=(yield e.json()).error;return ls.create("request-failed",{requestName:n,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})})).apply(this,arguments)}function Gz({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function DS(n){return IS.apply(this,arguments)}function IS(){return(IS=_(function*(n){const e=yield n();return e.status>=500&&e.status<600?n():e})).apply(this,arguments)}function Xfe(n){return Number(n.replace("s","000"))}function SS(){return(SS=_(function*({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const i=CS(n),r=Gz(n),o=e.getImmediate({optional:!0});if(o){const c=yield o.getHeartbeatsHeader();c&&r.append("x-firebase-client",c)}const a={method:"POST",headers:r,body:JSON.stringify({fid:t,authVersion:Hz,appId:n.appId,sdkVersion:jz})},l=yield DS(()=>fetch(i,a));if(l.ok){const c=yield l.json();return{fid:c.fid||t,registrationStatus:2,refreshToken:c.refreshToken,authToken:$z(c.authToken)}}throw yield xS("Create Installation",l)})).apply(this,arguments)}function qz(n){return new Promise(e=>{setTimeout(e,n)})}const tpe=/^[cdef][\w-]{21}$/,TS="";function npe(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=function ipe(n){return function epe(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}(n).substr(0,22)}(n);return tpe.test(t)?t:TS}catch{return TS}}function Su(n){return`${n.appName}!${n.appId}`}const Tu=new Map;function Kz(n,e){const t=Su(n);Yz(t,e),function spe(n,e){const t=function Qz(){return!_l&&"BroadcastChannel"in self&&(_l=new BroadcastChannel("[Firebase] FID Change"),_l.onmessage=n=>{Yz(n.data.key,n.data.fid)}),_l}();t&&t.postMessage({key:n,fid:e}),function Xz(){0===Tu.size&&_l&&(_l.close(),_l=null)}()}(t,e)}function Yz(n,e){const t=Tu.get(n);if(t)for(const i of t)i(e)}let _l=null;const ape="firebase-installations-database",lpe=1,yl="firebase-installations-store";let AS=null;function MS(){return AS||(AS=function zfe(n,e,{blocked:t,upgrade:i,blocking:r,terminated:o}={}){const s=indexedDB.open(n,e),a=ea(s);return i&&s.addEventListener("upgradeneeded",l=>{i(ea(s.result),l.oldVersion,l.newVersion,ea(s.transaction))}),t&&s.addEventListener("blocked",()=>t()),a.then(l=>{o&&l.addEventListener("close",()=>o()),r&&l.addEventListener("versionchange",()=>r())}).catch(()=>{}),a}(ape,lpe,{upgrade:(n,e)=>{0===e&&n.createObjectStore(yl)}})),AS}function Cy(n,e){return RS.apply(this,arguments)}function RS(){return(RS=_(function*(n,e){const t=Su(n),r=(yield MS()).transaction(yl,"readwrite"),o=r.objectStore(yl),s=yield o.get(t);return yield o.put(e,t),yield r.done,(!s||s.fid!==e.fid)&&Kz(n,e.fid),e})).apply(this,arguments)}function kS(n){return OS.apply(this,arguments)}function OS(){return(OS=_(function*(n){const e=Su(n),i=(yield MS()).transaction(yl,"readwrite");yield i.objectStore(yl).delete(e),yield i.done})).apply(this,arguments)}function Df(n,e){return PS.apply(this,arguments)}function PS(){return(PS=_(function*(n,e){const t=Su(n),r=(yield MS()).transaction(yl,"readwrite"),o=r.objectStore(yl),s=yield o.get(t),a=e(s);return void 0===a?yield o.delete(t):yield o.put(a,t),yield r.done,a&&(!s||s.fid!==a.fid)&&Kz(n,a.fid),a})).apply(this,arguments)}function NS(n){return FS.apply(this,arguments)}function FS(){return FS=_(function*(n){let e;const t=yield Df(n.appConfig,i=>{const r=function cpe(n){return Jz(n||{fid:npe(),registrationStatus:0})}(i),o=function upe(n,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(ls.create("app-offline"))};const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=function dpe(n,e){return LS.apply(this,arguments)}(n,t);return{installationEntry:t,registrationPromise:i}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:hpe(n)}:{installationEntry:e}}(n,r);return e=o.registrationPromise,o.installationEntry});return t.fid===TS?{installationEntry:yield e}:{installationEntry:t,registrationPromise:e}}),FS.apply(this,arguments)}function LS(){return LS=_(function*(n,e){try{const t=yield function Jfe(n,e){return SS.apply(this,arguments)}(n,e);return Cy(n.appConfig,t)}catch(t){throw zz(t)&&409===t.customData.serverCode?yield kS(n.appConfig):yield Cy(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}),LS.apply(this,arguments)}function hpe(n){return VS.apply(this,arguments)}function VS(){return(VS=_(function*(n){let e=yield Zz(n.appConfig);for(;1===e.registrationStatus;)yield qz(100),e=yield Zz(n.appConfig);if(0===e.registrationStatus){const{installationEntry:t,registrationPromise:i}=yield NS(n);return i||t}return e})).apply(this,arguments)}function Zz(n){return Df(n,e=>{if(!e)throw ls.create("installation-not-found");return Jz(e)})}function Jz(n){return function fpe(n){return 1===n.registrationStatus&&n.registrationTime+Uz<Date.now()}(n)?{fid:n.fid,registrationStatus:0}:n}function BS(){return(BS=_(function*({appConfig:n,heartbeatServiceProvider:e},t){const i=function mpe(n,{fid:e}){return`${CS(n)}/${e}/authTokens:generate`}(n,t),r=function Wz(n,{refreshToken:e}){const t=Gz(n);return t.append("Authorization",function Zfe(n){return`${Hz} ${n}`}(e)),t}(n,t),o=e.getImmediate({optional:!0});if(o){const c=yield o.getHeartbeatsHeader();c&&r.append("x-firebase-client",c)}const a={method:"POST",headers:r,body:JSON.stringify({installation:{sdkVersion:jz,appId:n.appId}})},l=yield DS(()=>fetch(i,a));if(l.ok)return $z(yield l.json());throw yield xS("Generate Auth Token",l)})).apply(this,arguments)}function US(n){return jS.apply(this,arguments)}function jS(){return jS=_(function*(n,e=!1){let t;const i=yield Df(n.appConfig,o=>{if(!t$(o))throw ls.create("not-registered");const s=o.authToken;if(!e&&function ype(n){return 2===n.requestStatus&&!function vpe(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+qfe}(n)}(s))return o;if(1===s.requestStatus)return t=function gpe(n,e){return HS.apply(this,arguments)}(n,e),o;{if(!navigator.onLine)throw ls.create("app-offline");const a=function bpe(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}(o);return t=function _pe(n,e){return zS.apply(this,arguments)}(n,a),a}});return t?yield t:i.authToken}),jS.apply(this,arguments)}function HS(){return(HS=_(function*(n,e){let t=yield e$(n.appConfig);for(;1===t.authToken.requestStatus;)yield qz(100),t=yield e$(n.appConfig);const i=t.authToken;return 0===i.requestStatus?US(n,e):i})).apply(this,arguments)}function e$(n){return Df(n,e=>{if(!t$(e))throw ls.create("not-registered");return function wpe(n){return 1===n.requestStatus&&n.requestTime+Uz<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function zS(){return zS=_(function*(n,e){try{const t=yield function ppe(n,e){return BS.apply(this,arguments)}(n,e),i=Object.assign(Object.assign({},e),{authToken:t});return yield Cy(n.appConfig,i),t}catch(t){if(!zz(t)||401!==t.customData.serverCode&&404!==t.customData.serverCode){const i=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield Cy(n.appConfig,i)}else yield kS(n.appConfig);throw t}}),zS.apply(this,arguments)}function t$(n){return void 0!==n&&2===n.registrationStatus}function $S(){return($S=_(function*(n){const e=n,{installationEntry:t,registrationPromise:i}=yield NS(e);return i?i.catch(console.error):US(e).catch(console.error),t.fid})).apply(this,arguments)}function GS(){return GS=_(function*(n,e=!1){const t=n;return yield function Epe(n){return WS.apply(this,arguments)}(t),(yield US(t,e)).token}),GS.apply(this,arguments)}function WS(){return(WS=_(function*(n){const{registrationPromise:e}=yield NS(n);e&&(yield e)})).apply(this,arguments)}function YS(n){return ls.create("missing-app-config-values",{valueName:n})}const n$="installations",Ape=n=>{const e=n.getProvider("app").getImmediate(),t=function Spe(n){if(!n||!n.options)throw YS("App Configuration");if(!n.name)throw YS("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw YS(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}(e);return{app:e,appConfig:t,heartbeatServiceProvider:Ys(e,"heartbeat"),_delete:()=>Promise.resolve()}},Mpe=n=>{const t=Ys(n.getProvider("app").getImmediate(),n$).getImmediate();return{getId:()=>function Cpe(n){return $S.apply(this,arguments)}(t),getToken:r=>function xpe(n){return GS.apply(this,arguments)}(t,r)}};(function Rpe(){Vn(new wn(n$,Ape,"PUBLIC")),Vn(new wn("installations-internal",Mpe,"PRIVATE"))})(),it(Bz,wS),it(Bz,wS,"esm2017");const QS="@firebase/remote-config",Mi=new ho("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Hpe{constructor(e,t,i,r){this.client=e,this.storage=t,this.storageCache=i,this.logger=r}isCachedDataFresh(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const i=Date.now()-t,r=i<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${i}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${r}.`),r}fetch(e){var t=this;return _(function*(){const[i,r]=yield Promise.all([t.storage.getLastSuccessfulFetchTimestampMillis(),t.storage.getLastSuccessfulFetchResponse()]);if(r&&t.isCachedDataFresh(e.cacheMaxAgeMillis,i))return r;e.eTag=r&&r.eTag;const o=yield t.client.fetch(e),s=[t.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===o.status&&s.push(t.storage.setLastSuccessfulFetchResponse(o)),yield Promise.all(s),o})()}}function zpe(n=navigator){return n.languages&&n.languages[0]||n.language}class $pe{constructor(e,t,i,r,o,s){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=i,this.projectId=r,this.apiKey=o,this.appId=s}fetch(e){var t=this;return _(function*(){const[i,r]=yield Promise.all([t.firebaseInstallations.getId(),t.firebaseInstallations.getToken()]),s=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${t.projectId}/namespaces/${t.namespace}:fetch?key=${t.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},l={sdk_version:t.sdkVersion,app_instance_id:i,app_instance_id_token:r,app_id:t.appId,language_code:zpe()},c={method:"POST",headers:a,body:JSON.stringify(l)},u=fetch(s,c),d=new Promise((y,x)=>{e.signal.addEventListener(()=>{const v=new Error("The operation was aborted.");v.name="AbortError",x(v)})});let h;try{yield Promise.race([u,d]),h=yield u}catch(y){let x="fetch-client-network";throw"AbortError"===y?.name&&(x="fetch-timeout"),Mi.create(x,{originalErrorMessage:y?.message})}let f=h.status;const p=h.headers.get("ETag")||void 0;let m,g;if(200===h.status){let y;try{y=yield h.json()}catch(x){throw Mi.create("fetch-client-parse",{originalErrorMessage:x?.message})}m=y.entries,g=y.state}if("INSTANCE_STATE_UNSPECIFIED"===g?f=500:"NO_CHANGE"===g?f=304:("NO_TEMPLATE"===g||"EMPTY_CONFIG"===g)&&(m={}),304!==f&&200!==f)throw Mi.create("fetch-status",{httpStatus:f});return{status:f,eTag:p,config:m}})()}}class qpe{constructor(e,t){this.client=e,this.storage=t}fetch(e){var t=this;return _(function*(){const i=(yield t.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return t.attemptFetch(e,i)})()}attemptFetch(e,{throttleEndTimeMillis:t,backoffCount:i}){var r=this;return _(function*(){yield function Gpe(n,e){return new Promise((t,i)=>{const r=Math.max(e-Date.now(),0),o=setTimeout(t,r);n.addEventListener(()=>{clearTimeout(o),i(Mi.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,t);try{const o=yield r.client.fetch(e);return yield r.storage.deleteThrottleMetadata(),o}catch(o){if(!function Wpe(n){if(!(n instanceof Wi&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(o))throw o;const s={throttleEndTimeMillis:Date.now()+QE(i),backoffCount:i+1};return yield r.storage.setThrottleMetadata(s),r.attemptFetch(e,s)}})()}}class Qpe{constructor(e,t,i,r,o){this.app=e,this._client=t,this._storageCache=i,this._storage=r,this._logger=o,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Ey(n,e){const t=n.target.error||void 0;return Mi.create(e,{originalErrorMessage:t&&t?.message})}const vl="app_namespace_store";class eme{constructor(e,t,i,r=function Jpe(){return new Promise((n,e)=>{try{const t=indexedDB.open("firebase_remote_config",1);t.onerror=i=>{e(Ey(i,"storage-open"))},t.onsuccess=i=>{n(i.target.result)},t.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(vl,{keyPath:"compositeKey"})}}catch(t){e(Mi.create("storage-open",{originalErrorMessage:t?.message}))}})}()){this.appId=e,this.appName=t,this.namespace=i,this.openDbPromise=r}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var t=this;return _(function*(){const i=yield t.openDbPromise;return new Promise((r,o)=>{const a=i.transaction([vl],"readonly").objectStore(vl),l=t.createCompositeKey(e);try{const c=a.get(l);c.onerror=u=>{o(Ey(u,"storage-get"))},c.onsuccess=u=>{const d=u.target.result;r(d?d.value:void 0)}}catch(c){o(Mi.create("storage-get",{originalErrorMessage:c?.message}))}})})()}set(e,t){var i=this;return _(function*(){const r=yield i.openDbPromise;return new Promise((o,s)=>{const l=r.transaction([vl],"readwrite").objectStore(vl),c=i.createCompositeKey(e);try{const u=l.put({compositeKey:c,value:t});u.onerror=d=>{s(Ey(d,"storage-set"))},u.onsuccess=()=>{o()}}catch(u){s(Mi.create("storage-set",{originalErrorMessage:u?.message}))}})})()}delete(e){var t=this;return _(function*(){const i=yield t.openDbPromise;return new Promise((r,o)=>{const a=i.transaction([vl],"readwrite").objectStore(vl),l=t.createCompositeKey(e);try{const c=a.delete(l);c.onerror=u=>{o(Ey(u,"storage-delete"))},c.onsuccess=()=>{r()}}catch(c){o(Mi.create("storage-delete",{originalErrorMessage:c?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class tme{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return _(function*(){const t=e.storage.getLastFetchStatus(),i=e.storage.getLastSuccessfulFetchTimestampMillis(),r=e.storage.getActiveConfig(),o=yield t;o&&(e.lastFetchStatus=o);const s=yield i;s&&(e.lastSuccessfulFetchTimestampMillis=s);const a=yield r;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function ime(){return tT.apply(this,arguments)}function tT(){return(tT=_(function*(){if(!cl())return!1;try{return yield rf()}catch{return!1}})).apply(this,arguments)}!function nme(){Vn(new wn("remote-config",function n(e,{instanceIdentifier:t}){const i=e.getProvider("app").getImmediate(),r=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Mi.create("registration-window");if(!cl())throw Mi.create("indexed-db-unavailable");const{projectId:o,apiKey:s,appId:a}=i.options;if(!o)throw Mi.create("registration-project-id");if(!s)throw Mi.create("registration-api-key");if(!a)throw Mi.create("registration-app-id");const l=new eme(a,i.name,t=t||"firebase"),c=new tme(l),u=new dl(QS);u.logLevel=Pe.ERROR;const d=new $pe(r,is,t,o,s,a),h=new qpe(d,l),f=new Hpe(h,l,c,u),p=new Qpe(i,f,c,l,u);return function Bpe(n){const e=Nt(n);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),it(QS,"0.4.4"),it(QS,"0.4.4","esm2017")}();const rme=(n,e)=>e.some(t=>n instanceof t);let s$,a$;const l$=new WeakMap,nT=new WeakMap,c$=new WeakMap,iT=new WeakMap,rT=new WeakMap;let oT={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return nT.get(n);if("objectStoreNames"===e)return n.objectStoreNames||c$.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return cs(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function dme(n){return"function"==typeof n?function ume(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function sme(){return a$||(a$=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(sT(this),e),cs(l$.get(this))}:function(...e){return cs(n.apply(sT(this),e))}:function(e,...t){const i=n.call(sT(this),e,...t);return c$.set(i,e.sort?e.sort():[e]),cs(i)}}(n):(n instanceof IDBTransaction&&function lme(n){if(nT.has(n))return;const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),r()},s=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});nT.set(n,e)}(n),rme(n,function ome(){return s$||(s$=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,oT):n)}function cs(n){if(n instanceof IDBRequest)return function ame(n){const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(cs(n.result)),r()},s=()=>{i(n.error),r()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&l$.set(t,n)}).catch(()=>{}),rT.set(e,n),e}(n);if(iT.has(n))return iT.get(n);const e=dme(n);return e!==n&&(iT.set(n,e),rT.set(e,n)),e}const sT=n=>rT.get(n);function u$(n,e,{blocked:t,upgrade:i,blocking:r,terminated:o}={}){const s=indexedDB.open(n,e),a=cs(s);return i&&s.addEventListener("upgradeneeded",l=>{i(cs(s.result),l.oldVersion,l.newVersion,cs(s.transaction))}),t&&s.addEventListener("blocked",()=>t()),a.then(l=>{o&&l.addEventListener("close",()=>o()),r&&l.addEventListener("versionchange",()=>r())}).catch(()=>{}),a}function aT(n,{blocked:e}={}){const t=indexedDB.deleteDatabase(n);return e&&t.addEventListener("blocked",()=>e()),cs(t).then(()=>{})}const hme=["get","getKey","getAll","getAllKeys","count"],fme=["put","add","delete","clear"],lT=new Map;function d$(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(lT.get(e))return lT.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,r=fme.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!r&&!hme.includes(t))return;const o=function(){var s=_(function*(a,...l){const c=this.transaction(a,r?"readwrite":"readonly");let u=c.store;return i&&(u=u.index(l.shift())),(yield Promise.all([u[t](...l),r&&c.done]))[0]});return function(l){return s.apply(this,arguments)}}();return lT.set(e,o),o}!function cme(n){oT=n(oT)}(n=>({...n,get:(e,t,i)=>d$(e,t)||n.get(e,t,i),has:(e,t)=>!!d$(e,t)||n.has(e,t)}));const pme="/firebase-messaging-sw.js",mme="/firebase-cloud-messaging-push-scope",h$="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",gme="https://fcmregistrations.googleapis.com/v1",f$="google.c.a.c_id",_me="google.c.a.c_l",yme="google.c.a.ts",vme="google.c.a.e";var Au=(()=>{return(n=Au||(Au={})).PUSH_RECEIVED="push-received",n.NOTIFICATION_CLICKED="notification-clicked",Au;var n})();function us(n){const e=new Uint8Array(n);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function bme(n){const t=(n+"=".repeat((4-n.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),i=atob(t),r=new Uint8Array(i.length);for(let o=0;o<i.length;++o)r[o]=i.charCodeAt(o);return r}const cT="fcm_token_details_db",wme=5,p$="fcm_token_object_Store";function uT(){return uT=_(function*(n){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(o=>o.name).includes(cT))return null;let e=null;return(yield u$(cT,wme,{upgrade:(i=_(function*(r,o,s,a){var l;if(o<2||!r.objectStoreNames.contains(p$))return;const c=a.objectStore(p$),u=yield c.index("fcmSenderId").get(n);if(yield c.clear(),u)if(2===o){const d=u;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:null!==(l=d.createTime)&&void 0!==l?l:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:"string"==typeof d.vapidKey?d.vapidKey:us(d.vapidKey)}}}else if(3===o){const d=u;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:us(d.auth),p256dh:us(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:us(d.vapidKey)}}}else if(4===o){const d=u;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:us(d.auth),p256dh:us(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:us(d.vapidKey)}}}}),function(o,s,a,l){return i.apply(this,arguments)})})).close(),yield aT(cT),yield aT("fcm_vapid_details_db"),yield aT("undefined"),function xme(n){if(!n||!n.subscriptionOptions)return!1;const{subscriptionOptions:e}=n;return"number"==typeof n.createTime&&n.createTime>0&&"string"==typeof n.token&&n.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}(e)?e:null;var i}),uT.apply(this,arguments)}const Eme="firebase-messaging-database",Dme=1,bl="firebase-messaging-store";let dT=null;function hT(){return dT||(dT=u$(Eme,Dme,{upgrade:(n,e)=>{0===e&&n.createObjectStore(bl)}})),dT}function m$(n){return fT.apply(this,arguments)}function fT(){return fT=_(function*(n){const e=_T(n),i=yield(yield hT()).transaction(bl).objectStore(bl).get(e);if(i)return i;{const r=yield function Cme(n){return uT.apply(this,arguments)}(n.appConfig.senderId);if(r)return yield pT(n,r),r}}),fT.apply(this,arguments)}function pT(n,e){return mT.apply(this,arguments)}function mT(){return(mT=_(function*(n,e){const t=_T(n),r=(yield hT()).transaction(bl,"readwrite");return yield r.objectStore(bl).put(e,t),yield r.done,e})).apply(this,arguments)}function gT(){return(gT=_(function*(n){const e=_T(n),i=(yield hT()).transaction(bl,"readwrite");yield i.objectStore(bl).delete(e),yield i.done})).apply(this,arguments)}function _T({appConfig:n}){return n.appId}const Bn=new ho("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Tme(n,e){return yT.apply(this,arguments)}function yT(){return(yT=_(function*(n,e){const t=yield CT(n),i=_$(e),r={method:"POST",headers:t,body:JSON.stringify(i)};let o;try{o=yield(yield fetch(wT(n.appConfig),r)).json()}catch(s){throw Bn.create("token-subscribe-failed",{errorInfo:s?.toString()})}if(o.error)throw Bn.create("token-subscribe-failed",{errorInfo:o.error.message});if(!o.token)throw Bn.create("token-subscribe-no-token");return o.token})).apply(this,arguments)}function vT(){return(vT=_(function*(n,e){const t=yield CT(n),i=_$(e.subscriptionOptions),r={method:"PATCH",headers:t,body:JSON.stringify(i)};let o;try{o=yield(yield fetch(`${wT(n.appConfig)}/${e.token}`,r)).json()}catch(s){throw Bn.create("token-update-failed",{errorInfo:s?.toString()})}if(o.error)throw Bn.create("token-update-failed",{errorInfo:o.error.message});if(!o.token)throw Bn.create("token-update-no-token");return o.token})).apply(this,arguments)}function g$(n,e){return bT.apply(this,arguments)}function bT(){return(bT=_(function*(n,e){const i={method:"DELETE",headers:yield CT(n)};try{const o=yield(yield fetch(`${wT(n.appConfig)}/${e}`,i)).json();if(o.error)throw Bn.create("token-unsubscribe-failed",{errorInfo:o.error.message})}catch(r){throw Bn.create("token-unsubscribe-failed",{errorInfo:r?.toString()})}})).apply(this,arguments)}function wT({projectId:n}){return`${gme}/projects/${n}/registrations`}function CT(n){return xT.apply(this,arguments)}function xT(){return(xT=_(function*({appConfig:n,installations:e}){const t=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":`FIS ${t}`})})).apply(this,arguments)}function _$({p256dh:n,auth:e,endpoint:t,vapidKey:i}){const r={web:{endpoint:t,auth:e,p256dh:n}};return i!==h$&&(r.web.applicationPubKey=i),r}const Mme=6048e5;function ET(){return ET=_(function*(n){const e=yield function Ome(n,e){return TT.apply(this,arguments)}(n.swRegistration,n.vapidKey),t={vapidKey:n.vapidKey,swScope:n.swRegistration.scope,endpoint:e.endpoint,auth:us(e.getKey("auth")),p256dh:us(e.getKey("p256dh"))},i=yield m$(n.firebaseDependencies);if(i){if(function Pme(n,e){return e.vapidKey===n.vapidKey&&e.endpoint===n.endpoint&&e.auth===n.auth&&e.p256dh===n.p256dh}(i.subscriptionOptions,t))return Date.now()>=i.createTime+Mme?function kme(n,e){return IT.apply(this,arguments)}(n,{token:i.token,createTime:Date.now(),subscriptionOptions:t}):i.token;try{yield g$(n.firebaseDependencies,i.token)}catch(r){console.warn(r)}return v$(n.firebaseDependencies,t)}return v$(n.firebaseDependencies,t)}),ET.apply(this,arguments)}function DT(){return DT=_(function*(n){const e=yield m$(n.firebaseDependencies);e&&(yield g$(n.firebaseDependencies,e.token),yield function Ime(n){return gT.apply(this,arguments)}(n.firebaseDependencies));const t=yield n.swRegistration.pushManager.getSubscription();return!t||t.unsubscribe()}),DT.apply(this,arguments)}function IT(){return IT=_(function*(n,e){try{const t=yield function Ame(n,e){return vT.apply(this,arguments)}(n.firebaseDependencies,e),i=Object.assign(Object.assign({},e),{token:t,createTime:Date.now()});return yield pT(n.firebaseDependencies,i),t}catch(t){throw yield function y$(n){return DT.apply(this,arguments)}(n),t}}),IT.apply(this,arguments)}function v$(n,e){return ST.apply(this,arguments)}function ST(){return(ST=_(function*(n,e){const i={token:yield Tme(n,e),createTime:Date.now(),subscriptionOptions:e};return yield pT(n,i),i.token})).apply(this,arguments)}function TT(){return(TT=_(function*(n,e){return(yield n.pushManager.getSubscription())||n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:bme(e)})})).apply(this,arguments)}function b$(n){const e={from:n.from,collapseKey:n.collapse_key,messageId:n.fcmMessageId};return function Nme(n,e){if(!e.notification)return;n.notification={};const t=e.notification.title;t&&(n.notification.title=t);const i=e.notification.body;i&&(n.notification.body=i);const r=e.notification.image;r&&(n.notification.image=r);const o=e.notification.icon;o&&(n.notification.icon=o)}(e,n),function Fme(n,e){e.data&&(n.data=e.data)}(e,n),function Lme(n,e){var t,i,r,o,s;if(!(e.fcmOptions||null!==(t=e.notification)&&void 0!==t&&t.click_action))return;n.fcmOptions={};const a=null!==(r=null===(i=e.fcmOptions)||void 0===i?void 0:i.link)&&void 0!==r?r:null===(o=e.notification)||void 0===o?void 0:o.click_action;a&&(n.fcmOptions.link=a);const l=null===(s=e.fcmOptions)||void 0===s?void 0:s.analytics_label;l&&(n.fcmOptions.analyticsLabel=l)}(e,n),e}function w$(n,e){const t=[];for(let i=0;i<n.length;i++)t.push(n.charAt(i)),i<e.length&&t.push(e.charAt(i));return t.join("")}function AT(n){return Bn.create("missing-app-config-values",{valueName:n})}w$("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),w$("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Ume{constructor(e,t,i){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const r=function Bme(n){if(!n||!n.options)throw AT("App Configuration Object");if(!n.name)throw AT("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:t}=n;for(const i of e)if(!t[i])throw AT(i);return{appName:n.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:r,installations:t,analyticsProvider:i}}_delete(){return Promise.resolve()}}function C$(n){return MT.apply(this,arguments)}function MT(){return(MT=_(function*(n){try{n.swRegistration=yield navigator.serviceWorker.register(pme,{scope:mme}),n.swRegistration.update().catch(()=>{})}catch(e){throw Bn.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})).apply(this,arguments)}function RT(){return(RT=_(function*(n,e){if(!e&&!n.swRegistration&&(yield C$(n)),e||!n.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw Bn.create("invalid-sw-registration");n.swRegistration=e}})).apply(this,arguments)}function kT(){return(kT=_(function*(n,e){e?n.vapidKey=e:n.vapidKey||(n.vapidKey=h$)})).apply(this,arguments)}function OT(){return OT=_(function*(n,e){if(!navigator)throw Bn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Bn.create("permission-blocked");return yield function Hme(n,e){return kT.apply(this,arguments)}(n,e?.vapidKey),yield function jme(n,e){return RT.apply(this,arguments)}(n,e?.serviceWorkerRegistration),function Rme(n){return ET.apply(this,arguments)}(n)}),OT.apply(this,arguments)}function PT(){return(PT=_(function*(n,e,t){const i=function $me(n){switch(n){case Au.NOTIFICATION_CLICKED:return"notification_open";case Au.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e);(yield n.firebaseDependencies.analyticsProvider.get()).logEvent(i,{message_id:t[f$],message_name:t[_me],message_time:t[yme],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function NT(){return NT=_(function*(n,e){const t=e.data;if(!t.isFirebaseMessaging)return;n.onMessageHandler&&t.messageType===Au.PUSH_RECEIVED&&("function"==typeof n.onMessageHandler?n.onMessageHandler(b$(t)):n.onMessageHandler.next(b$(t)));const i=t.data;(function Vme(n){return"object"==typeof n&&!!n&&f$ in n})(i)&&"1"===i[vme]&&(yield function zme(n,e,t){return PT.apply(this,arguments)}(n,t.messageType,i))}),NT.apply(this,arguments)}const E$="@firebase/messaging",Wme=n=>{const e=new Ume(n.getProvider("app").getImmediate(),n.getProvider("installations-internal").getImmediate(),n.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",t=>function Gme(n,e){return NT.apply(this,arguments)}(e,t)),e},qme=n=>{const e=n.getProvider("messaging").getImmediate();return{getToken:i=>function x$(n,e){return OT.apply(this,arguments)}(e,i)}};function I$(){return FT.apply(this,arguments)}function FT(){return(FT=_(function*(){try{yield rf()}catch{return!1}return typeof window<"u"&&cl()&&qE()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Kme(){Vn(new wn("messaging",Wme,"PUBLIC")),Vn(new wn("messaging-internal",qme,"PRIVATE")),it(E$,"0.12.4"),it(E$,"0.12.4","esm2017")}();const Dy="analytics",Xme="firebase_id",Zme="origin",Jme=6e4,ege="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",BT="https://www.googletagmanager.com/gtag/js",xn=new dl("@firebase/analytics"),mi=new ho("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function nge(n){if(!n.startsWith(BT)){const e=mi.create("invalid-gtag-resource",{gtagURL:n});return xn.warn(e.message),""}return n}function S$(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function UT(){return(UT=_(function*(n,e,t,i,r,o){const s=i[r];try{if(s)yield e[s];else{const l=(yield S$(t)).find(c=>c.measurementId===r);l&&(yield e[l.appId])}}catch(a){xn.error(a)}n("config",r,o)})).apply(this,arguments)}function jT(){return(jT=_(function*(n,e,t,i,r){try{let o=[];if(r&&r.send_to){let s=r.send_to;Array.isArray(s)||(s=[s]);const a=yield S$(t);for(const l of s){const c=a.find(d=>d.measurementId===l),u=c&&e[c.appId];if(!u){o=[];break}o.push(u)}}0===o.length&&(o=Object.values(e)),yield Promise.all(o),n("event",i,r||{})}catch(o){xn.error(o)}})).apply(this,arguments)}const dge=30,T$=new class fge{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function pge(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}function HT(){return(HT=_(function*(n){var e;const{appId:t,apiKey:i}=n,r={method:"GET",headers:pge(i)},o=ege.replace("{app-id}",t),s=yield fetch(o,r);if(200!==s.status&&304!==s.status){let a="";try{const l=yield s.json();null!==(e=l.error)&&void 0!==e&&e.message&&(a=l.error.message)}catch{}throw mi.create("config-fetch-failed",{httpStatus:s.status,responseMessage:a})}return s.json()})).apply(this,arguments)}function zT(){return(zT=_(function*(n,e=T$,t){const{appId:i,apiKey:r,measurementId:o}=n.options;if(!i)throw mi.create("no-app-id");if(!r){if(o)return{measurementId:o,appId:i};throw mi.create("no-api-key")}const s=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new vge;return setTimeout(_(function*(){a.abort()}),void 0!==t?t:Jme),A$({appId:i,apiKey:r,measurementId:o},s,a,e)})).apply(this,arguments)}function A$(n,e,t){return $T.apply(this,arguments)}function $T(){return $T=_(function*(n,{throttleEndTimeMillis:e,backoffCount:t},i,r=T$){var o;const{appId:s,measurementId:a}=n;try{yield function _ge(n,e){return new Promise((t,i)=>{const r=Math.max(e-Date.now(),0),o=setTimeout(t,r);n.addEventListener(()=>{clearTimeout(o),i(mi.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(i,e)}catch(l){if(a)return xn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l?.message}]`),{appId:s,measurementId:a};throw l}try{const l=yield function mge(n){return HT.apply(this,arguments)}(n);return r.deleteThrottleMetadata(s),l}catch(l){const c=l;if(!function yge(n){if(!(n instanceof Wi&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(c)){if(r.deleteThrottleMetadata(s),a)return xn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:s,measurementId:a};throw l}const u=503===Number(null===(o=c?.customData)||void 0===o?void 0:o.httpStatus)?QE(t,r.intervalMillis,dge):QE(t,r.intervalMillis),d={throttleEndTimeMillis:Date.now()+u,backoffCount:t+1};return r.setThrottleMetadata(s,d),xn.debug(`Calling attemptFetch again in ${u} millis`),A$(n,d,i,r)}}),$T.apply(this,arguments)}class vge{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let GT,ZT;function WT(){return(WT=_(function*(n,e,t,i,r){if(r&&r.global)n("event",t,i);else{const o=yield e;n("event",t,Object.assign(Object.assign({},i),{send_to:o}))}})).apply(this,arguments)}function JT(){return(JT=_(function*(){if(!cl())return xn.warn(mi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield rf()}catch(n){return xn.warn(mi.create("indexeddb-unavailable",{errorInfo:n?.toString()}).message),!1}return!0})).apply(this,arguments)}function eA(){return eA=_(function*(n,e,t,i,r,o,s){var a;const l=function gge(n){return zT.apply(this,arguments)}(n);l.then(f=>{t[f.measurementId]=f.appId,n.options.measurementId&&f.measurementId!==n.options.measurementId&&xn.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>xn.error(f)),e.push(l);const c=function Ige(){return JT.apply(this,arguments)}().then(f=>{if(f)return i.getId()}),[u,d]=yield Promise.all([l,c]);(function uge(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(BT)&&t.src.includes(n))return t;return null})(o)||function rge(n,e){const t=function ige(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}("firebase-js-sdk-policy",{createScriptURL:nge}),i=document.createElement("script"),r=`${BT}?l=${n}&id=${e}`;i.src=t?t?.createScriptURL(r):r,i.async=!0,document.head.appendChild(i)}(o,u.measurementId),ZT&&(r("consent","default",ZT),function M$(n){ZT=n}(void 0)),r("js",new Date);const h=null!==(a=s?.config)&&void 0!==a?a:{};return h[Zme]="firebase",h.update=!0,null!=d&&(h[Xme]=d),r("config",u.measurementId,h),GT&&(r("set",GT),function R$(n){GT=n}(void 0)),u.measurementId}),eA.apply(this,arguments)}class Tge{constructor(e){this.app=e}_delete(){return delete mo[this.app.options.appId],Promise.resolve()}}let mo={},k$=[];const O$={};let N$,go,Iy="dataLayer",P$="gtag",tA=!1;function Mge(n,e,t){!function Age(){const n=[];if(WE()&&n.push("This is a browser extension environment."),qE()||n.push("Cookies are not available."),n.length>0){const e=n.map((i,r)=>`(${r+1}) ${i}`).join(" "),t=mi.create("invalid-analytics-context",{errorInfo:e});xn.warn(t.message)}}();const i=n.options.appId;if(!i)throw mi.create("no-app-id");if(!n.options.apiKey){if(!n.options.measurementId)throw mi.create("no-api-key");xn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=mo[i])throw mi.create("already-exists",{id:i});if(!tA){!function oge(n){let e=[];Array.isArray(window[n])?e=window[n]:window[n]=e}(Iy);const{wrappedGtag:o,gtagCore:s}=function cge(n,e,t,i,r){let o=function(...s){window[i].push(arguments)};return window[r]&&"function"==typeof window[r]&&(o=window[r]),window[r]=function lge(n,e,t,i){function o(){return o=_(function*(s,...a){try{if("event"===s){const[l,c]=a;yield function age(n,e,t,i,r){return jT.apply(this,arguments)}(n,e,t,l,c)}else if("config"===s){const[l,c]=a;yield function sge(n,e,t,i,r,o){return UT.apply(this,arguments)}(n,e,t,i,l,c)}else if("consent"===s){const[l]=a;n("consent","update",l)}else if("get"===s){const[l,c,u]=a;n("get",l,c,u)}else if("set"===s){const[l]=a;n("set",l)}else n(s,...a)}catch(l){xn.error(l)}}),o.apply(this,arguments)}return function r(s){return o.apply(this,arguments)}}(o,n,e,t),{gtagCore:o,wrappedGtag:window[r]}}(mo,k$,O$,Iy,P$);go=o,N$=s,tA=!0}return mo[i]=function Sge(n,e,t,i,r,o,s){return eA.apply(this,arguments)}(n,k$,O$,e,N$,Iy,t),new Tge(n)}function kge(){return nA.apply(this,arguments)}function nA(){return(nA=_(function*(){if(WE()||!qE()||!cl())return!1;try{return yield rf()}catch{return!1}})).apply(this,arguments)}const F$="@firebase/analytics";!function Pge(){Vn(new wn(Dy,(e,{options:t})=>Mge(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t),"PUBLIC")),Vn(new wn("analytics-internal",function n(e){try{const t=e.getProvider(Dy).getImmediate();return{logEvent:(i,r,o)=>function Oge(n,e,t,i){n=Nt(n),function bge(n,e,t,i,r){return WT.apply(this,arguments)}(go,mo[n.app.options.appId],e,t,i).catch(r=>xn.error(r))}(t,i,r,o)}}catch(t){throw mi.create("interop-component-reg-failed",{reason:t})}},"PRIVATE")),it(F$,"0.10.0"),it(F$,"0.10.0","esm2017")}();class Nge extends Oe{constructor(e,t){super()}schedule(e,t=0){return this}}const Sy={setInterval(n,e,...t){const{delegate:i}=Sy;return i?.setInterval?i.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=Sy;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};class Ty extends Nge{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var i;if(this.closed)return this;this.state=e;const r=this.id,o=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(o,r,t)),this.pending=!0,this.delay=t,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,i=0){return Sy.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,t,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return t;null!=t&&Sy.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(e,t);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r,i=!1;try{this.work(e)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:i}=t;this.work=this.state=this.scheduler=null,this.pending=!1,P(i,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const V$={now:()=>(V$.delegate||Date).now(),delegate:void 0};class If{constructor(e,t=If.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,i){return new this.schedulerActionCtor(this,e).schedule(i,t)}}If.now=V$.now;class Ay extends If{constructor(e,t=If.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let i;this._active=!0;do{if(i=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,i){for(;e=t.shift();)e.unsubscribe();throw i}}}const Vge=new class Lge extends Ay{}(class Fge extends Ty{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,i=0){return null!=i&&i>0||null==i&&this.delay>0?super.requestAsyncId(e,t,i):(e.flush(this),0)}}),My=new Ay(Ty),Bge=My,Mu=new Fs("7.5.0"),rA="__angularfire_symbol__analyticsIsSupportedValue",oA="__angularfire_symbol__analyticsIsSupported",sA="__angularfire_symbol__remoteConfigIsSupportedValue",aA="__angularfire_symbol__remoteConfigIsSupported",lA="__angularfire_symbol__messagingIsSupportedValue",cA="__angularfire_symbol__messagingIsSupported";function Sf(n,e,t){if(e){if(1===e.length)return e[0];const o=e.filter(s=>s.app===t);if(1===o.length)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}globalThis[oA]||(globalThis[oA]=kge().then(n=>globalThis[rA]=n).catch(()=>globalThis[rA]=!1)),globalThis[cA]||(globalThis[cA]=I$().then(n=>globalThis[lA]=n).catch(()=>globalThis[lA]=!1)),globalThis[aA]||(globalThis[aA]=ime().then(n=>globalThis[sA]=n).catch(()=>globalThis[sA]=!1));const Tf=(n,e)=>{const t=e?[e]:xH(),i=[];return t.forEach(r=>{r.container.getProvider(n).instances.forEach(s=>{i.includes(s)||i.push(s)})}),i};function Ru(){}class B${constructor(e,t=Vge){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,i){const r=this.zone;return this.delegate.schedule(function(s){r.runGuarded(()=>{e.apply(this,[s])})},t,i)}}class Uge{constructor(e){this.zone=e,this.task=null}call(e,t){const i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ru,{},Ru,Ru)),t.pipe(Xt({next:i,complete:i,error:i})).subscribe(e).add(i)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Af=(()=>{class n{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new B$(Zone.current)),this.insideAngular=t.run(()=>new B$(Zone.current,My)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return n.\u0275fac=function(t){return new(t||n)(w(ae))},n.\u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function wl(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function Cl(n){return wl().ngZone.run(()=>n())}function Hge(n){return wl(),function zge(n){return function(t){return(t=t.lift(new Uge(n.ngZone))).pipe(qm(n.outsideAngular),Wm(n.insideAngular))}}(wl())(n)}const $ge=(n,e)=>function(){const i=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),Cl(()=>n.apply(void 0,i))},Ar=(n,e)=>function(){let t;const i=arguments;for(let o=0;o<arguments.length;o++)"function"==typeof i[o]&&(e&&(t||(t=Cl(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ru,{},Ru,Ru)))),i[o]=$ge(i[o],t));const r=function jge(n){return wl().ngZone.runOutsideAngular(()=>n())}(()=>n.apply(this,i));if(!e){if(r instanceof We){const o=wl();return r.pipe(qm(o.outsideAngular),Wm(o.insideAngular))}return Cl(()=>r)}return r instanceof We?r.pipe(Hge):r instanceof Promise?Cl(()=>new Promise((o,s)=>r.then(a=>Cl(()=>o(a)),a=>Cl(()=>s(a))))):"function"==typeof r&&t?function(){return setTimeout(()=>{t&&"scheduled"===t.state&&t.invoke()},10),r.apply(this,arguments)}:Cl(()=>r)};class ta{constructor(e){return e}}class Mf{constructor(){return xH()}}const dA=new I("angularfire2._apps"),Wge={provide:ta,useFactory:function Gge(n){return n&&1===n.length?n[0]:new ta(uf())},deps:[[new ze,dA]]},qge={provide:Mf,deps:[[new ze,dA]]};function Kge(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new ta(i)}}let Yge=(()=>{class n{constructor(t){it("angularfire",Mu.full,"core"),it("angularfire",Mu.full,"app"),it("angular",DL.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(w(ou))},n.\u0275mod=ce({type:n}),n.\u0275inj=se({providers:[Wge,qge]}),n})();function Qge(n,...e){return{ngModule:Yge,providers:[{provide:dA,useFactory:Kge(n),multi:!0,deps:[ae,Ot,Af,...e]}]}}const Xge=Ar(CH,!0),hA=new Map,U$={activated:!1,tokenObservers:[]},Zge={initialized:!1,enabled:!1};function Lt(n){return hA.get(n)||Object.assign({},U$)}function Ry(){return Zge}const fA="https://content-firebaseappcheck.googleapis.com/v1",n_e="exchangeDebugToken",j$={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class r_e{constructor(e,t,i,r,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=r,r>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return _(function*(){t.stop();try{t.pending=new wu,yield function o_e(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new wu,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(i){t.retryPolicy(i)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Un=new ho("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Py(n,e){return gA.apply(this,arguments)}function gA(){return(gA=_(function*({url:n,body:e},t){const i={"Content-Type":"application/json"},r=t.getImmediate({optional:!0});if(r){const d=yield r.getHeartbeatsHeader();d&&(i["X-Firebase-Client"]=d)}const o={method:"POST",body:JSON.stringify(e),headers:i};let s,a;try{s=yield fetch(n,o)}catch(d){throw Un.create("fetch-network-error",{originalErrorMessage:d?.message})}if(200!==s.status)throw Un.create("fetch-status-error",{httpStatus:s.status});try{a=yield s.json()}catch(d){throw Un.create("fetch-parse-error",{originalErrorMessage:d?.message})}const l=a.ttl.match(/^([\d.]+)(s)$/);if(!l||!l[2]||isNaN(Number(l[1])))throw Un.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const c=1e3*Number(l[1]),u=Date.now();return{token:a.token,expireTimeMillis:u+c,issuedAtTimeMillis:u}})).apply(this,arguments)}const c_e="firebase-app-check-database",u_e=1,Rf="firebase-app-check-store";let Ny=null;function G$(n,e){return _A.apply(this,arguments)}function _A(){return(_A=_(function*(n,e){const i=(yield function $$(){return Ny||(Ny=new Promise((n,e)=>{try{const t=indexedDB.open(c_e,u_e);t.onsuccess=i=>{n(i.target.result)},t.onerror=i=>{var r;e(Un.create("storage-open",{originalErrorMessage:null===(r=i.target.error)||void 0===r?void 0:r.message}))},t.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(Rf,{keyPath:"compositeKey"})}}catch(t){e(Un.create("storage-open",{originalErrorMessage:t?.message}))}}),Ny)}()).transaction(Rf,"readwrite"),o=i.objectStore(Rf).put({compositeKey:n,value:e});return new Promise((s,a)=>{o.onsuccess=l=>{s()},i.onerror=l=>{var c;a(Un.create("storage-set",{originalErrorMessage:null===(c=l.target.error)||void 0===c?void 0:c.message}))}})})).apply(this,arguments)}const kf=new dl("@firebase/app-check");function bA(n,e){return cl()?function h_e(n,e){return G$(function q$(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{kf.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function xA(){return EA.apply(this,arguments)}function EA(){return(EA=_(function*(){const n=Ry();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const y_e={error:"UNKNOWN_ERROR"};function v_e(n){return K_.encodeString(JSON.stringify(n),!1)}function Fy(n){return DA.apply(this,arguments)}function DA(){return(DA=_(function*(n,e=!1){const t=n.app;!function pA(n){if(!Lt(n).activated)throw Un.create("use-before-activation",{appName:n.name})}(t);const i=Lt(t);let o,r=i.token;if(r&&!ku(r)&&(i.token=void 0,r=void 0),!r){const l=yield i.cachedTokenPromise;l&&(ku(l)?r=l:yield bA(t,void 0))}if(!e&&r&&ku(r))return{token:r.token};let a,s=!1;if(function CA(){return Ry().enabled}()){i.exchangeTokenPromise||(i.exchangeTokenPromise=Py(function H$(n,e){const{projectId:t,appId:i,apiKey:r}=n.options;return{url:`${fA}/projects/${t}/apps/${i}:${n_e}?key=${r}`,body:{debug_token:e}}}(t,yield xA()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),s=!0);const l=yield i.exchangeTokenPromise;return yield bA(t,l),i.token=l,{token:l.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),s=!0),r=yield Lt(t).exchangeTokenPromise}catch(l){"appCheck/throttled"===l.code?kf.warn(l.message):kf.error(l),o=l}return r?o?a=ku(r)?{token:r.token,internalError:o}:Q$(o):(a={token:r.token},i.token=r,yield bA(t,r)):a=Q$(o),s&&function Y$(n,e){const t=Lt(n).tokenObservers;for(const i of t)try{"EXTERNAL"===i.type&&null!=e.error?i.error(e.error):i.next(e)}catch{}}(t,a),a})).apply(this,arguments)}function TA(n,e){const t=Lt(n),i=t.tokenObservers.filter(r=>r.next!==e);0===i.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=i}function K$(n){const{app:e}=n,t=Lt(e);let i=t.tokenRefresher;i||(i=function w_e(n){const{app:e}=n;return new r_e(_(function*(){let i;if(i=Lt(e).token?yield Fy(n,!0):yield Fy(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const t=Lt(e);if(t.token){let i=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,t.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},j$.RETRIAL_MIN_WAIT,j$.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=i),!i.isRunning()&&t.isTokenAutoRefreshEnabled&&i.start()}function ku(n){return n.expireTimeMillis-Date.now()>0}function Q$(n){return{token:v_e(y_e),error:n}}class C_e{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Lt(this.app);for(const t of e)TA(this.app,t.next);return Promise.resolve()}}const o4="app-check-internal";!function F_e(){Vn(new wn("app-check",n=>function x_e(n,e){return new C_e(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(o4).initialize()})),Vn(new wn(o4,n=>function E_e(n){return{getToken:e=>Fy(n,e),addTokenListener:e=>function SA(n,e,t,i){const{app:r}=n,o=Lt(r);if(o.tokenObservers=[...o.tokenObservers,{next:t,error:i,type:e}],o.token&&ku(o.token)){const a=o.token;Promise.resolve().then(()=>{t({token:a.token}),K$(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>K$(n))}(n,"INTERNAL",e),removeTokenListener:e=>TA(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),it("@firebase/app-check","0.7.0")}();class Of{constructor(){return Tf("app-check")}}typeof window<"u"&&window;class OA{constructor(e){return e}}class Vy{constructor(){return Tf("auth")}}const PA=new I("angularfire2.auth-instances");function H_e(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new OA(i)}}const z_e={provide:Vy,deps:[[new ze,PA]]},$_e={provide:OA,useFactory:function j_e(n,e){const t=Sf("auth",n,e);return t&&new OA(t)},deps:[[new ze,PA],ta]};let G_e=(()=>{class n{constructor(){it("angularfire",Mu.full,"auth")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ce({type:n}),n.\u0275inj=se({providers:[$_e,z_e]}),n})();function W_e(n,...e){return{ngModule:G_e,providers:[{provide:PA,useFactory:H_e(n),multi:!0,deps:[ae,Ot,Af,Mf,[new ze,Of],...e]}]}}const q_e=Ar(Iu,!0);var U,K_e=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Mr={},NA=NA||{},de=K_e||self;function By(){}function Uy(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Pf(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var FA="closure_uid_"+(1e9*Math.random()>>>0),Q_e=0;function X_e(n,e,t){return n.call.apply(n.bind,arguments)}function Z_e(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(e,r)}}return function(){return n.apply(e,arguments)}}function ni(n,e,t){return(ni=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?X_e:Z_e).apply(null,arguments)}function jy(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function En(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(i,r,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[r].apply(i,s)}}function na(){this.s=this.s,this.o=this.o}na.prototype.s=!1,na.prototype.ra=function(){!this.s&&(this.s=!0,this.N(),0)&&function Y_e(n){Object.prototype.hasOwnProperty.call(n,FA)&&n[FA]||(n[FA]=++Q_e)}(this)},na.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const l4=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function LA(n){const e=n.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function c4(n,e){for(let t=1;t<arguments.length;t++){const i=arguments[t];if(Uy(i)){const r=n.length||0,o=i.length||0;n.length=r+o;for(let s=0;s<o;s++)n[r+s]=i[s]}else n.push(i)}}function ii(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}ii.prototype.h=function(){this.defaultPrevented=!0};var eye=function(){if(!de.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{de.addEventListener("test",By,e),de.removeEventListener("test",By,e)}catch{}return n}();function Hy(n){return/^[\s\xa0]*$/.test(n)}var u4=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function VA(n,e){return n<e?-1:n>e?1:0}function zy(){var n=de.navigator;return n&&(n=n.userAgent)?n:""}function _o(n){return-1!=zy().indexOf(n)}function BA(n){return BA[" "](n),n}function d4(n,e,t){return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}BA[" "]=By;var $y,n,tye=_o("Opera"),Ou=_o("Trident")||_o("MSIE"),h4=_o("Edge"),UA=h4||Ou,f4=_o("Gecko")&&!(-1!=zy().toLowerCase().indexOf("webkit")&&!_o("Edge"))&&!(_o("Trident")||_o("MSIE"))&&!_o("Edge"),nye=-1!=zy().toLowerCase().indexOf("webkit")&&!_o("Edge");function p4(){var n=de.document;return n?n.documentMode:void 0}e:{var jA="",HA=(n=zy(),f4?/rv:([^\);]+)(\)|;)/.exec(n):h4?/Edge\/([\d\.]+)/.exec(n):Ou?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):nye?/WebKit\/(\S+)/.exec(n):tye?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(HA&&(jA=HA?HA[1]:""),Ou){var zA=p4();if(null!=zA&&zA>parseFloat(jA)){$y=String(zA);break e}}$y=jA}var iye={},oye=de.document&&Ou&&(p4()||parseInt($y,10))||void 0;function Nf(n,e){if(ii.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(f4){e:{try{BA(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:sye[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Nf.$.h.call(this)}}En(Nf,ii);var sye={2:"touch",3:"pen",4:"mouse"};Nf.prototype.h=function(){Nf.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Ff="closure_listenable_"+(1e6*Math.random()|0),aye=0;function lye(n,e,t,i,r){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.la=r,this.key=++aye,this.fa=this.ia=!1}function Gy(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function GA(n,e,t){for(const i in n)e.call(t,n[i],i,n)}function g4(n){const e={};for(const t in n)e[t]=n[t];return e}const _4="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function y4(n,e){let t,i;for(let r=1;r<arguments.length;r++){for(t in i=arguments[r],i)n[t]=i[t];for(let o=0;o<_4.length;o++)t=_4[o],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function Wy(n){this.src=n,this.g={},this.h=0}function WA(n,e){var t=e.type;if(t in n.g){var o,i=n.g[t],r=l4(i,e);(o=0<=r)&&Array.prototype.splice.call(i,r,1),o&&(Gy(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function qA(n,e,t,i){for(var r=0;r<n.length;++r){var o=n[r];if(!o.fa&&o.listener==e&&o.capture==!!t&&o.la==i)return r}return-1}Wy.prototype.add=function(n,e,t,i,r){var o=n.toString();(n=this.g[o])||(n=this.g[o]=[],this.h++);var s=qA(n,e,i,r);return-1<s?(e=n[s],t||(e.ia=!1)):((e=new lye(e,this.src,o,!!i,r)).ia=t,n.push(e)),e};var KA="closure_lm_"+(1e6*Math.random()|0),YA={};function v4(n,e,t,i,r){if(i&&i.once)return w4(n,e,t,i,r);if(Array.isArray(e)){for(var o=0;o<e.length;o++)v4(n,e[o],t,i,r);return null}return t=JA(t),n&&n[Ff]?n.O(e,t,Pf(i)?!!i.capture:!!i,r):b4(n,e,t,!1,i,r)}function b4(n,e,t,i,r,o){if(!e)throw Error("Invalid event type");var s=Pf(r)?!!r.capture:!!r,a=XA(n);if(a||(n[KA]=a=new Wy(n)),(t=a.add(e,t,i,s,o)).proxy)return t;if(i=function cye(){const e=uye;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)eye||(r=s),void 0===r&&(r=!1),n.addEventListener(e.toString(),i,r);else if(n.attachEvent)n.attachEvent(x4(e.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return t}function w4(n,e,t,i,r){if(Array.isArray(e)){for(var o=0;o<e.length;o++)w4(n,e[o],t,i,r);return null}return t=JA(t),n&&n[Ff]?n.P(e,t,Pf(i)?!!i.capture:!!i,r):b4(n,e,t,!0,i,r)}function C4(n,e,t,i,r){if(Array.isArray(e))for(var o=0;o<e.length;o++)C4(n,e[o],t,i,r);else i=Pf(i)?!!i.capture:!!i,t=JA(t),n&&n[Ff]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=qA(o=n.g[e],t,i,r))&&(Gy(o[t]),Array.prototype.splice.call(o,t,1),0==o.length&&(delete n.g[e],n.h--))):n&&(n=XA(n))&&(e=n.g[e.toString()],n=-1,e&&(n=qA(e,t,i,r)),(t=-1<n?e[n]:null)&&QA(t))}function QA(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[Ff])WA(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(x4(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=XA(e))?(WA(t,n),0==t.h&&(t.src=null,e[KA]=null)):Gy(n)}}}function x4(n){return n in YA?YA[n]:YA[n]="on"+n}function uye(n,e){if(n.fa)n=!0;else{e=new Nf(e,this);var t=n.listener,i=n.la||n.src;n.ia&&QA(n),n=t.call(i,e)}return n}function XA(n){return(n=n[KA])instanceof Wy?n:null}var ZA="__closure_events_fn_"+(1e9*Math.random()>>>0);function JA(n){return"function"==typeof n?n:(n[ZA]||(n[ZA]=function(e){return n.handleEvent(e)}),n[ZA])}function Dn(){na.call(this),this.i=new Wy(this),this.S=this,this.J=null}function jn(n,e){var t,i=n.J;if(i)for(t=[];i;i=i.J)t.push(i);if(n=n.S,i=e.type||e,"string"==typeof e)e=new ii(e,n);else if(e instanceof ii)e.target=e.target||n;else{var r=e;y4(e=new ii(i,n),r)}if(r=!0,t)for(var o=t.length-1;0<=o;o--){var s=e.g=t[o];r=qy(s,i,!0,e)&&r}if(r=qy(s=e.g=n,i,!0,e)&&r,r=qy(s,i,!1,e)&&r,t)for(o=0;o<t.length;o++)r=qy(s=e.g=t[o],i,!1,e)&&r}function qy(n,e,t,i){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var r=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.fa&&s.capture==t){var a=s.listener,l=s.la||s.src;s.ia&&WA(n.i,s),r=!1!==a.call(l,i)&&r}}return r&&!i.defaultPrevented}En(Dn,na),Dn.prototype[Ff]=!0,Dn.prototype.removeEventListener=function(n,e,t,i){C4(this,n,e,t,i)},Dn.prototype.N=function(){if(Dn.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)Gy(t[i]);delete n.g[e],n.h--}}this.J=null},Dn.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)},Dn.prototype.P=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};var eM=de.JSON.stringify;function dye(){var n=I4;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var tM,E4=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new fye,n=>n.reset());class fye{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function pye(n){de.setTimeout(()=>{throw n},0)}function D4(n,e){tM||function mye(){var n=de.Promise.resolve(void 0);tM=function(){n.then(gye)}}(),nM||(tM(),nM=!0),I4.add(n,e)}var nM=!1,I4=new class hye{constructor(){this.h=this.g=null}add(e,t){const i=E4.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}};function gye(){for(var n;n=dye();){try{n.h.call(n.g)}catch(t){pye(t)}var e=E4;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}nM=!1}function Ky(n,e){Dn.call(this),this.h=n||1,this.g=e||de,this.j=ni(this.qb,this),this.l=Date.now()}function iM(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function rM(n,e,t){if("function"==typeof n)t&&(n=ni(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=ni(n.handleEvent,n)}return 2147483647<Number(e)?-1:de.setTimeout(n,e||0)}function S4(n){n.g=rM(()=>{n.g=null,n.i&&(n.i=!1,S4(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}En(Ky,Dn),(U=Ky.prototype).ga=!1,U.T=null,U.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),jn(this,"tick"),this.ga&&(iM(this),this.start()))}},U.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},U.N=function(){Ky.$.N.call(this),iM(this),delete this.g};class _ye extends na{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:S4(this)}N(){super.N(),this.g&&(de.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Lf(n){na.call(this),this.h=n,this.g={}}En(Lf,na);var T4=[];function A4(n,e,t,i){Array.isArray(t)||(t&&(T4[0]=t.toString()),t=T4);for(var r=0;r<t.length;r++){var o=v4(e,t[r],i||n.handleEvent,!1,n.h||n);if(!o)break;n.g[o.key]=o}}function M4(n){GA(n.g,function(e,t){this.g.hasOwnProperty(t)&&QA(e)},n),n.g={}}function Yy(){this.g=!0}function Pu(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function wye(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var o=r[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<r.length;s++)r[s]=""}}}return eM(t)}catch{return e}}(n,t)+(i?" "+i:"")})}Lf.prototype.N=function(){Lf.$.N.call(this),M4(this)},Lf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Yy.prototype.Ea=function(){this.g=!1},Yy.prototype.info=function(){};var xl={},R4=null;function Qy(){return R4=R4||new Dn}function k4(n){ii.call(this,xl.Ta,n)}function Vf(n){const e=Qy();jn(e,new k4(e))}function O4(n,e){ii.call(this,xl.STAT_EVENT,n),this.stat=e}function gi(n){const e=Qy();jn(e,new O4(e,n))}function P4(n,e){ii.call(this,xl.Ua,n),this.size=e}function Bf(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return de.setTimeout(function(){n()},e)}xl.Ta="serverreachability",En(k4,ii),xl.STAT_EVENT="statevent",En(O4,ii),xl.Ua="timingevent",En(P4,ii);var Xy={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},N4={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function oM(){}function L4(){}oM.prototype.h=null;var lM,Uf={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function sM(){ii.call(this,"d")}function aM(){ii.call(this,"c")}function Zy(){}function jf(n,e,t,i){this.l=n,this.j=e,this.m=t,this.W=i||1,this.U=new Lf(this),this.P=Cye,this.V=new Ky(n=UA?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.aa=-1,this.J=!1,this.O=0,this.M=null,this.ca=this.K=this.ba=this.S=!1,this.h=new V4}function V4(){this.i=null,this.g="",this.h=!1}En(sM,ii),En(aM,ii),En(Zy,oM),Zy.prototype.g=function(){return new XMLHttpRequest},Zy.prototype.i=function(){return{}},lM=new Zy;var Cye=45e3,cM={},Jy={};function uM(n,e,t){n.L=1,n.v=iv(ds(e)),n.s=t,n.S=!0,B4(n,null)}function B4(n,e){n.G=Date.now(),Hf(n),n.A=ds(n.v);var t=n.A,i=n.W;Array.isArray(i)||(i=[String(i)]),Y4(t.i,"t",i),n.C=0,t=n.l.I,n.h=new V4,n.g=b3(n.l,t?e:null,!n.s),0<n.O&&(n.M=new _ye(ni(n.Pa,n,n.g),n.O)),A4(n.U,n.g,"readystatechange",n.nb),e=n.I?g4(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),Vf(),function yye(n,e,t,i,r,o){n.info(function(){if(n.g)if(o)for(var s="",a=o.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");s=2<=d.length&&"type"==d[1]?s+(u+"=")+c+"&":s+(u+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+t+"\n"+s})}(n.j,n.u,n.A,n.m,n.W,n.s)}function U4(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function j4(n,e,t){let r,i=!0;for(;!n.J&&n.C<t.length;){if(r=xye(n,t),r==Jy){4==e&&(n.o=4,gi(14),i=!1),Pu(n.j,n.m,null,"[Incomplete Response]");break}if(r==cM){n.o=4,gi(15),Pu(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}Pu(n.j,n.m,r,null),dM(n,r)}U4(n)&&r!=Jy&&r!=cM&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,gi(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.ca&&(n.ca=!0,(e=n.l).g==n&&e.ca&&!e.L&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),vM(e),e.L=!0,gi(11))):(Pu(n.j,n.m,t,"[Invalid Chunked Response]"),El(n),zf(n))}function xye(n,e){var t=n.C,i=e.indexOf("\n",t);return-1==i?Jy:(t=Number(e.substring(t,i)),isNaN(t)?cM:(i+=1)+t>e.length?Jy:(e=e.substr(i,t),n.C=i+t,e))}function Hf(n){n.Y=Date.now()+n.P,H4(n,n.P)}function H4(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Bf(ni(n.lb,n),e)}function ev(n){n.B&&(de.clearTimeout(n.B),n.B=null)}function zf(n){0==n.l.H||n.J||g3(n.l,n)}function El(n){ev(n);var e=n.M;e&&"function"==typeof e.ra&&e.ra(),n.M=null,iM(n.V),M4(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.ra())}function dM(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||hM(t.h,n)))if(!n.K&&hM(t.h,n)&&3==t.H){try{var i=t.Ja.g.parse(e)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;cv(t),av(t)}yM(t),gi(18)}}else t.Fa=r[1],0<t.Fa-t.V&&37500>r[2]&&t.M&&0==t.A&&!t.v&&(t.v=Bf(ni(t.ib,t),6e3));if(1>=Z4(t.h)&&t.na){try{t.na()}catch{}t.na=void 0}}else Il(t,11)}else if((n.K||t.g==n)&&cv(t),!Hy(e))for(r=t.Ja.g.parse(e),e=0;e<r.length;e++){let c=r[e];if(t.V=c[0],c=c[1],2==t.H)if("c"==c[0]){t.J=c[1],t.oa=c[2];const u=c[3];null!=u&&(t.qa=u,t.j.info("VER="+t.qa));const d=c[4];null!=d&&(t.Ga=d,t.j.info("SVER="+t.Ga));const h=c[5];null!=h&&"number"==typeof h&&0<h&&(t.K=i=1.5*h,t.j.info("backChannelRequestTimeoutMs_="+i)),i=t;const f=n.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var o=i.h;o.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(fM(o,o.h),o.h=null))}if(i.F){const m=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(i.Da=m,wt(i.G,i.F,m))}}t.H=3,t.l&&t.l.Ba(),t.ca&&(t.S=Date.now()-n.G,t.j.info("Handshake RTT: "+t.S+"ms"));var s=n;if((i=t).wa=v3(i,i.I?i.oa:null,i.Y),s.K){J4(i.h,s);var a=s,l=i.K;l&&a.setTimeout(l),a.B&&(ev(a),Hf(a)),i.g=s}else p3(i);0<t.i.length&&lv(t)}else"stop"!=c[0]&&"close"!=c[0]||Il(t,7);else 3==t.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?Il(t,7):_M(t):"noop"!=c[0]&&t.l&&t.l.Aa(c),t.A=0)}Vf()}catch{}}function z4(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Uy(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function Dye(n){if(n.sa&&"function"==typeof n.sa)return n.sa();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Uy(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const i in n)e[t++]=i;return e}}}(n),i=function Eye(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Uy(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}for(i in e=[],t=0,n)e[t++]=n[i];return e}(n),r=i.length,o=0;o<r;o++)e.call(void 0,i[o],t&&t[o],n)}(U=jf.prototype).setTimeout=function(n){this.P=n},U.nb=function(n){n=n.target;const e=this.M;e&&3==hs(n)?e.l():this.Pa(n)},U.Pa=function(n){try{if(n==this.g)e:{const u=hs(this.g);var e=this.g.Ia();if(this.g.da(),!(3>u)&&(3!=u||UA||this.g&&(this.h.h||this.g.ja()||l3(this.g)))){this.J||4!=u||7==e||Vf(),ev(this);var t=this.g.da();this.aa=t;t:if(U4(this)){var i=l3(this.g);n="";var r=i.length,o=4==hs(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){El(this),zf(this);var s="";break t}this.h.i=new de.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:o&&e==r-1});i.splice(0,r),this.h.g+=n,this.C=0,s=this.h.g}else s=this.g.ja();if(this.i=200==t,function vye(n,e,t,i,r,o,s){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+t+"\n"+o+" "+s})}(this.j,this.u,this.A,this.m,this.W,u,t),this.i){if(this.ba&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Hy(a)){var c=a;break t}}c=null}if(!(t=c)){this.i=!1,this.o=3,gi(12),El(this),zf(this);break e}Pu(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,dM(this,t)}this.S?(j4(this,u,s),UA&&this.i&&3==u&&(A4(this.U,this.V,"tick",this.mb),this.V.start())):(Pu(this.j,this.m,s,null),dM(this,s)),4==u&&El(this),this.i&&!this.J&&(4==u?g3(this.l,this):(this.i=!1,Hf(this)))}else 400==t&&0<s.indexOf("Unknown SID")?(this.o=3,gi(12)):(this.o=0,gi(13)),El(this),zf(this)}}}catch{}},U.mb=function(){if(this.g){var n=hs(this.g),e=this.g.ja();this.C<e.length&&(ev(this),j4(this,n,e),this.i&&4!=n&&Hf(this))}},U.cancel=function(){this.J=!0,El(this)},U.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function bye(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Vf(),gi(17)),El(this),this.o=2,zf(this)):H4(this,this.Y-n)};var $4=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Dl(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Dl){this.h=void 0!==e?e:n.h,tv(this,n.j),this.s=n.s,this.g=n.g,nv(this,n.m),this.l=n.l,e=n.i;var t=new Wf;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),G4(this,t),this.o=n.o}else n&&(t=String(n).match($4))?(this.h=!!e,tv(this,t[1]||"",!0),this.s=$f(t[2]||""),this.g=$f(t[3]||"",!0),nv(this,t[4]),this.l=$f(t[5]||"",!0),G4(this,t[6]||"",!0),this.o=$f(t[7]||"")):(this.h=!!e,this.i=new Wf(null,this.h))}function ds(n){return new Dl(n)}function tv(n,e,t){n.j=t?$f(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function nv(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function G4(n,e,t){e instanceof Wf?(n.i=e,function kye(n,e){e&&!n.j&&(ia(n),n.i=null,n.g.forEach(function(t,i){var r=i.toLowerCase();i!=r&&(q4(this,i),Y4(this,r,t))},n)),n.j=e}(n.i,n.h)):(t||(e=Gf(e,Mye)),n.i=new Wf(e,n.h))}function wt(n,e,t){n.i.set(e,t)}function iv(n){return wt(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function $f(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Gf(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,Sye),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function Sye(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Dl.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Gf(e,W4,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Gf(e,W4,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(Gf(t,"/"==t.charAt(0)?Aye:Tye,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Gf(t,Rye)),n.join("")};var W4=/[#\/\?@]/g,Tye=/[#\?:]/g,Aye=/[#\?]/g,Mye=/[#\?@]/g,Rye=/#/g;function Wf(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function ia(n){n.g||(n.g=new Map,n.h=0,n.i&&function Iye(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),r=null;if(0<=i){var o=n[t].substring(0,i);r=n[t].substring(i+1)}else o=n[t];e(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function q4(n,e){ia(n),e=Nu(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function K4(n,e){return ia(n),e=Nu(n,e),n.g.has(e)}function Y4(n,e,t){q4(n,e),0<t.length&&(n.i=null,n.g.set(Nu(n,e),LA(t)),n.h+=t.length)}function Nu(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function Q4(n){this.l=n||Pye,n=de.PerformanceNavigationTiming?0<(n=de.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(de.g&&de.g.Ka&&de.g.Ka()&&de.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(U=Wf.prototype).add=function(n,e){ia(this),this.i=null,n=Nu(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},U.forEach=function(n,e){ia(this),this.g.forEach(function(t,i){t.forEach(function(r){n.call(e,r,i,this)},this)},this)},U.sa=function(){ia(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let i=0;i<e.length;i++){const r=n[i];for(let o=0;o<r.length;o++)t.push(e[i])}return t},U.Z=function(n){ia(this);let e=[];if("string"==typeof n)K4(this,n)&&(e=e.concat(this.g.get(Nu(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},U.set=function(n,e){return ia(this),this.i=null,K4(this,n=Nu(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},U.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},U.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var i=e[t];const o=encodeURIComponent(String(i)),s=this.Z(i);for(i=0;i<s.length;i++){var r=o;""!==s[i]&&(r+="="+encodeURIComponent(String(s[i]))),n.push(r)}}return this.i=n.join("&")};var Pye=10;function X4(n){return!!n.h||!!n.g&&n.g.size>=n.j}function Z4(n){return n.h?1:n.g?n.g.size:0}function hM(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function fM(n,e){n.g?n.g.add(e):n.h=e}function J4(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function e3(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return LA(n.i)}function pM(){}function Nye(){this.g=new pM}function Fye(n,e,t){const i=t||"";try{z4(n,function(r,o){let s=r;Pf(r)&&(s=eM(r)),e.push(i+o+"="+encodeURIComponent(s))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function rv(n,e,t,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch{}}function qf(n){this.l=n.fc||null,this.j=n.ob||!1}function ov(n,e){Dn.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=mM,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Q4.prototype.cancel=function(){if(this.i=e3(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},pM.prototype.stringify=function(n){return de.JSON.stringify(n,void 0)},pM.prototype.parse=function(n){return de.JSON.parse(n,void 0)},En(qf,oM),qf.prototype.g=function(){return new ov(this.l,this.j)},qf.prototype.i=function(n){return function(){return n}}({}),En(ov,Dn);var mM=0;function t3(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function Kf(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Yf(n)}function Yf(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(U=ov.prototype).open=function(n,e){if(this.readyState!=mM)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Yf(this)},U.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||de).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},U.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Kf(this)),this.readyState=mM},U.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Yf(this)),this.g&&(this.readyState=3,Yf(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof de.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;t3(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},U.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Kf(this):Yf(this),3==this.readyState&&t3(this)}},U.Za=function(n){this.g&&(this.response=this.responseText=n,Kf(this))},U.Ya=function(n){this.g&&(this.response=n,Kf(this))},U.ka=function(){this.g&&Kf(this)},U.setRequestHeader=function(n,e){this.v.append(n,e)},U.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},U.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(ov.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var Vye=de.JSON.parse;function Vt(n){Dn.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=n3,this.L=this.M=!1}En(Vt,Dn);var n3="",Bye=/^https?$/i,Uye=["POST","PUT"];function r3(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,o3(n),sv(n)}function o3(n){n.F||(n.F=!0,jn(n,"complete"),jn(n,"error"))}function s3(n){if(n.h&&typeof NA<"u"&&(!n.C[1]||4!=hs(n)||2!=n.da()))if(n.v&&4==hs(n))rM(n.La,0,n);else if(jn(n,"readystatechange"),4==hs(n)){n.h=!1;try{const a=n.da();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=0===a){var r=String(n.I).match($4)[1]||null;if(!r&&de.self&&de.self.location){var o=de.self.location.protocol;r=o.substr(0,o.length-1)}i=!Bye.test(r?r.toLowerCase():"")}t=i}if(t)jn(n,"complete"),jn(n,"success");else{n.m=6;try{var s=2<hs(n)?n.g.statusText:""}catch{s=""}n.j=s+" ["+n.da()+"]",o3(n)}}finally{sv(n)}}}function sv(n,e){if(n.g){a3(n);const t=n.g,i=n.C[0]?By:null;n.g=null,n.C=null,e||jn(n,"ready");try{t.onreadystatechange=i}catch{}}}function a3(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(de.clearTimeout(n.A),n.A=null)}function hs(n){return n.g?n.g.readyState:0}function l3(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case n3:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function c3(n){let e="";return GA(n,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}function gM(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=c3(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):wt(n,e,t))}function Qf(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function u3(n){this.Ga=0,this.i=[],this.j=new Yy,this.oa=this.wa=this.G=this.Y=this.g=this.Da=this.F=this.ma=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Qf("failFast",!1,n),this.M=this.v=this.u=this.m=this.l=null,this.aa=!0,this.ta=this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Qf("baseRetryDelayMs",5e3,n),this.hb=Qf("retryDelaySeedMs",1e4,n),this.eb=Qf("forwardChannelMaxRetries",2,n),this.xa=Qf("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.K=void 0,this.I=n&&n.supportsCrossDomainXhr||!1,this.J="",this.h=new Q4(n&&n.concurrentRequestLimit),this.Ja=new Nye,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.j.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.na=void 0,this.S=0,this.L=!1,this.pa=this.B=null}function _M(n){if(d3(n),3==n.H){var e=n.W++,t=ds(n.G);wt(t,"SID",n.J),wt(t,"RID",e),wt(t,"TYPE","terminate"),Xf(n,t),(e=new jf(n,n.j,e,void 0)).L=2,e.v=iv(ds(t)),t=!1,de.navigator&&de.navigator.sendBeacon&&(t=de.navigator.sendBeacon(e.v.toString(),"")),!t&&de.Image&&((new Image).src=e.v,t=!0),t||(e.g=b3(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Hf(e)}y3(n)}function av(n){n.g&&(vM(n),n.g.cancel(),n.g=null)}function d3(n){av(n),n.u&&(de.clearTimeout(n.u),n.u=null),cv(n),n.h.cancel(),n.m&&("number"==typeof n.m&&de.clearTimeout(n.m),n.m=null)}function lv(n){X4(n.h)||n.m||(n.m=!0,D4(n.Na,n),n.C=0)}function h3(n,e){var t;t=e?e.m:n.W++;const i=ds(n.G);wt(i,"SID",n.J),wt(i,"RID",t),wt(i,"AID",n.V),Xf(n,i),n.o&&n.s&&gM(i,n.o,n.s),t=new jf(n,n.j,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.i=e.F.concat(n.i)),e=f3(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),fM(n.h,t),uM(t,i,e)}function Xf(n,e){n.ma&&GA(n.ma,function(t,i){wt(e,i,t)}),n.l&&z4({},function(t,i){wt(e,i,t)})}function f3(n,e,t){t=Math.min(n.i.length,t);var i=n.l?ni(n.l.Va,n.l,n):null;e:{var r=n.i;let o=-1;for(;;){const s=["count="+t];-1==o?0<t?(o=r[0].h,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let l=0;l<t;l++){let c=r[l].h;const u=r[l].g;if(c-=o,0>c)o=Math.max(0,r[l].h-100),a=!1;else try{Fye(u,s,"req"+c+"_")}catch{i&&i(u)}}if(a){i=s.join("&");break e}}}return n=n.i.splice(0,t),e.F=n,i}function p3(n){n.g||n.u||(n.ba=1,D4(n.Ma,n),n.A=0)}function yM(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=Bf(ni(n.Ma,n),_3(n,n.A)),n.A++,0))}function vM(n){null!=n.B&&(de.clearTimeout(n.B),n.B=null)}function m3(n){n.g=new jf(n,n.j,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=ds(n.wa);wt(e,"RID","rpc"),wt(e,"SID",n.J),wt(e,"CI",n.M?"0":"1"),wt(e,"AID",n.V),wt(e,"TYPE","xmlhttp"),Xf(n,e),n.o&&n.s&&gM(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.oa,t.L=1,t.v=iv(ds(e)),t.s=null,t.S=!0,B4(t,n)}function cv(n){null!=n.v&&(de.clearTimeout(n.v),n.v=null)}function g3(n,e){var t=null;if(n.g==e){cv(n),vM(n),n.g=null;var i=2}else{if(!hM(n.h,e))return;t=e.F,J4(n.h,e),i=1}if(0!=n.H)if(n.ta=e.aa,e.i)if(1==i){t=e.s?e.s.length:0,e=Date.now()-e.G;var r=n.C;jn(i=Qy(),new P4(i,t)),lv(n)}else p3(n);else if(3==(r=e.o)||0==r&&0<n.ta||!(1==i&&function Hye(n,e){return!(Z4(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.F.concat(n.i),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=Bf(ni(n.Na,n,e),_3(n,n.C)),n.C++,0)))}(n,e)||2==i&&yM(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),r){case 1:Il(n,5);break;case 4:Il(n,10);break;case 3:Il(n,6);break;default:Il(n,2)}}function _3(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.l||(t*=2),t*e}function Il(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var i=ni(n.pb,n);t||(t=new Dl("//www.google.com/images/cleardot.gif"),de.location&&"http"==de.location.protocol||tv(t,"https"),iv(t)),function Lye(n,e){const t=new Yy;if(de.Image){const i=new Image;i.onload=jy(rv,t,i,"TestLoadImage: loaded",!0,e),i.onerror=jy(rv,t,i,"TestLoadImage: error",!1,e),i.onabort=jy(rv,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=jy(rv,t,i,"TestLoadImage: timeout",!1,e),de.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}(t.toString(),i)}else gi(2);n.H=0,n.l&&n.l.za(e),y3(n),d3(n)}function y3(n){if(n.H=0,n.pa=[],n.l){const e=e3(n.h);(0!=e.length||0!=n.i.length)&&(c4(n.pa,e),c4(n.pa,n.i),n.h.i.length=0,LA(n.i),n.i.length=0),n.l.ya()}}function v3(n,e,t){var i=t instanceof Dl?ds(t):new Dl(t,void 0);if(""!=i.g)e&&(i.g=e+"."+i.g),nv(i,i.m);else{var r=de.location;i=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var o=new Dl(null,void 0);i&&tv(o,i),e&&(o.g=e),r&&nv(o,r),t&&(o.l=t),i=o}return e=n.Da,(t=n.F)&&e&&wt(i,t,e),wt(i,"VER",n.qa),Xf(n,i),i}function b3(n,e,t){if(e&&!n.I)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Vt(t&&n.Ha&&!n.va?new qf({ob:!0}):n.va)).Oa(n.I),e}function w3(){}function uv(){if(Ou&&!(10<=Number(oye)))throw Error("Environmental error: no available transport.")}function qi(n,e){Dn.call(this),this.g=new u3(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!Hy(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Hy(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Fu(this)}function C3(n){sM.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function x3(){aM.call(this),this.status=1}function Fu(n){this.g=n}function Rr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function bM(n,e,t){t||(t=0);var i=Array(16);if("string"==typeof e)for(var r=0;16>r;++r)i[r]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(r=0;16>r;++r)i[r]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var o=n.g[3],s=(e=n.g[0])+(o^(t=n.g[1])&((r=n.g[2])^o))+i[0]+3614090360&4294967295;s=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=t+(s<<7&4294967295|s>>>25))+((s=o+(r^e&(t^r))+i[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=r+(t^o&(e^t))+i[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=t+(e^r&(o^e))+i[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^t&(r^o))+i[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=o+(r^e&(t^r))+i[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=r+(t^o&(e^t))+i[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=t+(e^r&(o^e))+i[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^t&(r^o))+i[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=o+(r^e&(t^r))+i[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=r+(t^o&(e^t))+i[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=t+(e^r&(o^e))+i[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^t&(r^o))+i[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=o+(r^e&(t^r))+i[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=r+(t^o&(e^t))+i[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=t+(e^r&(o^e))+i[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=e+(r^o&(t^r))+i[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=o+(t^r&(e^t))+i[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=r+(e^t&(o^e))+i[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=t+(o^e&(r^o))+i[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=e+(r^o&(t^r))+i[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=o+(t^r&(e^t))+i[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=r+(e^t&(o^e))+i[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=t+(o^e&(r^o))+i[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=e+(r^o&(t^r))+i[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=o+(t^r&(e^t))+i[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=r+(e^t&(o^e))+i[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=t+(o^e&(r^o))+i[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=e+(r^o&(t^r))+i[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=o+(t^r&(e^t))+i[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=r+(e^t&(o^e))+i[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=t+(o^e&(r^o))+i[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=e+(t^r^o)+i[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^t^r)+i[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=r+(o^e^t)+i[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=t+(r^o^e)+i[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=e+(t^r^o)+i[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^t^r)+i[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=r+(o^e^t)+i[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=t+(r^o^e)+i[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=e+(t^r^o)+i[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^t^r)+i[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=r+(o^e^t)+i[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=t+(r^o^e)+i[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=e+(t^r^o)+i[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^t^r)+i[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=r+(o^e^t)+i[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=t+(r^o^e)+i[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=e+(r^(t|~o))+i[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=o+(t^(e|~r))+i[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=r+(e^(o|~t))+i[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=t+(o^(r|~e))+i[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=e+(r^(t|~o))+i[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=o+(t^(e|~r))+i[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=r+(e^(o|~t))+i[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=t+(o^(r|~e))+i[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=e+(r^(t|~o))+i[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=o+(t^(e|~r))+i[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=r+(e^(o|~t))+i[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=t+(o^(r|~e))+i[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((o=(e=t+((s=e+(r^(t|~o))+i[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=o+(t^(e|~r))+i[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((r=o+((s=r+(e^(o|~t))+i[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~e))+i[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(r+(s<<21&4294967295|s>>>11))&4294967295,n.g[2]=n.g[2]+r&4294967295,n.g[3]=n.g[3]+o&4294967295}function Je(n,e){this.h=e;for(var t=[],i=!0,r=n.length-1;0<=r;r--){var o=0|n[r];i&&o==e||(t[r]=o,i=!1)}this.g=t}(U=Vt.prototype).Oa=function(n){this.M=n},U.ha=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():lM.g(),this.C=function F4(n){return n.h||(n.h=n.i())}(this.u?this.u:lM),this.g.onreadystatechange=ni(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(o){return void r3(this,o)}if(n=t||"",t=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)t.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const o of i.keys())t.set(o,i.get(o))}i=Array.from(t.keys()).find(o=>"content-type"==o.toLowerCase()),r=de.FormData&&n instanceof de.FormData,!(0<=l4(Uye,e))||i||r||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,s]of t)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{a3(this),0<this.B&&((this.L=function jye(n){return Ou&&function rye(){return d4(iye,9,function(){let n=0;const e=u4(String($y)).split("."),t=u4("9").split("."),i=Math.max(e.length,t.length);for(let s=0;0==n&&s<i;s++){var r=e[s]||"",o=t[s]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==r[0].length&&0==o[0].length)break;n=VA(0==r[1].length?0:parseInt(r[1],10),0==o[1].length?0:parseInt(o[1],10))||VA(0==r[2].length,0==o[2].length)||VA(r[2],o[2]),r=r[3],o=o[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ni(this.ua,this)):this.A=rM(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(o){r3(this,o)}},U.ua=function(){typeof NA<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,jn(this,"timeout"),this.abort(8))},U.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,jn(this,"complete"),jn(this,"abort"),sv(this))},U.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),sv(this,!0)),Vt.$.N.call(this)},U.La=function(){this.s||(this.G||this.v||this.l?s3(this):this.kb())},U.kb=function(){s3(this)},U.da=function(){try{return 2<hs(this)?this.g.status:-1}catch{return-1}},U.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},U.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),Vye(e)}},U.Ia=function(){return this.m},U.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(U=u3.prototype).qa=8,U.H=1,U.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const r=new jf(this,this.j,n,void 0);let o=this.s;if(this.U&&(o?(o=g4(o),y4(o,this.U)):o=this.U),null!==this.o||this.O||(r.I=o,o=null),this.P)e:{for(var e=0,t=0;t<this.i.length;t++){var i=this.i[t];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=f3(this,r,e),wt(t=ds(this.G),"RID",n),wt(t,"CVER",22),this.F&&wt(t,"X-HTTP-Session-Id",this.F),Xf(this,t),o&&(this.O?e="headers="+encodeURIComponent(String(c3(o)))+"&"+e:this.o&&gM(t,this.o,o)),fM(this.h,r),this.bb&&wt(t,"TYPE","init"),this.P?(wt(t,"$req",e),wt(t,"SID","null"),r.ba=!0,uM(r,t,null)):uM(r,t,e),this.H=2}}else 3==this.H&&(n?h3(this,n):0==this.i.length||X4(this.h)||h3(this))},U.Ma=function(){if(this.u=null,m3(this),this.ca&&!(this.L||null==this.g||0>=this.S)){var n=2*this.S;this.j.info("BP detection timer enabled: "+n),this.B=Bf(ni(this.jb,this),n)}},U.jb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.M=!1,this.L=!0,gi(10),av(this),m3(this))},U.ib=function(){null!=this.v&&(this.v=null,av(this),yM(this),gi(19))},U.pb=function(n){n?(this.j.info("Successfully pinged google.com"),gi(2)):(this.j.info("Failed to ping google.com"),gi(1))},(U=w3.prototype).Ba=function(){},U.Aa=function(){},U.za=function(){},U.ya=function(){},U.Va=function(){},uv.prototype.g=function(n,e){return new qi(n,e)},En(qi,Dn),qi.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.I=!0);var n=this.g,e=this.l,t=this.h||void 0;gi(0),n.Y=e,n.ma=t||{},n.M=n.aa,n.G=v3(n,null,n.Y),lv(n)},qi.prototype.close=function(){_M(this.g)},qi.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=eM(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.fb++,n)),3==e.H&&lv(e)},qi.prototype.N=function(){this.g.l=null,delete this.j,_M(this.g),delete this.g,qi.$.N.call(this)},En(C3,sM),En(x3,aM),En(Fu,w3),Fu.prototype.Ba=function(){jn(this.g,"a")},Fu.prototype.Aa=function(n){jn(this.g,new C3(n))},Fu.prototype.za=function(n){jn(this.g,new x3)},Fu.prototype.ya=function(){jn(this.g,"b")},En(Rr,function zye(){this.blockSize=-1}),Rr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Rr.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,i=this.m,r=this.h,o=0;o<e;){if(0==r)for(;o<=t;)bM(this,n,o),o+=this.blockSize;if("string"==typeof n){for(;o<e;)if(i[r++]=n.charCodeAt(o++),r==this.blockSize){bM(this,i),r=0;break}}else for(;o<e;)if(i[r++]=n[o++],r==this.blockSize){bM(this,i),r=0;break}}this.h=r,this.i+=e},Rr.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var i=0;32>i;i+=8)n[t++]=this.g[e]>>>i&255;return n};var $ye={};function wM(n){return-128<=n&&128>n?d4($ye,n,function(e){return new Je([0|e],0>e?-1:0)}):new Je([0|n],0>n?-1:0)}function yo(n){if(isNaN(n)||!isFinite(n))return Lu;if(0>n)return Hn(yo(-n));for(var e=[],t=1,i=0;n>=t;i++)e[i]=n/t|0,t*=CM;return new Je(e,0)}var CM=4294967296,Lu=wM(0),xM=wM(1),D3=wM(16777216);function fs(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function dr(n){return-1==n.h}function Hn(n){for(var e=n.g.length,t=[],i=0;i<e;i++)t[i]=~n.g[i];return new Je(t,~n.h).add(xM)}function dv(n,e){return n.add(Hn(e))}function hv(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function Zf(n,e){this.g=n,this.h=e}function fv(n,e){if(fs(e))throw Error("division by zero");if(fs(n))return new Zf(Lu,Lu);if(dr(n))return e=fv(Hn(n),e),new Zf(Hn(e.g),Hn(e.h));if(dr(e))return e=fv(n,Hn(e)),new Zf(Hn(e.g),e.h);if(30<n.g.length){if(dr(n)||dr(e))throw Error("slowDivide_ only works with positive integers.");for(var t=xM,i=e;0>=i.X(n);)t=I3(t),i=I3(i);var r=Vu(t,1),o=Vu(i,1);for(i=Vu(i,2),t=Vu(t,2);!fs(i);){var s=o.add(i);0>=s.X(n)&&(r=r.add(t),o=s),i=Vu(i,1),t=Vu(t,1)}return e=dv(n,r.R(e)),new Zf(r,e)}for(r=Lu;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),i=48>=(i=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,i-48),s=(o=yo(t)).R(e);dr(s)||0<s.X(n);)s=(o=yo(t-=i)).R(e);fs(o)&&(o=xM),r=r.add(o),n=dv(n,s)}return new Zf(r,n)}function I3(n){for(var e=n.g.length+1,t=[],i=0;i<e;i++)t[i]=n.D(i)<<1|n.D(i-1)>>>31;return new Je(t,n.h)}function Vu(n,e){var t=e>>5;e%=32;for(var i=n.g.length-t,r=[],o=0;o<i;o++)r[o]=0<e?n.D(o+t)>>>e|n.D(o+t+1)<<32-e:n.D(o+t);return new Je(r,n.h)}(U=Je.prototype).ea=function(){if(dr(this))return-Hn(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var i=this.D(t);n+=(0<=i?i:CM+i)*e,e*=CM}return n},U.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(fs(this))return"0";if(dr(this))return"-"+Hn(this).toString(n);for(var e=yo(Math.pow(n,6)),t=this,i="";;){var r=fv(t,e).g,o=((0<(t=dv(t,r.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(fs(t=r))return o+i;for(;6>o.length;)o="0"+o;i=o+i}},U.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},U.X=function(n){return dr(n=dv(this,n))?-1:fs(n)?0:1},U.abs=function(){return dr(this)?Hn(this):this},U.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0,r=0;r<=e;r++){var o=i+(65535&this.D(r))+(65535&n.D(r)),s=(o>>>16)+(this.D(r)>>>16)+(n.D(r)>>>16);i=s>>>16,t[r]=(s&=65535)<<16|(o&=65535)}return new Je(t,-2147483648&t[t.length-1]?-1:0)},U.R=function(n){if(fs(this)||fs(n))return Lu;if(dr(this))return dr(n)?Hn(this).R(Hn(n)):Hn(Hn(this).R(n));if(dr(n))return Hn(this.R(Hn(n)));if(0>this.X(D3)&&0>n.X(D3))return yo(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],i=0;i<2*e;i++)t[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<n.g.length;r++){var o=this.D(i)>>>16,s=65535&this.D(i),a=n.D(r)>>>16,l=65535&n.D(r);t[2*i+2*r]+=s*l,hv(t,2*i+2*r),t[2*i+2*r+1]+=o*l,hv(t,2*i+2*r+1),t[2*i+2*r+1]+=s*a,hv(t,2*i+2*r+1),t[2*i+2*r+2]+=o*a,hv(t,2*i+2*r+2)}for(i=0;i<e;i++)t[i]=t[2*i+1]<<16|t[2*i];for(i=e;i<2*e;i++)t[i]=0;return new Je(t,0)},U.gb=function(n){return fv(this,n).h},U.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)&n.D(i);return new Je(t,this.h&n.h)},U.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)|n.D(i);return new Je(t,this.h|n.h)},U.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)^n.D(i);return new Je(t,this.h^n.h)},uv.prototype.createWebChannel=uv.prototype.g,qi.prototype.send=qi.prototype.u,qi.prototype.open=qi.prototype.m,qi.prototype.close=qi.prototype.close,Xy.NO_ERROR=0,Xy.TIMEOUT=8,Xy.HTTP_ERROR=6,N4.COMPLETE="complete",L4.EventType=Uf,Uf.OPEN="a",Uf.CLOSE="b",Uf.ERROR="c",Uf.MESSAGE="d",Dn.prototype.listen=Dn.prototype.O,Vt.prototype.listenOnce=Vt.prototype.P,Vt.prototype.getLastError=Vt.prototype.Sa,Vt.prototype.getLastErrorCode=Vt.prototype.Ia,Vt.prototype.getStatus=Vt.prototype.da,Vt.prototype.getResponseJson=Vt.prototype.Wa,Vt.prototype.getResponseText=Vt.prototype.ja,Vt.prototype.send=Vt.prototype.ha,Vt.prototype.setWithCredentials=Vt.prototype.Oa,Rr.prototype.digest=Rr.prototype.l,Rr.prototype.reset=Rr.prototype.reset,Rr.prototype.update=Rr.prototype.j,Je.prototype.add=Je.prototype.add,Je.prototype.multiply=Je.prototype.R,Je.prototype.modulo=Je.prototype.gb,Je.prototype.compare=Je.prototype.X,Je.prototype.toNumber=Je.prototype.ea,Je.prototype.toString=Je.prototype.toString,Je.prototype.getBits=Je.prototype.D,Je.fromNumber=yo,Je.fromString=function E3(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return Hn(E3(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=yo(Math.pow(e,8)),i=Lu,r=0;r<n.length;r+=8){var o=Math.min(8,n.length-r),s=parseInt(n.substring(r,r+o),e);8>o?(o=yo(Math.pow(e,o)),i=i.R(o).add(yo(s))):i=(i=i.R(t)).add(yo(s))}return i};var Gye=Mr.createWebChannelTransport=function(){return new uv},Wye=Mr.getStatEventTarget=function(){return Qy()},EM=Mr.ErrorCode=Xy,qye=Mr.EventType=N4,Kye=Mr.Event=xl,S3=Mr.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Yye=Mr.FetchXmlHttpFactory=qf,pv=Mr.WebChannel=L4,Qye=Mr.XhrIo=Vt,Xye=Mr.Md5=Rr,Bu=Mr.Integer=Je;const T3="@firebase/firestore";class In{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}In.UNAUTHENTICATED=new In(null),In.GOOGLE_CREDENTIALS=new In("google-credentials-uid"),In.FIRST_PARTY=new In("first-party-uid"),In.MOCK_USER=new In("mock-user");let Uu="9.21.0";const ra=new dl("@firebase/firestore");function DM(){return ra.logLevel}function R(n,...e){if(ra.logLevel<=Pe.DEBUG){const t=e.map(IM);ra.debug(`Firestore (${Uu}): ${n}`,...t)}}function $t(n,...e){if(ra.logLevel<=Pe.ERROR){const t=e.map(IM);ra.error(`Firestore (${Uu}): ${n}`,...t)}}function kr(n,...e){if(ra.logLevel<=Pe.WARN){const t=e.map(IM);ra.warn(`Firestore (${Uu}): ${n}`,...t)}}function IM(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function $(n="Unexpected state"){const e=`FIRESTORE (${Uu}) INTERNAL ASSERTION FAILED: `+n;throw $t(e),new Error(e)}function q(n,e){n||$()}function V(n,e){return n}const E={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class M extends Wi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class pn{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class A3{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Zye{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(In.UNAUTHENTICATED))}shutdown(){}}class Jye{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class eve{constructor(e){this.t=e,this.currentUser=In.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let r=this.i;const o=c=>this.i!==r?(r=this.i,t(c)):Promise.resolve();let s=new pn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new pn,e.enqueueRetryable(()=>o(this.currentUser))};const a=()=>{const c=s;e.enqueueRetryable(_(function*(){yield c.promise,yield o(i.currentUser)}))},l=c=>{R("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(R("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new pn)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(R("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(q("string"==typeof i.accessToken),new A3(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return q(null===e||"string"==typeof e),new In(e)}}class tve{constructor(e,t,i){this.h=e,this.l=t,this.m=i,this.type="FirstParty",this.user=In.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class nve{constructor(e,t,i){this.h=e,this.l=t,this.m=i}getToken(){return Promise.resolve(new tve(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(In.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class M3{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ive{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const i=o=>{null!=o.error&&R("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.T;return this.T=o.token,R("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>i(o))};const r=o=>{R("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.I.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){const o=this.I.getImmediate({optional:!0});o?r(o):R("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(q("string"==typeof t.token),this.T=t.token,new M3(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function rve(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}class R3{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const r=rve(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<t&&(i+=e.charAt(r[o]%e.length))}return i}}function ue(n,e){return n<e?-1:n>e?1:0}function ju(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}class St{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new M(E.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new M(E.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new M(E.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new M(E.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return St.fromMillis(Date.now())}static fromDate(e){return St.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new St(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ue(this.nanoseconds,e.nanoseconds):ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Y{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Y(e)}static min(){return new Y(new St(0,0))}static max(){return new Y(new St(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Jf{constructor(e,t,i){void 0===t?t=0:t>e.length&&$(),void 0===i?i=e.length-t:i>e.length-t&&$(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===Jf.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Jf?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const o=e.get(r),s=t.get(r);if(o<s)return-1;if(o>s)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Ve extends Jf{construct(e,t,i){return new Ve(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new M(E.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new Ve(t)}static emptyPath(){return new Ve([])}}const ove=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Gt extends Jf{construct(e,t,i){return new Gt(e,t,i)}static isValidIdentifier(e){return ove.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Gt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Gt(["__name__"])}static fromServerFormat(e){const t=[];let i="",r=0;const o=()=>{if(0===i.length)throw new M(E.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let s=!1;for(;r<e.length;){const a=e[r];if("\\"===a){if(r+1===e.length)throw new M(E.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[r+1];if("\\"!==l&&"."!==l&&"`"!==l)throw new M(E.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=l,r+=2}else"`"===a?(s=!s,r++):"."!==a||s?(i+=a,r++):(o(),r++)}if(o(),s)throw new M(E.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Gt(t)}static emptyPath(){return new Gt([])}}class F{constructor(e){this.path=e}static fromPath(e){return new F(Ve.fromString(e))}static fromName(e){return new F(Ve.fromString(e).popFirst(5))}static empty(){return new F(Ve.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Ve.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Ve.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new F(new Ve(e.slice()))}}function P3(n){return new Ki(n.readTime,n.key,-1)}class Ki{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Ki(Y.min(),F.empty(),-1)}static max(){return new Ki(Y.max(),F.empty(),-1)}}function TM(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=F.comparator(n.documentKey,e.documentKey),0!==t?t:ue(n.largestBatchId,e.largestBatchId))}const N3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class lve{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function oa(n){return AM.apply(this,arguments)}function AM(){return AM=_(function*(n){if(n.code!==E.FAILED_PRECONDITION||n.message!==N3)throw n;R("LocalStore","Unexpectedly lost primary lease")}),AM.apply(this,arguments)}class C{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&$(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new C((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(t,o).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof C?t:C.resolve(t)}catch(t){return C.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):C.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):C.reject(t)}static resolve(e){return new C((t,i)=>{t(e)})}static reject(e){return new C((t,i)=>{i(e)})}static waitFor(e){return new C((t,i)=>{let r=0,o=0,s=!1;e.forEach(a=>{++r,a.next(()=>{++o,s&&o===r&&t()},l=>i(l))}),s=!0,o===r&&t()})}static or(e){let t=C.resolve(!1);for(const i of e)t=t.next(r=>r?C.resolve(r):i());return t}static forEach(e,t){const i=[];return e.forEach((r,o)=>{i.push(t.call(this,r,o))}),this.waitFor(i)}static mapArray(e,t){return new C((i,r)=>{const o=e.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const c=l;t(e[c]).next(u=>{s[c]=u,++a,a===o&&i(s)},u=>r(u))}})}static doWhile(e,t){return new C((i,r)=>{const o=()=>{!0===e()?t().next(()=>{o()},r):i()};o()})}}function sa(n){return"IndexedDbTransactionError"===n.name}let Yi=(()=>{class n{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>i.writeSequenceNumber(r))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function np(n){return null==n}function ip(n){return 0===n&&1/n==-1/0}function $3(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function aa(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function G3(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class ut{constructor(e,t){this.comparator=e,this.root=t||zn.EMPTY}insert(e,t){return new ut(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,zn.BLACK,null,null))}remove(e){return new ut(this.comparator,this.root.remove(e,this.comparator).copy(null,null,zn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(0===r)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new vv(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new vv(this.root,e,this.comparator,!1)}getReverseIterator(){return new vv(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new vv(this.root,e,this.comparator,!0)}}class vv{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?i(e.key,t):1,t&&r&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class zn{constructor(e,t,i,r,o){this.key=e,this.value=t,this.color=i??zn.RED,this.left=r??zn.EMPTY,this.right=o??zn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,o){return new zn(e??this.key,t??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const o=i(e,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(e,t,i),null):0===o?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return zn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return zn.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,zn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,zn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw $();const e=this.left.check();if(e!==this.right.check())throw $();return e+(this.isRed()?0:1)}}zn.EMPTY=null,zn.RED=!0,zn.BLACK=!1,zn.EMPTY=new class{constructor(){this.size=0}get key(){throw $()}get value(){throw $()}get color(){throw $()}get left(){throw $()}get right(){throw $()}copy(n,e,t,i,r){return this}insert(n,e,t){return new zn(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class _t{constructor(e){this.comparator=e,this.data=new ut(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new W3(this.data.getIterator())}getIteratorFrom(e){return new W3(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof _t)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,o=i.getNext().key;if(0!==this.comparator(r,o))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new _t(this.comparator);return t.data=e,t}}class W3{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Ri{constructor(e){this.fields=e,e.sort(Gt.comparator)}static empty(){return new Ri([])}unionWith(e){let t=new _t(Gt.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Ri(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ju(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class q3 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class mn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new q3("Invalid base64 string: "+r):r}}(e);return new mn(t)}static fromUint8Array(e){const t=function(i){let r="";for(let o=0;o<i.length;++o)r+=String.fromCharCode(i[o]);return r}(e);return new mn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}mn.EMPTY_BYTE_STRING=new mn("");const Rve=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function la(n){if(q(!!n),"string"==typeof n){let e=0;const t=Rve.exec(n);if(q(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Bt(n.seconds),nanos:Bt(n.nanos)}}function Bt(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function ps(n){return"string"==typeof n?mn.fromBase64String(n):mn.fromUint8Array(n)}function bv(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function wv(n){const e=n.mapValue.fields.__previous_value__;return bv(e)?wv(e):e}function rp(n){const e=la(n.mapValue.fields.__local_write_time__.timestampValue);return new St(e.seconds,e.nanos)}class kve{constructor(e,t,i,r,o,s,a,l){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.useFetchStreams=l}}class Al{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Al("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Al&&e.projectId===this.projectId&&e.database===this.database}}const ca={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ua(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?bv(n)?4:X3(n)?9007199254740991:10:$()}function bo(n,e){if(n===e)return!0;const t=ua(n);if(t!==ua(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return rp(n).isEqual(rp(e));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const o=la(i.timestampValue),s=la(r.timestampValue);return o.seconds===s.seconds&&o.nanos===s.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return r=e,ps(n.bytesValue).isEqual(ps(r.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,r){return Bt(i.geoPointValue.latitude)===Bt(r.geoPointValue.latitude)&&Bt(i.geoPointValue.longitude)===Bt(r.geoPointValue.longitude)}(n,e);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return Bt(i.integerValue)===Bt(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const o=Bt(i.doubleValue),s=Bt(r.doubleValue);return o===s?ip(o)===ip(s):isNaN(o)&&isNaN(s)}return!1}(n,e);case 9:return ju(n.arrayValue.values||[],e.arrayValue.values||[],bo);case 10:return function(i,r){const o=i.mapValue.fields||{},s=r.mapValue.fields||{};if($3(o)!==$3(s))return!1;for(const a in o)if(o.hasOwnProperty(a)&&(void 0===s[a]||!bo(o[a],s[a])))return!1;return!0}(n,e);default:return $()}var r}function op(n,e){return void 0!==(n.values||[]).find(t=>bo(t,e))}function da(n,e){if(n===e)return 0;const t=ua(n),i=ua(e);if(t!==i)return ue(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return ue(n.booleanValue,e.booleanValue);case 2:return function(r,o){const s=Bt(r.integerValue||r.doubleValue),a=Bt(o.integerValue||o.doubleValue);return s<a?-1:s>a?1:s===a?0:isNaN(s)?isNaN(a)?0:-1:1}(n,e);case 3:return K3(n.timestampValue,e.timestampValue);case 4:return K3(rp(n),rp(e));case 5:return ue(n.stringValue,e.stringValue);case 6:return function(r,o){const s=ps(r),a=ps(o);return s.compareTo(a)}(n.bytesValue,e.bytesValue);case 7:return function(r,o){const s=r.split("/"),a=o.split("/");for(let l=0;l<s.length&&l<a.length;l++){const c=ue(s[l],a[l]);if(0!==c)return c}return ue(s.length,a.length)}(n.referenceValue,e.referenceValue);case 8:return function(r,o){const s=ue(Bt(r.latitude),Bt(o.latitude));return 0!==s?s:ue(Bt(r.longitude),Bt(o.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(r,o){const s=r.values||[],a=o.values||[];for(let l=0;l<s.length&&l<a.length;++l){const c=da(s[l],a[l]);if(c)return c}return ue(s.length,a.length)}(n.arrayValue,e.arrayValue);case 10:return function(r,o){if(r===ca.mapValue&&o===ca.mapValue)return 0;if(r===ca.mapValue)return 1;if(o===ca.mapValue)return-1;const s=r.fields||{},a=Object.keys(s),l=o.fields||{},c=Object.keys(l);a.sort(),c.sort();for(let u=0;u<a.length&&u<c.length;++u){const d=ue(a[u],c[u]);if(0!==d)return d;const h=da(s[a[u]],l[c[u]]);if(0!==h)return h}return ue(a.length,c.length)}(n.mapValue,e.mapValue);default:throw $()}}function K3(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return ue(n,e);const t=la(n),i=la(e),r=ue(t.seconds,i.seconds);return 0!==r?r:ue(t.nanos,i.nanos)}function zu(n){return kM(n)}function kM(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=la(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?ps(n.bytesValue).toBase64():"referenceValue"in n?F.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(i){let r="[",o=!0;for(const s of i.values||[])o?o=!1:r+=",",r+=kM(s);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let o="{",s=!0;for(const a of r)s?s=!1:o+=",",o+=`${a}:${kM(i.fields[a])}`;return o+"}"}(n.mapValue):$();var e}function OM(n){return!!n&&"integerValue"in n}function sp(n){return!!n&&"arrayValue"in n}function Y3(n){return!!n&&"nullValue"in n}function Q3(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Ev(n){return!!n&&"mapValue"in n}function ap(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return aa(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=ap(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ap(n.arrayValue.values[t]);return e}return Object.assign({},n)}function X3(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class $n{constructor(e){this.value=e}static empty(){return new $n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Ev(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ap(t)}setAll(e){let t=Gt.emptyPath(),i={},r=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){const l=this.getFieldsMap(t);this.applyChanges(l,i,r),i={},r=[],t=a.popLast()}s?i[a.lastSegment()]=ap(s):r.push(a.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,i,r)}delete(e){const t=this.field(e.popLast());Ev(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return bo(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];Ev(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){aa(t,(r,o)=>e[r]=o);for(const r of i)delete e[r]}clone(){return new $n(ap(this.value))}}function eG(n){const e=[];return aa(n.fields,(t,i)=>{const r=new Gt([t]);if(Ev(i)){const o=eG(i.mapValue).fields;if(0===o.length)e.push(r);else for(const s of o)e.push(r.child(s))}else e.push(r)}),new Ri(e)}class yt{constructor(e,t,i,r,o,s,a){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new yt(e,0,Y.min(),Y.min(),Y.min(),$n.empty(),0)}static newFoundDocument(e,t,i,r){return new yt(e,1,t,Y.min(),i,r,0)}static newNoDocument(e,t){return new yt(e,2,t,Y.min(),Y.min(),$n.empty(),0)}static newUnknownDocument(e,t){return new yt(e,3,t,Y.min(),Y.min(),$n.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Y.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=$n.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=$n.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Y.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof yt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new yt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ha{constructor(e,t){this.position=e,this.inclusive=t}}function tG(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const o=e[r],s=n.position[r];if(i=o.field.isKeyField()?F.comparator(F.fromName(s.referenceValue),t.key):da(s,t.data.field(o.field)),"desc"===o.dir&&(i*=-1),0!==i)break}return i}function nG(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!bo(n.position[t],e.position[t]))return!1;return!0}class $u{constructor(e,t="asc"){this.field=e,this.dir=t}}function Nve(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class iG{}class Ne extends iG{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,i):new Fve(e,t,i):"array-contains"===t?new Bve(e,i):"in"===t?new cG(e,i):"not-in"===t?new Uve(e,i):"array-contains-any"===t?new jve(e,i):new Ne(e,t,i)}static createKeyFieldInFilter(e,t,i){return"in"===t?new Lve(e,i):new Vve(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(da(t,this.value)):null!==t&&ua(this.value)===ua(t)&&this.matchesComparison(da(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return $()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class et extends iG{constructor(e,t){super(),this.filters=e,this.op=t,this.ht=null}static create(e,t){return new et(e,t)}matches(e){return Gu(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(t=>t.isInequality());return null!==e?e.field:null}lt(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Gu(n){return"and"===n.op}function NM(n){return function rG(n){for(const e of n.filters)if(e instanceof et)return!1;return!0}(n)&&Gu(n)}function FM(n){if(n instanceof Ne)return n.field.canonicalString()+n.op.toString()+zu(n.value);if(NM(n))return n.filters.map(e=>FM(e)).join(",");{const e=n.filters.map(t=>FM(t)).join(",");return`${n.op}(${e})`}}function oG(n,e){return n instanceof Ne?(t=n,(i=e)instanceof Ne&&t.op===i.op&&t.field.isEqual(i.field)&&bo(t.value,i.value)):n instanceof et?function(t,i){return i instanceof et&&t.op===i.op&&t.filters.length===i.filters.length&&t.filters.reduce((r,o,s)=>r&&oG(o,i.filters[s]),!0)}(n,e):void $();var t,i}function aG(n){return n instanceof Ne?`${(e=n).field.canonicalString()} ${e.op} ${zu(e.value)}`:n instanceof et?function(e){return e.op.toString()+" {"+e.getFilters().map(aG).join(" ,")+"}"}(n):"Filter";var e}class Fve extends Ne{constructor(e,t,i){super(e,t,i),this.key=F.fromName(i.referenceValue)}matches(e){const t=F.comparator(e.key,this.key);return this.matchesComparison(t)}}class Lve extends Ne{constructor(e,t){super(e,"in",t),this.keys=lG(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Vve extends Ne{constructor(e,t){super(e,"not-in",t),this.keys=lG(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function lG(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>F.fromName(i.referenceValue))}class Bve extends Ne{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return sp(t)&&op(t.arrayValue,this.value)}}class cG extends Ne{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&op(this.value.arrayValue,t)}}class Uve extends Ne{constructor(e,t){super(e,"not-in",t)}matches(e){if(op(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!op(this.value.arrayValue,t)}}class jve extends Ne{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!sp(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>op(this.value.arrayValue,i))}}class Hve{constructor(e,t=null,i=[],r=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=s,this.endAt=a,this.ft=null}}function LM(n,e=null,t=[],i=[],r=null,o=null,s=null){return new Hve(n,e,t,i,r,o,s)}function Rl(n){const e=V(n);if(null===e.ft){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>FM(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),np(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>zu(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>zu(i)).join(",")),e.ft=t}return e.ft}function lp(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Nve(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!oG(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!nG(n.startAt,e.startAt)&&nG(n.endAt,e.endAt)}function Dv(n){return F.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class ms{constructor(e,t=null,i=[],r=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.dt=null,this._t=null}}function Wu(n){return new ms(n)}function fG(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function kl(n){const e=V(n);if(null===e.dt){e.dt=[];const t=function Sv(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}(e),i=function VM(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}(e);if(null!==t&&null===i)t.isKeyField()||e.dt.push(new $u(t)),e.dt.push(new $u(Gt.keyField(),"asc"));else{let r=!1;for(const o of e.explicitOrderBy)e.dt.push(o),o.field.isKeyField()&&(r=!0);if(!r){const o=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new $u(Gt.keyField(),o))}}}return e.dt}function _i(n){const e=V(n);if(!e._t)if("F"===e.limitType)e._t=LM(e.path,e.collectionGroup,kl(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const o of kl(e))t.push(new $u(o.field,"desc"===o.dir?"asc":"desc"));const i=e.endAt?new ha(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new ha(e.startAt.position,e.startAt.inclusive):null;e._t=LM(e.path,e.collectionGroup,t,e.filters,e.limit,i,r)}return e._t}function Tv(n,e,t){return new ms(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function cp(n,e){return lp(_i(n),_i(e))&&n.limitType===e.limitType}function pG(n){return`${Rl(_i(n))}|lt:${n.limitType}`}function jM(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(i=>aG(i)).join(", ")}]`),np(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(i=>{return`${(r=i).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>zu(i)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>zu(i)).join(",")),`Target(${t})`}(_i(n))}; limitType=${n.limitType})`}function up(n,e){return e.isFoundDocument()&&function(t,i){const r=i.key.path;return null!==t.collectionGroup?i.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(r):F.isDocumentKey(t.path)?t.path.isEqual(r):t.path.isImmediateParentOf(r)}(n,e)&&function(t,i){for(const r of kl(t))if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,e)&&function(t,i){for(const r of t.filters)if(!r.matches(i))return!1;return!0}(n,e)&&(i=e,!((t=n).startAt&&!function(r,o,s){const a=tG(r,o,s);return r.inclusive?a<=0:a<0}(t.startAt,kl(t),i)||t.endAt&&!function(r,o,s){const a=tG(r,o,s);return r.inclusive?a>=0:a>0}(t.endAt,kl(t),i)));var t,i}function gG(n){return(e,t)=>{let i=!1;for(const r of kl(n)){const o=zve(r,e,t);if(0!==o)return o;i=i||r.field.isKeyField()}return 0}}function zve(n,e,t){const i=n.field.isKeyField()?F.comparator(e.key,t.key):function(r,o,s){const a=o.data.field(r),l=s.data.field(r);return null!==a&&null!==l?da(a,l):$()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return $()}}class gs{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[r,o]of i)if(this.equalsFn(r,e))return o}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(void 0===r)return this.inner[i]=[[e,t]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return void(r[o]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return 1===i.length?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){aa(this.inner,(t,i)=>{for(const[r,o]of i)e(r,o)})}isEmpty(){return G3(this.inner)}size(){return this.innerSize}}const $ve=new ut(F.comparator);function ki(){return $ve}const _G=new ut(F.comparator);function dp(...n){let e=_G;for(const t of n)e=e.insert(t.key,t);return e}function yG(n){let e=_G;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function wo(){return hp()}function vG(){return hp()}function hp(){return new gs(n=>n.toString(),(n,e)=>n.isEqual(e))}const Gve=new ut(F.comparator),Wve=new _t(F.comparator);function ve(...n){let e=Wve;for(const t of n)e=e.add(t);return e}const qve=new _t(ue);function bG(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ip(e)?"-0":e}}function wG(n){return{integerValue:""+n}}function CG(n,e){return function L3(n){return"number"==typeof n&&Number.isInteger(n)&&!ip(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?wG(e):bG(n,e)}class Av{constructor(){this._=void 0}}function Kve(n,e,t){return n instanceof qu?function(i,r){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&bv(r)&&(r=wv(r)),r&&(o.fields.__previous_value__=r),{mapValue:o}}(t,e):n instanceof Ol?EG(n,e):n instanceof Pl?DG(n,e):function(i,r){const o=xG(i,r),s=IG(o)+IG(i.wt);return OM(o)&&OM(i.wt)?wG(s):bG(i.serializer,s)}(n,e)}function Yve(n,e,t){return n instanceof Ol?EG(n,e):n instanceof Pl?DG(n,e):t}function xG(n,e){return n instanceof Ku?OM(t=e)||(i=t)&&"doubleValue"in i?e:{integerValue:0}:null;var i,t}class qu extends Av{}class Ol extends Av{constructor(e){super(),this.elements=e}}function EG(n,e){const t=SG(e);for(const i of n.elements)t.some(r=>bo(r,i))||t.push(i);return{arrayValue:{values:t}}}class Pl extends Av{constructor(e){super(),this.elements=e}}function DG(n,e){let t=SG(e);for(const i of n.elements)t=t.filter(r=>!bo(r,i));return{arrayValue:{values:t}}}class Ku extends Av{constructor(e,t){super(),this.serializer=e,this.wt=t}}function IG(n){return Bt(n.integerValue||n.doubleValue)}function SG(n){return sp(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Xve{constructor(e,t){this.version=e,this.transformResults=t}}class Ct{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ct}static exists(e){return new Ct(void 0,e)}static updateTime(e){return new Ct(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Mv(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Rv{}function TG(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Qu(n.key,Ct.none()):new Yu(n.key,n.data,Ct.none());{const t=n.data,i=$n.empty();let r=new _t(Gt.comparator);for(let o of e.fields)if(!r.has(o)){let s=t.field(o);null===s&&o.length>1&&(o=o.popLast(),s=t.field(o)),null===s?i.delete(o):i.set(o,s),r=r.add(o)}return new _s(n.key,i,new Ri(r.toArray()),Ct.none())}}function Zve(n,e,t){n instanceof Yu?function(i,r,o){const s=i.value.clone(),a=RG(i.fieldTransforms,r,o.transformResults);s.setAll(a),r.convertToFoundDocument(o.version,s).setHasCommittedMutations()}(n,e,t):n instanceof _s?function(i,r,o){if(!Mv(i.precondition,r))return void r.convertToUnknownDocument(o.version);const s=RG(i.fieldTransforms,r,o.transformResults),a=r.data;a.setAll(MG(i)),a.setAll(s),r.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function pp(n,e,t,i){return n instanceof Yu?function(r,o,s,a){if(!Mv(r.precondition,o))return s;const l=r.value.clone(),c=kG(r.fieldTransforms,a,o);return l.setAll(c),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(n,e,t,i):n instanceof _s?function(r,o,s,a){if(!Mv(r.precondition,o))return s;const l=kG(r.fieldTransforms,a,o),c=o.data;return c.setAll(MG(r)),c.setAll(l),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null===s?null:s.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(u=>u.field))}(n,e,t,i):(s=t,Mv(n.precondition,o=e)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):s);var o,s}function Jve(n,e){let t=null;for(const i of n.fieldTransforms){const r=e.data.field(i.field),o=xG(i.transform,r||null);null!=o&&(null===t&&(t=$n.empty()),t.set(i.field,o))}return t||null}function AG(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===i||t&&i&&ju(t,i,(r,o)=>function Qve(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(t=n.transform)instanceof Ol&&i instanceof Ol||t instanceof Pl&&i instanceof Pl?ju(t.elements,i.elements,bo):t instanceof Ku&&i instanceof Ku?bo(t.wt,i.wt):t instanceof qu&&i instanceof qu);var t,i}(r,o))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,i}class Yu extends Rv{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class _s extends Rv{constructor(e,t,i,r,o=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function MG(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function RG(n,e,t){const i=new Map;q(n.length===t.length);for(let r=0;r<t.length;r++){const o=n[r],s=o.transform,a=e.data.field(o.field);i.set(o.field,Yve(s,a,t[r]))}return i}function kG(n,e,t){const i=new Map;for(const r of n){const o=r.transform,s=t.data.field(r.field);i.set(r.field,Kve(o,s,e))}return i}class Qu extends Rv{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class zM extends Rv{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class $M{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(e.key)&&Zve(o,e,i[r])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=pp(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=pp(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=vG();return this.mutations.forEach(r=>{const o=e.get(r.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=t.has(r.key)?null:a;const l=TG(s,a);null!==l&&i.set(r.key,l),s.isValidDocument()||s.convertToNoDocument(Y.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ve())}isEqual(e){return this.batchId===e.batchId&&ju(this.mutations,e.mutations,(t,i)=>AG(t,i))&&ju(this.baseMutations,e.baseMutations,(t,i)=>AG(t,i))}}class GM{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){q(e.mutations.length===i.length);let r=Gve;const o=e.mutations;for(let s=0;s<o.length;s++)r=r.insert(o[s].key,i[s].version);return new GM(e,t,i,r)}}class WM{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class tbe{constructor(e,t){this.count=e,this.unchangedNames=t}}var Jt,Be;function PG(n){if(void 0===n)return $t("GRPC error has no .code"),E.UNKNOWN;switch(n){case Jt.OK:return E.OK;case Jt.CANCELLED:return E.CANCELLED;case Jt.UNKNOWN:return E.UNKNOWN;case Jt.DEADLINE_EXCEEDED:return E.DEADLINE_EXCEEDED;case Jt.RESOURCE_EXHAUSTED:return E.RESOURCE_EXHAUSTED;case Jt.INTERNAL:return E.INTERNAL;case Jt.UNAVAILABLE:return E.UNAVAILABLE;case Jt.UNAUTHENTICATED:return E.UNAUTHENTICATED;case Jt.INVALID_ARGUMENT:return E.INVALID_ARGUMENT;case Jt.NOT_FOUND:return E.NOT_FOUND;case Jt.ALREADY_EXISTS:return E.ALREADY_EXISTS;case Jt.PERMISSION_DENIED:return E.PERMISSION_DENIED;case Jt.FAILED_PRECONDITION:return E.FAILED_PRECONDITION;case Jt.ABORTED:return E.ABORTED;case Jt.OUT_OF_RANGE:return E.OUT_OF_RANGE;case Jt.UNIMPLEMENTED:return E.UNIMPLEMENTED;case Jt.DATA_LOSS:return E.DATA_LOSS;default:return $()}}(Be=Jt||(Jt={}))[Be.OK=0]="OK",Be[Be.CANCELLED=1]="CANCELLED",Be[Be.UNKNOWN=2]="UNKNOWN",Be[Be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Be[Be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Be[Be.NOT_FOUND=5]="NOT_FOUND",Be[Be.ALREADY_EXISTS=6]="ALREADY_EXISTS",Be[Be.PERMISSION_DENIED=7]="PERMISSION_DENIED",Be[Be.UNAUTHENTICATED=16]="UNAUTHENTICATED",Be[Be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Be[Be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Be[Be.ABORTED=10]="ABORTED",Be[Be.OUT_OF_RANGE=11]="OUT_OF_RANGE",Be[Be.UNIMPLEMENTED=12]="UNIMPLEMENTED",Be[Be.INTERNAL=13]="INTERNAL",Be[Be.UNAVAILABLE=14]="UNAVAILABLE",Be[Be.DATA_LOSS=15]="DATA_LOSS";class qM{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return kv}static getOrCreateInstance(){return null===kv&&(kv=new qM),kv}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let kv=null;const nbe=new Bu([4294967295,4294967295],0);function FG(n){const e=function NG(){return new TextEncoder}().encode(n),t=new Xye;return t.update(e),new Uint8Array(t.digest())}function LG(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Bu([t,i],0),new Bu([r,o],0)]}class KM{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new mp(`Invalid padding: ${t}`);if(i<0)throw new mp(`Invalid hash count: ${i}`);if(e.length>0&&0===this.hashCount)throw new mp(`Invalid hash count: ${i}`);if(0===e.length&&0!==t)throw new mp(`Invalid padding when bitmap length is 0: ${t}`);this.yt=8*e.length-t,this.It=Bu.fromNumber(this.yt)}Tt(e,t,i){let r=e.add(t.multiply(Bu.fromNumber(i)));return 1===r.compare(nbe)&&(r=new Bu([r.getBits(0),r.getBits(1)],0)),r.modulo(this.It).toNumber()}Et(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}At(e){if(0===this.yt)return!1;const t=FG(e),[i,r]=LG(t);for(let o=0;o<this.hashCount;o++){const s=this.Tt(i,r,o);if(!this.Et(s))return!1}return!0}static create(e,t,i){const r=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new KM(o,r,t);return i.forEach(a=>s.insert(a)),s}insert(e){if(0===this.yt)return;const t=FG(e),[i,r]=LG(t);for(let o=0;o<this.hashCount;o++){const s=this.Tt(i,r,o);this.Rt(s)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class mp extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class gp{constructor(e,t,i,r,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const r=new Map;return r.set(e,_p.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new gp(Y.min(),r,new ut(ue),ki(),ve())}}class _p{constructor(e,t,i,r,o){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new _p(i,t,ve(),ve(),ve())}}class Ov{constructor(e,t,i,r){this.vt=e,this.removedTargetIds=t,this.key=i,this.Pt=r}}class VG{constructor(e,t){this.targetId=e,this.bt=t}}class BG{constructor(e,t,i=mn.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class UG{constructor(){this.Vt=0,this.St=HG(),this.Dt=mn.EMPTY_BYTE_STRING,this.Ct=!1,this.xt=!0}get current(){return this.Ct}get resumeToken(){return this.Dt}get Nt(){return 0!==this.Vt}get kt(){return this.xt}Mt(e){e.approximateByteSize()>0&&(this.xt=!0,this.Dt=e)}Ot(){let e=ve(),t=ve(),i=ve();return this.St.forEach((r,o)=>{switch(o){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:$()}}),new _p(this.Dt,this.Ct,e,t,i)}$t(){this.xt=!1,this.St=HG()}Ft(e,t){this.xt=!0,this.St=this.St.insert(e,t)}Bt(e){this.xt=!0,this.St=this.St.remove(e)}Lt(){this.Vt+=1}qt(){this.Vt-=1}Ut(){this.xt=!0,this.Ct=!0}}class ibe{constructor(e){this.Kt=e,this.Gt=new Map,this.Qt=ki(),this.jt=jG(),this.zt=new ut(ue)}Wt(e){for(const t of e.vt)e.Pt&&e.Pt.isFoundDocument()?this.Ht(t,e.Pt):this.Jt(t,e.key,e.Pt);for(const t of e.removedTargetIds)this.Jt(t,e.key,e.Pt)}Yt(e){this.forEachTarget(e,t=>{const i=this.Xt(t);switch(e.state){case 0:this.Zt(t)&&i.Mt(e.resumeToken);break;case 1:i.qt(),i.Nt||i.$t(),i.Mt(e.resumeToken);break;case 2:i.qt(),i.Nt||this.removeTarget(t);break;case 3:this.Zt(t)&&(i.Ut(),i.Mt(e.resumeToken));break;case 4:this.Zt(t)&&(this.te(t),i.Mt(e.resumeToken));break;default:$()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Gt.forEach((i,r)=>{this.Zt(r)&&t(r)})}ee(e){var t;const i=e.targetId,r=e.bt.count,o=this.ne(i);if(o){const s=o.target;if(Dv(s))if(0===r){const a=new F(s.path);this.Jt(i,a,yt.newNoDocument(a,Y.min()))}else q(1===r);else{const a=this.se(i);if(a!==r){const l=this.ie(e,a);0!==l&&(this.te(i),this.zt=this.zt.insert(i,2===l?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=qM.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(c,u,d){var h,f,p,m,g,y;const x={localCacheCount:u,existenceFilterCount:d.count},v=d.unchangedNames;return v&&(x.bloomFilter={applied:0===c,hashCount:null!==(h=v?.hashCount)&&void 0!==h?h:0,bitmapLength:null!==(m=null===(p=null===(f=v?.bits)||void 0===f?void 0:f.bitmap)||void 0===p?void 0:p.length)&&void 0!==m?m:0,padding:null!==(y=null===(g=v?.bits)||void 0===g?void 0:g.padding)&&void 0!==y?y:0}),x}(l,a,e.bt))}}}}ie(e,t){const{unchangedNames:i,count:r}=e.bt;if(!i||!i.bits)return 1;const{bits:{bitmap:o="",padding:s=0},hashCount:a=0}=i;let l,c;try{l=ps(o).toUint8Array()}catch(u){if(u instanceof q3)return kr("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw u}try{c=new KM(l,s,a)}catch(u){return kr(u instanceof mp?"BloomFilter error: ":"Applying bloom filter failed: ",u),1}return 0===c.yt?1:r!==t-this.re(e.targetId,c)?2:0}re(e,t){const i=this.Kt.getRemoteKeysForTarget(e);let r=0;return i.forEach(o=>{const s=this.Kt.oe(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;t.At(a)||(this.Jt(e,o,null),r++)}),r}ue(e){const t=new Map;this.Gt.forEach((o,s)=>{const a=this.ne(s);if(a){if(o.current&&Dv(a.target)){const l=new F(a.target.path);null!==this.Qt.get(l)||this.ce(s,l)||this.Jt(s,l,yt.newNoDocument(l,e))}o.kt&&(t.set(s,o.Ot()),o.$t())}});let i=ve();this.jt.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const c=this.ne(l);return!c||"TargetPurposeLimboResolution"===c.purpose||(a=!1,!1)}),a&&(i=i.add(o))}),this.Qt.forEach((o,s)=>s.setReadTime(e));const r=new gp(e,t,this.zt,this.Qt,i);return this.Qt=ki(),this.jt=jG(),this.zt=new ut(ue),r}Ht(e,t){if(!this.Zt(e))return;const i=this.ce(e,t.key)?2:0;this.Xt(e).Ft(t.key,i),this.Qt=this.Qt.insert(t.key,t),this.jt=this.jt.insert(t.key,this.ae(t.key).add(e))}Jt(e,t,i){if(!this.Zt(e))return;const r=this.Xt(e);this.ce(e,t)?r.Ft(t,1):r.Bt(t),this.jt=this.jt.insert(t,this.ae(t).delete(e)),i&&(this.Qt=this.Qt.insert(t,i))}removeTarget(e){this.Gt.delete(e)}se(e){const t=this.Xt(e).Ot();return this.Kt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Lt(e){this.Xt(e).Lt()}Xt(e){let t=this.Gt.get(e);return t||(t=new UG,this.Gt.set(e,t)),t}ae(e){let t=this.jt.get(e);return t||(t=new _t(ue),this.jt=this.jt.insert(e,t)),t}Zt(e){const t=null!==this.ne(e);return t||R("WatchChangeAggregator","Detected inactive target",e),t}ne(e){const t=this.Gt.get(e);return t&&t.Nt?null:this.Kt.he(e)}te(e){this.Gt.set(e,new UG),this.Kt.getRemoteKeysForTarget(e).forEach(t=>{this.Jt(e,t,null)})}ce(e,t){return this.Kt.getRemoteKeysForTarget(e).has(t)}}function jG(){return new ut(F.comparator)}function HG(){return new ut(F.comparator)}const rbe={asc:"ASCENDING",desc:"DESCENDING"},obe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},sbe={and:"AND",or:"OR"};class abe{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function YM(n,e){return n.useProto3Json||np(e)?e:{value:e}}function Xu(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function zG(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function lbe(n,e){return Xu(n,e.toTimestamp())}function Wt(n){return q(!!n),Y.fromTimestamp(function(e){const t=la(e);return new St(t.seconds,t.nanos)}(n))}function QM(n,e){return(t=n,new Ve(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function $G(n){const e=Ve.fromString(n);return q(JG(e)),e}function yp(n,e){return QM(n.databaseId,e.path)}function Co(n,e){const t=$G(e);if(t.get(1)!==n.databaseId.projectId)throw new M(E.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new M(E.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new F(WG(t))}function XM(n,e){return QM(n.databaseId,e)}function vp(n){return new Ve(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function WG(n){return q(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function qG(n,e,t){return{name:yp(n,e),fields:t.value.mapValue.fields}}function YG(n,e){return{documents:[XM(n,e.path)]}}function JM(n,e){const t={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(t.parent=XM(n,i),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=XM(n,i.popLast()),t.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(l){if(0!==l.length)return ZG(et.create(l,"and"))}(e.filters);r&&(t.structuredQuery.where=r);const o=function(l){if(0!==l.length)return l.map(c=>{return{field:fa((u=c).field),direction:fbe(u.dir)};var u})}(e.orderBy);o&&(t.structuredQuery.orderBy=o);const s=YM(n,e.limit);var a,l;return null!==s&&(t.structuredQuery.limit=s),e.startAt&&(t.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(t.structuredQuery.endAt={before:!(l=e.endAt).inclusive,values:l.position}),t}function QG(n){let e=function GG(n){const e=$G(n);return 4===e.length?Ve.emptyPath():WG(e)}(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){q(1===i);const u=t.from[0];u.allDescendants?r=u.collectionId:e=e.child(u.collectionId)}let o=[];t.where&&(o=function(u){const d=XG(u);return d instanceof et&&NM(d)?d.getFilters():[d]}(t.where));let s=[];t.orderBy&&(s=t.orderBy.map(u=>{return new $u(Zu((d=u).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;t.limit&&(a=function(u){let d;return d="object"==typeof u?u.value:u,np(d)?null:d}(t.limit));let l=null;var u;t.startAt&&(l=new ha((u=t.startAt).values||[],!!u.before));let c=null;return t.endAt&&(c=function(u){return new ha(u.values||[],!u.before)}(t.endAt)),function hG(n,e,t,i,r,o,s,a){return new ms(n,e,t,i,r,o,s,a)}(e,r,s,o,a,"F",l,c)}function XG(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Zu(e.unaryFilter.field);return Ne.create(t,"==",{doubleValue:NaN});case"IS_NULL":const i=Zu(e.unaryFilter.field);return Ne.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Zu(e.unaryFilter.field);return Ne.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Zu(e.unaryFilter.field);return Ne.create(o,"!=",{nullValue:"NULL_VALUE"});default:return $()}}(n):void 0!==n.fieldFilter?Ne.create(Zu((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return $()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return et.create(e.compositeFilter.filters.map(t=>XG(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return $()}}(e.compositeFilter.op))}(n):$();var e}function fbe(n){return rbe[n]}function pbe(n){return obe[n]}function mbe(n){return sbe[n]}function fa(n){return{fieldPath:n.canonicalString()}}function Zu(n){return Gt.fromServerFormat(n.fieldPath)}function ZG(n){return n instanceof Ne?function(e){if("=="===e.op){if(Q3(e.value))return{unaryFilter:{field:fa(e.field),op:"IS_NAN"}};if(Y3(e.value))return{unaryFilter:{field:fa(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Q3(e.value))return{unaryFilter:{field:fa(e.field),op:"IS_NOT_NAN"}};if(Y3(e.value))return{unaryFilter:{field:fa(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:fa(e.field),op:pbe(e.op),value:e.value}}}(n):n instanceof et?function(e){const t=e.getFilters().map(i=>ZG(i));return 1===t.length?t[0]:{compositeFilter:{op:mbe(e.op),filters:t}}}(n):$()}function gbe(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function JG(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class ys{constructor(e,t,i,r,o=Y.min(),s=Y.min(),a=mn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new ys(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ys(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ys(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ys(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class e5{constructor(e){this.le=e}}function eR(n){const e=QG({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Tv(e,e.limit,"L"):e}class Vl{constructor(){}_e(e,t){this.we(e,t),t.me()}we(e,t){if("nullValue"in e)this.ge(t,5);else if("booleanValue"in e)this.ge(t,10),t.ye(e.booleanValue?1:0);else if("integerValue"in e)this.ge(t,15),t.ye(Bt(e.integerValue));else if("doubleValue"in e){const i=Bt(e.doubleValue);isNaN(i)?this.ge(t,13):(this.ge(t,15),ip(i)?t.ye(0):t.ye(i))}else if("timestampValue"in e){const i=e.timestampValue;this.ge(t,20),"string"==typeof i?t.pe(i):(t.pe(`${i.seconds||""}`),t.ye(i.nanos||0))}else if("stringValue"in e)this.Ie(e.stringValue,t),this.Te(t);else if("bytesValue"in e)this.ge(t,30),t.Ee(ps(e.bytesValue)),this.Te(t);else if("referenceValue"in e)this.Ae(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.ge(t,45),t.ye(i.latitude||0),t.ye(i.longitude||0)}else"mapValue"in e?X3(e)?this.ge(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Te(t)):"arrayValue"in e?(this.ve(e.arrayValue,t),this.Te(t)):$()}Ie(e,t){this.ge(t,25),this.Pe(e,t)}Pe(e,t){t.pe(e)}Re(e,t){const i=e.fields||{};this.ge(t,55);for(const r of Object.keys(i))this.Ie(r,t),this.we(i[r],t)}ve(e,t){const i=e.values||[];this.ge(t,50);for(const r of i)this.we(r,t)}Ae(e,t){this.ge(t,37),F.fromName(e).path.forEach(i=>{this.ge(t,60),this.Pe(i,t)})}ge(e,t){e.ye(t)}Te(e){e.ye(2)}}Vl.be=new Vl;class Dbe{constructor(){this.sn=new sR}addToCollectionParentIndex(e,t){return this.sn.add(t),C.resolve()}getCollectionParents(e,t){return C.resolve(this.sn.getEntries(t))}addFieldIndex(e,t){return C.resolve()}deleteFieldIndex(e,t){return C.resolve()}getDocumentsMatchingTarget(e,t){return C.resolve(null)}getIndexType(e,t){return C.resolve(0)}getFieldIndexes(e,t){return C.resolve([])}getNextCollectionGroupToUpdate(e){return C.resolve(null)}getMinOffset(e,t){return C.resolve(Ki.min())}getMinOffsetFromCollectionGroup(e,t){return C.resolve(Ki.min())}updateCollectionGroup(e,t,i){return C.resolve()}updateIndexEntries(e,t){return C.resolve()}}class sR{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new _t(Ve.comparator),o=!r.has(i);return this.index[t]=r.add(i),o}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new _t(Ve.comparator)).toArray()}}new Uint8Array(0);class oi{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new oi(e,oi.DEFAULT_COLLECTION_PERCENTILE,oi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}oi.DEFAULT_COLLECTION_PERCENTILE=10,oi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,oi.DEFAULT=new oi(41943040,oi.DEFAULT_COLLECTION_PERCENTILE,oi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),oi.DISABLED=new oi(-1,0,0);class Ul{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static Nn(){return new Ul(0)}static kn(){return new Ul(-1)}}class Rbe{constructor(){this.changes=new gs(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,yt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?C.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Pbe{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class S5{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,t))).next(r=>(null!==i&&pp(i.mutation,r,Ri.empty(),St.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,ve()).next(()=>i))}getLocalViewOfDocuments(e,t,i=ve()){const r=wo();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(o=>{let s=dp();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){const i=wo();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,ve()))}populateOverlays(e,t,i){const r=[];return i.forEach(o=>{t.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(e,r).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,i,r){let o=ki();const s=hp(),a=hp();return t.forEach((l,c)=>{const u=i.get(c.key);r.has(c.key)&&(void 0===u||u.mutation instanceof _s)?o=o.insert(c.key,c):void 0!==u?(s.set(c.key,u.mutation.getFieldMask()),pp(u.mutation,c,u.mutation.getFieldMask(),St.now())):s.set(c.key,Ri.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((c,u)=>s.set(c,u)),t.forEach((c,u)=>{var d;return a.set(c,new Pbe(u,null!==(d=s.get(c))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,t){const i=hp();let r=new ut((s,a)=>s-a),o=ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(const a of s)a.keys().forEach(l=>{const c=t.get(l);if(null===c)return;let u=i.get(l)||Ri.empty();u=a.applyToLocalView(c,u),i.set(l,u);const d=(r.get(a.batchId)||ve()).add(l);r=r.insert(a.batchId,d)})}).next(()=>{const s=[],a=r.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,d=vG();u.forEach(h=>{if(!o.has(h)){const f=TG(t.get(h),i.get(h));null!==f&&d.set(h,f),o=o.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(e,c,d))}return C.waitFor(s)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i){return F.isDocumentKey((r=t).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):function BM(n){return null!==n.collectionGroup}(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i):this.getDocumentsMatchingCollectionQuery(e,t,i);var r}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(o=>{const s=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-o.size):C.resolve(wo());let a=-1,l=o;return s.next(c=>C.forEach(c,(u,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),o.get(u)?C.resolve():this.remoteDocumentCache.getEntry(e,u).next(h=>{l=l.insert(u,h)}))).next(()=>this.populateOverlays(e,c,o)).next(()=>this.computeViews(e,l,c,ve())).next(u=>({batchId:a,changes:yG(u)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new F(t)).next(i=>{let r=dp();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i){const r=t.collectionGroup;let o=dp();return this.indexManager.getCollectionParents(e,r).next(s=>C.forEach(s,a=>{const l=(c=t,u=a.child(r),new ms(u,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt));var c,u;return this.getDocumentsMatchingCollectionQuery(e,l,i).next(c=>{c.forEach((u,d)=>{o=o.insert(u,d)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,i){let r;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(o=>(r=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,r))).next(o=>{r.forEach((a,l)=>{const c=l.getKey();null===o.get(c)&&(o=o.insert(c,yt.newInvalidDocument(c)))});let s=dp();return o.forEach((a,l)=>{const c=r.get(a);void 0!==c&&pp(c.mutation,l,Ri.empty(),St.now()),up(t,l)&&(s=s.insert(a,l))}),s})}}class Nbe{constructor(e){this.serializer=e,this.us=new Map,this.cs=new Map}getBundleMetadata(e,t){return C.resolve(this.us.get(t))}saveBundleMetadata(e,t){var i;return this.us.set(t.id,{id:(i=t).id,version:i.version,createTime:Wt(i.createTime)}),C.resolve()}getNamedQuery(e,t){return C.resolve(this.cs.get(t))}saveNamedQuery(e,t){return this.cs.set(t.name,{name:(i=t).name,query:eR(i.bundledQuery),readTime:Wt(i.readTime)}),C.resolve();var i}}class Fbe{constructor(){this.overlays=new ut(F.comparator),this.hs=new Map}getOverlay(e,t){return C.resolve(this.overlays.get(t))}getOverlays(e,t){const i=wo();return C.forEach(t,r=>this.getOverlay(e,r).next(o=>{null!==o&&i.set(r,o)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,o)=>{this.de(e,t,o)}),C.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.hs.get(i);return void 0!==r&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.hs.delete(i)),C.resolve()}getOverlaysForCollection(e,t,i){const r=wo(),o=t.length+1,s=new F(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!t.isPrefixOf(c.path))break;c.path.length===o&&l.largestBatchId>i&&r.set(l.getKey(),l)}return C.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let o=new ut((c,u)=>c-u);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===t&&c.largestBatchId>i){let u=o.get(c.largestBatchId);null===u&&(u=wo(),o=o.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=wo(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=r)););return C.resolve(a)}de(e,t,i){const r=this.overlays.get(i.key);if(null!==r){const s=this.hs.get(r.largestBatchId).delete(i.key);this.hs.set(r.largestBatchId,s)}this.overlays=this.overlays.insert(i.key,new WM(t,i));let o=this.hs.get(t);void 0===o&&(o=ve(),this.hs.set(t,o)),this.hs.set(t,o.add(i.key))}}class aR{constructor(){this.ls=new _t(Tn.fs),this.ds=new _t(Tn._s)}isEmpty(){return this.ls.isEmpty()}addReference(e,t){const i=new Tn(e,t);this.ls=this.ls.add(i),this.ds=this.ds.add(i)}ws(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.gs(new Tn(e,t))}ys(e,t){e.forEach(i=>this.removeReference(i,t))}ps(e){const t=new F(new Ve([])),i=new Tn(t,e),r=new Tn(t,e+1),o=[];return this.ds.forEachInRange([i,r],s=>{this.gs(s),o.push(s.key)}),o}Is(){this.ls.forEach(e=>this.gs(e))}gs(e){this.ls=this.ls.delete(e),this.ds=this.ds.delete(e)}Ts(e){const t=new F(new Ve([])),i=new Tn(t,e),r=new Tn(t,e+1);let o=ve();return this.ds.forEachInRange([i,r],s=>{o=o.add(s.key)}),o}containsKey(e){const t=new Tn(e,0),i=this.ls.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class Tn{constructor(e,t){this.key=e,this.Es=t}static fs(e,t){return F.comparator(e.key,t.key)||ue(e.Es,t.Es)}static _s(e,t){return ue(e.Es,t.Es)||F.comparator(e.key,t.key)}}class Lbe{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.As=1,this.Rs=new _t(Tn.fs)}checkEmpty(e){return C.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,i,r){const o=this.As;this.As++;const s=new $M(o,t,i,r);this.mutationQueue.push(s);for(const a of r)this.Rs=this.Rs.add(new Tn(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return C.resolve(s)}lookupMutationBatch(e,t){return C.resolve(this.vs(t))}getNextMutationBatchAfterBatchId(e,t){const r=this.Ps(t+1),o=r<0?0:r;return C.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return C.resolve(0===this.mutationQueue.length?-1:this.As-1)}getAllMutationBatches(e){return C.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Tn(t,0),r=new Tn(t,Number.POSITIVE_INFINITY),o=[];return this.Rs.forEachInRange([i,r],s=>{const a=this.vs(s.Es);o.push(a)}),C.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new _t(ue);return t.forEach(r=>{const o=new Tn(r,0),s=new Tn(r,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([o,s],a=>{i=i.add(a.Es)})}),C.resolve(this.bs(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let o=i;F.isDocumentKey(o)||(o=o.child(""));const s=new Tn(new F(o),0);let a=new _t(ue);return this.Rs.forEachWhile(l=>{const c=l.key.path;return!!i.isPrefixOf(c)&&(c.length===r&&(a=a.add(l.Es)),!0)},s),C.resolve(this.bs(a))}bs(e){const t=[];return e.forEach(i=>{const r=this.vs(i);null!==r&&t.push(r)}),t}removeMutationBatch(e,t){q(0===this.Vs(t.batchId,"removed")),this.mutationQueue.shift();let i=this.Rs;return C.forEach(t.mutations,r=>{const o=new Tn(r.key,t.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Rs=i})}Dn(e){}containsKey(e,t){const i=new Tn(t,0),r=this.Rs.firstAfterOrEqual(i);return C.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return C.resolve()}Vs(e,t){return this.Ps(e)}Ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}vs(e){const t=this.Ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Vbe{constructor(e){this.Ss=e,this.docs=new ut(F.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),o=r?r.size:0,s=this.Ss(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return C.resolve(i?i.document.mutableCopy():yt.newInvalidDocument(t))}getEntries(e,t){let i=ki();return t.forEach(r=>{const o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():yt.newInvalidDocument(r))}),C.resolve(i)}getDocumentsMatchingQuery(e,t,i,r){let o=ki();const s=t.path,a=new F(s.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||TM(P3(u),i)<=0||(r.has(u.key)||up(t,u))&&(o=o.insert(u.key,u.mutableCopy()))}return C.resolve(o)}getAllFromCollectionGroup(e,t,i,r){$()}Ds(e,t){return C.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new Bbe(this)}getSize(e){return C.resolve(this.size)}}class Bbe extends Rbe{constructor(e){super(),this.rs=e}applyChanges(e){const t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this.rs.addEntry(e,r)):this.rs.removeEntry(i)}),C.waitFor(t)}getFromCache(e,t){return this.rs.getEntry(e,t)}getAllFromCache(e,t){return this.rs.getEntries(e,t)}}class Ube{constructor(e){this.persistence=e,this.Cs=new gs(t=>Rl(t),lp),this.lastRemoteSnapshotVersion=Y.min(),this.highestTargetId=0,this.xs=0,this.Ns=new aR,this.targetCount=0,this.ks=Ul.Nn()}forEachTarget(e,t){return this.Cs.forEach((i,r)=>t(r)),C.resolve()}getLastRemoteSnapshotVersion(e){return C.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return C.resolve(this.xs)}allocateTargetId(e){return this.highestTargetId=this.ks.next(),C.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.xs&&(this.xs=t),C.resolve()}$n(e){this.Cs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ks=new Ul(t),this.highestTargetId=t),e.sequenceNumber>this.xs&&(this.xs=e.sequenceNumber)}addTargetData(e,t){return this.$n(t),this.targetCount+=1,C.resolve()}updateTargetData(e,t){return this.$n(t),C.resolve()}removeTargetData(e,t){return this.Cs.delete(t.target),this.Ns.ps(t.targetId),this.targetCount-=1,C.resolve()}removeTargets(e,t,i){let r=0;const o=[];return this.Cs.forEach((s,a)=>{a.sequenceNumber<=t&&null===i.get(a.targetId)&&(this.Cs.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),C.waitFor(o).next(()=>r)}getTargetCount(e){return C.resolve(this.targetCount)}getTargetData(e,t){const i=this.Cs.get(t)||null;return C.resolve(i)}addMatchingKeys(e,t,i){return this.Ns.ws(t,i),C.resolve()}removeMatchingKeys(e,t,i){this.Ns.ys(t,i);const r=this.persistence.referenceDelegate,o=[];return r&&t.forEach(s=>{o.push(r.markPotentiallyOrphaned(e,s))}),C.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.Ns.ps(t),C.resolve()}getMatchingKeysForTargetId(e,t){const i=this.Ns.Ts(t);return C.resolve(i)}containsKey(e,t){return C.resolve(this.Ns.containsKey(t))}}class lR{constructor(e,t){this.Ms={},this.overlays={},this.Os=new Yi(0),this.$s=!1,this.$s=!0,this.referenceDelegate=e(this),this.Fs=new Ube(this),this.indexManager=new Dbe,this.remoteDocumentCache=new Vbe(i=>this.referenceDelegate.Bs(i)),this.serializer=new e5(t),this.Ls=new Nbe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.$s=!1,Promise.resolve()}get started(){return this.$s}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Fbe,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Ms[e.toKey()];return i||(i=new Lbe(t,this.referenceDelegate),this.Ms[e.toKey()]=i),i}getTargetCache(){return this.Fs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ls}runTransaction(e,t,i){R("MemoryPersistence","Starting transaction:",e);const r=new jbe(this.Os.next());return this.referenceDelegate.qs(),i(r).next(o=>this.referenceDelegate.Us(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Ks(e,t){return C.or(Object.values(this.Ms).map(i=>()=>i.containsKey(e,t)))}}class jbe extends lve{constructor(e){super(),this.currentSequenceNumber=e}}class Hv{constructor(e){this.persistence=e,this.Gs=new aR,this.Qs=null}static js(e){return new Hv(e)}get zs(){if(this.Qs)return this.Qs;throw $()}addReference(e,t,i){return this.Gs.addReference(i,t),this.zs.delete(i.toString()),C.resolve()}removeReference(e,t,i){return this.Gs.removeReference(i,t),this.zs.add(i.toString()),C.resolve()}markPotentiallyOrphaned(e,t){return this.zs.add(t.toString()),C.resolve()}removeTarget(e,t){this.Gs.ps(t.targetId).forEach(r=>this.zs.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(o=>this.zs.add(o.toString()))}).next(()=>i.removeTargetData(e,t))}qs(){this.Qs=new Set}Us(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return C.forEach(this.zs,i=>{const r=F.fromPath(i);return this.Ws(e,r).next(o=>{o||t.removeEntry(r,Y.min())})}).next(()=>(this.Qs=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ws(e,t).next(i=>{i?this.zs.delete(t.toString()):this.zs.add(t.toString())})}Bs(e){return 0}Ws(e,t){return C.or([()=>C.resolve(this.Gs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ks(e,t)])}}class hR{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.$i=i,this.Fi=r}static Bi(e,t){let i=ve(),r=ve();for(const o of t.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new hR(e,t.fromCache,i,r)}}class A5{constructor(){this.Li=!1}initialize(e,t){this.qi=e,this.indexManager=t,this.Li=!0}getDocumentsMatchingQuery(e,t,i,r){return this.Ui(e,t).next(o=>o||this.Ki(e,t,r,i)).next(o=>o||this.Gi(e,t))}Ui(e,t){if(fG(t))return C.resolve(null);let i=_i(t);return this.indexManager.getIndexType(e,i).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=Tv(t,null,"F"),i=_i(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(o=>{const s=ve(...o);return this.qi.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,i).next(l=>{const c=this.Qi(t,a);return this.ji(t,c,s,l.readTime)?this.Ui(e,Tv(t,null,"F")):this.zi(e,c,t,l)}))})))}Ki(e,t,i,r){return fG(t)||r.isEqual(Y.min())?this.Gi(e,t):this.qi.getDocuments(e,i).next(o=>{const s=this.Qi(t,o);return this.ji(t,s,i,r)?this.Gi(e,t):(DM()<=Pe.DEBUG&&R("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),jM(t)),this.zi(e,s,t,function O3(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Y.fromTimestamp(1e9===i?new St(t+1,0):new St(t,i));return new Ki(r,F.empty(),e)}(r,-1)))})}Qi(e,t){let i=new _t(gG(e));return t.forEach((r,o)=>{up(e,o)&&(i=i.add(o))}),i}ji(e,t,i,r){if(null===e.limit)return!1;if(i.size!==t.size)return!0;const o="F"===e.limitType?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Gi(e,t){return DM()<=Pe.DEBUG&&R("QueryEngine","Using full collection scan to execute query:",jM(t)),this.qi.getDocumentsMatchingQuery(e,t,Ki.min())}zi(e,t,i,r){return this.qi.getDocumentsMatchingQuery(e,i,r).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}}class zbe{constructor(e,t,i,r){this.persistence=e,this.Wi=t,this.serializer=r,this.Hi=new ut(ue),this.Ji=new gs(o=>Rl(o),lp),this.Yi=new Map,this.Xi=e.getRemoteDocumentCache(),this.Fs=e.getTargetCache(),this.Ls=e.getBundleCache(),this.Zi(i)}Zi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new S5(this.Xi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Xi.setIndexManager(this.indexManager),this.Wi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Hi))}}function R5(n,e){return fR.apply(this,arguments)}function fR(){return fR=_(function*(n,e){const t=V(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(o=>(r=o,t.Zi(e),t.mutationQueue.getAllMutationBatches(i))).next(o=>{const s=[],a=[];let l=ve();for(const c of r){s.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of o){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return t.localDocuments.getDocuments(i,l).next(c=>({tr:c,removedBatchIds:s,addedBatchIds:a}))})})}),fR.apply(this,arguments)}function k5(n){const e=V(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Fs.getLastRemoteSnapshotVersion(t))}function Wbe(n,e){const t=V(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function nd(n,e,t){return pR.apply(this,arguments)}function pR(){return pR=_(function*(n,e,t){const i=V(n),r=i.Hi.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",o,s=>i.persistence.referenceDelegate.removeTarget(s,r)))}catch(s){if(!sa(s))throw s;R("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}i.Hi=i.Hi.remove(e),i.Ji.delete(r.target)}),pR.apply(this,arguments)}function Gv(n,e,t){const i=V(n);let r=Y.min(),o=ve();return i.persistence.runTransaction("Execute query","readonly",s=>function(a,l,c){const u=V(a),d=u.Ji.get(c);return void 0!==d?C.resolve(u.Hi.get(d)):u.Fs.getTargetData(l,c)}(i,s,_i(e)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,i.Fs.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>i.Wi.getDocumentsMatchingQuery(s,e,t?r:Y.min(),t?o:ve())).next(a=>(function F5(n,e,t){let i=n.Yi.get(e)||Y.min();t.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),n.Yi.set(e,i)}(i,function mG(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),a),{documents:a,sr:o})))}class vR{constructor(){this.activeTargetIds=function HM(){return qve}()}hr(e){this.activeTargetIds=this.activeTargetIds.add(e)}lr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ar(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class B5{constructor(){this.Wr=new vR,this.Hr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.Wr.hr(e),this.Hr[e]||"not-current"}updateQueryState(e,t,i){this.Hr[e]=t}removeLocalQueryTarget(e){this.Wr.lr(e)}isLocalQueryTarget(e){return this.Wr.activeTargetIds.has(e)}clearQueryState(e){delete this.Hr[e]}getAllActiveQueryTargets(){return this.Wr.activeTargetIds}isActiveQueryTarget(e){return this.Wr.activeTargetIds.has(e)}start(){return this.Wr=new vR,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Ybe{Jr(e){}shutdown(){}}class U5{constructor(){this.Yr=()=>this.Xr(),this.Zr=()=>this.eo(),this.no=[],this.so()}Jr(e){this.no.push(e)}shutdown(){window.removeEventListener("online",this.Yr),window.removeEventListener("offline",this.Zr)}so(){window.addEventListener("online",this.Yr),window.addEventListener("offline",this.Zr)}Xr(){R("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.no)e(0)}eo(){R("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.no)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Kv=null;function wR(){return null===Kv?Kv=268435456+Math.round(2147483648*Math.random()):Kv++,"0x"+Kv.toString(16)}const Qbe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Xbe{constructor(e){this.io=e.io,this.ro=e.ro}oo(e){this.uo=e}co(e){this.ao=e}onMessage(e){this.ho=e}close(){this.ro()}send(e){this.io(e)}lo(){this.uo()}fo(e){this.ao(e)}_o(e){this.ho(e)}}const si="WebChannelConnection";class Zbe extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.wo=(e.ssl?"https":"http")+"://"+e.host,this.mo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get yo(){return!1}po(e,t,i,r,o){const s=wR(),a=this.Io(e,t);R("RestConnection",`Sending RPC '${e}' ${s}:`,a,i);const l={};return this.To(l,r,o),this.Eo(e,a,l,i).then(c=>(R("RestConnection",`Received RPC '${e}' ${s}: `,c),c),c=>{throw kr("RestConnection",`RPC '${e}' ${s} failed with error: `,c,"url: ",a,"request:",i),c})}Ao(e,t,i,r,o,s){return this.po(e,t,i,r,o)}To(e,t,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+Uu,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((r,o)=>e[o]=r),i&&i.headers.forEach((r,o)=>e[o]=r)}Io(e,t){return`${this.wo}/v1/${t}:${Qbe[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}Eo(e,t,i,r){const o=wR();return new Promise((s,a)=>{const l=new Qye;l.setWithCredentials(!0),l.listenOnce(qye.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case EM.NO_ERROR:const u=l.getResponseJson();R(si,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(u)),s(u);break;case EM.TIMEOUT:R(si,`RPC '${e}' ${o} timed out`),a(new M(E.DEADLINE_EXCEEDED,"Request time out"));break;case EM.HTTP_ERROR:const d=l.getStatus();if(R(si,`RPC '${e}' ${o} failed with status:`,d,"response text:",l.getResponseText()),d>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h?.error;if(f&&f.status&&f.message){const p=function(m){const g=m.toLowerCase().replace(/_/g,"-");return Object.values(E).indexOf(g)>=0?g:E.UNKNOWN}(f.status);a(new M(p,f.message))}else a(new M(E.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new M(E.UNAVAILABLE,"Connection failed."));break;default:$()}}finally{R(si,`RPC '${e}' ${o} completed.`)}});const c=JSON.stringify(r);R(si,`RPC '${e}' ${o} sending request:`,r),l.send(t,"POST",c,i,15)})}Ro(e,t,i){const r=wR(),o=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Gye(),a=Wye(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(l.xmlHttpFactory=new Yye({})),this.To(l.initMessageHeaders,t,i),l.encodeInitMessageHeaders=!0;const c=o.join("");R(si,`Creating RPC '${e}' stream ${r}: ${c}`,l);const u=s.createWebChannel(c,l);let d=!1,h=!1;const f=new Xbe({io:m=>{h?R(si,`Not sending because RPC '${e}' stream ${r} is closed:`,m):(d||(R(si,`Opening RPC '${e}' stream ${r} transport.`),u.open(),d=!0),R(si,`RPC '${e}' stream ${r} sending:`,m),u.send(m))},ro:()=>u.close()}),p=(m,g,y)=>{m.listen(g,x=>{try{y(x)}catch(v){setTimeout(()=>{throw v},0)}})};return p(u,pv.EventType.OPEN,()=>{h||R(si,`RPC '${e}' stream ${r} transport opened.`)}),p(u,pv.EventType.CLOSE,()=>{h||(h=!0,R(si,`RPC '${e}' stream ${r} transport closed`),f.fo())}),p(u,pv.EventType.ERROR,m=>{h||(h=!0,kr(si,`RPC '${e}' stream ${r} transport errored:`,m),f.fo(new M(E.UNAVAILABLE,"The operation could not be completed")))}),p(u,pv.EventType.MESSAGE,m=>{var g;if(!h){const y=m.data[0];q(!!y);const v=y.error||(null===(g=y[0])||void 0===g?void 0:g.error);if(v){R(si,`RPC '${e}' stream ${r} received error:`,v);const S=v.status;let j=function(Re){const pt=Jt[Re];if(void 0!==pt)return PG(pt)}(S),z=v.message;void 0===j&&(j=E.INTERNAL,z="Unknown error status: "+S+" with message "+v.message),h=!0,f.fo(new M(j,z)),u.close()}else R(si,`RPC '${e}' stream ${r} received:`,y),f._o(y)}}),p(a,Kye.STAT_EVENT,m=>{m.stat===S3.PROXY?R(si,`RPC '${e}' stream ${r} detected buffering proxy`):m.stat===S3.NOPROXY&&R(si,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{f.lo()},0),f}}function Yv(){return typeof document<"u"?document:null}function Ap(n){return new abe(n,!0)}class CR{constructor(e,t,i=1e3,r=1.5,o=6e4){this.si=e,this.timerId=t,this.vo=i,this.Po=r,this.bo=o,this.Vo=0,this.So=null,this.Do=Date.now(),this.reset()}reset(){this.Vo=0}Co(){this.Vo=this.bo}xo(e){this.cancel();const t=Math.floor(this.Vo+this.No()),i=Math.max(0,Date.now()-this.Do),r=Math.max(0,t-i);r>0&&R("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Vo} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.So=this.si.enqueueAfterDelay(this.timerId,r,()=>(this.Do=Date.now(),e())),this.Vo*=this.Po,this.Vo<this.vo&&(this.Vo=this.vo),this.Vo>this.bo&&(this.Vo=this.bo)}ko(){null!==this.So&&(this.So.skipDelay(),this.So=null)}cancel(){null!==this.So&&(this.So.cancel(),this.So=null)}No(){return(Math.random()-.5)*this.Vo}}class H5{constructor(e,t,i,r,o,s,a,l){this.si=e,this.Mo=i,this.Oo=r,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.$o=0,this.Fo=null,this.Bo=null,this.stream=null,this.Lo=new CR(e,t)}qo(){return 1===this.state||5===this.state||this.Uo()}Uo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Ko()}stop(){var e=this;return _(function*(){e.qo()&&(yield e.close(0))})()}Go(){this.state=0,this.Lo.reset()}Qo(){this.Uo()&&null===this.Fo&&(this.Fo=this.si.enqueueAfterDelay(this.Mo,6e4,()=>this.jo()))}zo(e){this.Wo(),this.stream.send(e)}jo(){var e=this;return _(function*(){if(e.Uo())return e.close(0)})()}Wo(){this.Fo&&(this.Fo.cancel(),this.Fo=null)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}close(e,t){var i=this;return _(function*(){i.Wo(),i.Ho(),i.Lo.cancel(),i.$o++,4!==e?i.Lo.reset():t&&t.code===E.RESOURCE_EXHAUSTED?($t(t.toString()),$t("Using maximum backoff delay to prevent overloading the backend."),i.Lo.Co()):t&&t.code===E.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Jo(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.co(t)})()}Jo(){}auth(){this.state=1;const e=this.Yo(this.$o),t=this.$o;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.$o===t&&this.Xo(i,r)},i=>{e(()=>{const r=new M(E.UNKNOWN,"Fetching auth token failed: "+i.message);return this.Zo(r)})})}Xo(e,t){const i=this.Yo(this.$o);this.stream=this.tu(e,t),this.stream.oo(()=>{i(()=>(this.state=2,this.Bo=this.si.enqueueAfterDelay(this.Oo,1e4,()=>(this.Uo()&&(this.state=3),Promise.resolve())),this.listener.oo()))}),this.stream.co(r=>{i(()=>this.Zo(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Ko(){var e=this;this.state=5,this.Lo.xo(_(function*(){e.state=0,e.start()}))}Zo(e){return R("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Yo(e){return t=>{this.si.enqueueAndForget(()=>this.$o===e?t():(R("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Jbe extends H5{constructor(e,t,i,r,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,s),this.serializer=o}tu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.Lo.reset();const t=function ube(n,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(l=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===l?1:"REMOVE"===l?2:"CURRENT"===l?3:"RESET"===l?4:$(),r=e.targetChange.targetIds||[],o=function(l,c){return l.useProto3Json?(q(void 0===c||"string"==typeof c),mn.fromBase64String(c||"")):(q(void 0===c||c instanceof Uint8Array),mn.fromUint8Array(c||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(l){const c=void 0===l.code?E.UNKNOWN:PG(l.code);return new M(c,l.message||"")}(s);t=new BG(i,r,o,a||null)}else if("documentChange"in e){const i=e.documentChange,r=Co(n,i.document.name),o=Wt(i.document.updateTime),s=i.document.createTime?Wt(i.document.createTime):Y.min(),a=new $n({mapValue:{fields:i.document.fields}}),l=yt.newFoundDocument(r,o,s,a);t=new Ov(i.targetIds||[],i.removedTargetIds||[],l.key,l)}else if("documentDelete"in e){const i=e.documentDelete,r=Co(n,i.document),o=i.readTime?Wt(i.readTime):Y.min(),s=yt.newNoDocument(r,o);t=new Ov([],i.removedTargetIds||[],s.key,s)}else if("documentRemove"in e){const i=e.documentRemove,r=Co(n,i.document);t=new Ov([],i.removedTargetIds||[],r,null)}else{if(!("filter"in e))return $();{const i=e.filter,{count:r=0,unchangedNames:o}=i,s=new tbe(r,o);t=new VG(i.targetId,s)}}var l;return t}(this.serializer,e),i=function(r){if(!("targetChange"in r))return Y.min();const o=r.targetChange;return o.targetIds&&o.targetIds.length?Y.min():o.readTime?Wt(o.readTime):Y.min()}(e);return this.listener.eu(t,i)}nu(e){const t={};t.database=vp(this.serializer),t.addTarget=function(r,o){let s;const a=o.target;if(s=Dv(a)?{documents:YG(r,a)}:{query:JM(r,a)},s.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){s.resumeToken=zG(r,o.resumeToken);const l=YM(r,o.expectedCount);null!==l&&(s.expectedCount=l)}else if(o.snapshotVersion.compareTo(Y.min())>0){s.readTime=Xu(r,o.snapshotVersion.toTimestamp());const l=YM(r,o.expectedCount);null!==l&&(s.expectedCount=l)}return s}(this.serializer,e);const i=function hbe(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return $()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.zo(t)}su(e){const t={};t.database=vp(this.serializer),t.removeTarget=e,this.zo(t)}}class ewe extends H5{constructor(e,t,i,r,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,s),this.serializer=o,this.iu=!1}get ru(){return this.iu}start(){this.iu=!1,this.lastStreamToken=void 0,super.start()}Jo(){this.iu&&this.ou([])}tu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(q(!!e.streamToken),this.lastStreamToken=e.streamToken,this.iu){this.Lo.reset();const t=function dbe(n,e){return n&&n.length>0?(q(void 0!==e),n.map(t=>function(i,r){let o=Wt(i.updateTime?i.updateTime:r);return o.isEqual(Y.min())&&(o=Wt(r)),new Xve(o,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=Wt(e.commitTime);return this.listener.uu(i,t)}return q(!e.writeResults||0===e.writeResults.length),this.iu=!0,this.listener.cu()}au(){const e={};e.database=vp(this.serializer),this.zo(e)}ou(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>function bp(n,e){let t;if(e instanceof Yu)t={update:qG(n,e.key,e.value)};else if(e instanceof Qu)t={delete:yp(n,e.key)};else if(e instanceof _s)t={update:qG(n,e.key,e.data),updateMask:gbe(e.fieldMask)};else{if(!(e instanceof zM))return $();t={verify:yp(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(r,o){const s=o.transform;if(s instanceof qu)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(s instanceof Ol)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:s.elements}};if(s instanceof Pl)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:s.elements}};if(s instanceof Ku)return{fieldPath:o.field.canonicalString(),increment:s.wt};throw $()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(r=e.precondition).updateTime?{updateTime:lbe(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:$()),t;var r}(this.serializer,i))};this.zo(t)}}class twe extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=r,this.hu=!1}lu(){if(this.hu)throw new M(E.FAILED_PRECONDITION,"The client has already been terminated.")}po(e,t,i){return this.lu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.connection.po(e,t,i,r,o)).catch(r=>{throw"FirebaseError"===r.name?(r.code===E.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new M(E.UNKNOWN,r.toString())})}Ao(e,t,i,r){return this.lu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Ao(e,t,i,o,s,r)).catch(o=>{throw"FirebaseError"===o.name?(o.code===E.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new M(E.UNKNOWN,o.toString())})}terminate(){this.hu=!0}}class iwe{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.du=0,this._u=null,this.wu=!0}mu(){0===this.du&&(this.gu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.yu("Backend didn't respond within 10 seconds."),this.gu("Offline"),Promise.resolve())))}pu(e){"Online"===this.state?this.gu("Unknown"):(this.du++,this.du>=1&&(this.Iu(),this.yu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.gu("Offline")))}set(e){this.Iu(),this.du=0,"Online"===e&&(this.wu=!1),this.gu(e)}gu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}yu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.wu?($t(t),this.wu=!1):R("OnlineStateTracker",t)}Iu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class rwe{constructor(e,t,i,r,o){var s=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Tu=[],this.Eu=new Map,this.Au=new Set,this.Ru=[],this.vu=o,this.vu.Jr(a=>{i.enqueueAndForget(_(function*(){var l;_a(s)&&(R("RemoteStore","Restarting streams for network reachability change."),yield(l=_(function*(c){const u=V(c);u.Au.add(4),yield id(u),u.Pu.set("Unknown"),u.Au.delete(4),yield Mp(u)}),function(c){return l.apply(this,arguments)})(s))}))}),this.Pu=new iwe(i,r)}}function Mp(n){return ER.apply(this,arguments)}function ER(){return ER=_(function*(n){if(_a(n))for(const e of n.Ru)yield e(!0)}),ER.apply(this,arguments)}function id(n){return DR.apply(this,arguments)}function DR(){return DR=_(function*(n){for(const e of n.Ru)yield e(!1)}),DR.apply(this,arguments)}function Qv(n,e){const t=V(n);t.Eu.has(e.targetId)||(t.Eu.set(e.targetId,e),TR(t)?SR(t):od(t).Uo()&&IR(t,e))}function Rp(n,e){const t=V(n),i=od(t);t.Eu.delete(e),i.Uo()&&z5(t,e),0===t.Eu.size&&(i.Uo()?i.Qo():_a(t)&&t.Pu.set("Unknown"))}function IR(n,e){if(n.bu.Lt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Y.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}od(n).nu(e)}function z5(n,e){n.bu.Lt(e),od(n).su(e)}function SR(n){n.bu=new ibe({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),he:e=>n.Eu.get(e)||null,oe:()=>n.datastore.serializer.databaseId}),od(n).start(),n.Pu.mu()}function TR(n){return _a(n)&&!od(n).qo()&&n.Eu.size>0}function _a(n){return 0===V(n).Au.size}function $5(n){n.bu=void 0}function owe(n){return AR.apply(this,arguments)}function AR(){return AR=_(function*(n){n.Eu.forEach((e,t)=>{IR(n,e)})}),AR.apply(this,arguments)}function swe(n,e){return MR.apply(this,arguments)}function MR(){return MR=_(function*(n,e){$5(n),TR(n)?(n.Pu.pu(e),SR(n)):n.Pu.set("Unknown")}),MR.apply(this,arguments)}function awe(n,e,t){return RR.apply(this,arguments)}function RR(){return RR=_(function*(n,e,t){if(n.Pu.set("Online"),e instanceof BG&&2===e.state&&e.cause)try{yield(i=_(function*(r,o){const s=o.cause;for(const a of o.targetIds)r.Eu.has(a)&&(yield r.remoteSyncer.rejectListen(a,s),r.Eu.delete(a),r.bu.removeTarget(a))}),function(r,o){return i.apply(this,arguments)})(n,e)}catch(i){R("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield Xv(n,i)}else if(e instanceof Ov?n.bu.Wt(e):e instanceof VG?n.bu.ee(e):n.bu.Yt(e),!t.isEqual(Y.min()))try{const i=yield k5(n.localStore);t.compareTo(i)>=0&&(yield function(r,o){const s=r.bu.ue(o);return s.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const c=r.Eu.get(l);c&&r.Eu.set(l,c.withResumeToken(a.resumeToken,o))}}),s.targetMismatches.forEach((a,l)=>{const c=r.Eu.get(a);if(!c)return;r.Eu.set(a,c.withResumeToken(mn.EMPTY_BYTE_STRING,c.snapshotVersion)),z5(r,a);const u=new ys(c.target,a,l,c.sequenceNumber);IR(r,u)}),r.remoteSyncer.applyRemoteEvent(s)}(n,t))}catch(i){R("RemoteStore","Failed to raise snapshot:",i),yield Xv(n,i)}var i}),RR.apply(this,arguments)}function Xv(n,e,t){return kR.apply(this,arguments)}function kR(){return kR=_(function*(n,e,t){if(!sa(e))throw e;n.Au.add(1),yield id(n),n.Pu.set("Offline"),t||(t=()=>k5(n.localStore)),n.asyncQueue.enqueueRetryable(_(function*(){R("RemoteStore","Retrying IndexedDB access"),yield t(),n.Au.delete(1),yield Mp(n)}))}),kR.apply(this,arguments)}function G5(n,e){return e().catch(t=>Xv(n,t,e))}function rd(n){return OR.apply(this,arguments)}function OR(){return OR=_(function*(n){const e=V(n),t=ya(e);let i=e.Tu.length>0?e.Tu[e.Tu.length-1].batchId:-1;for(;lwe(e);)try{const r=yield Wbe(e.localStore,i);if(null===r){0===e.Tu.length&&t.Qo();break}i=r.batchId,cwe(e,r)}catch(r){yield Xv(e,r)}W5(e)&&q5(e)}),OR.apply(this,arguments)}function lwe(n){return _a(n)&&n.Tu.length<10}function cwe(n,e){n.Tu.push(e);const t=ya(n);t.Uo()&&t.ru&&t.ou(e.mutations)}function W5(n){return _a(n)&&!ya(n).qo()&&n.Tu.length>0}function q5(n){ya(n).start()}function uwe(n){return PR.apply(this,arguments)}function PR(){return PR=_(function*(n){ya(n).au()}),PR.apply(this,arguments)}function dwe(n){return NR.apply(this,arguments)}function NR(){return NR=_(function*(n){const e=ya(n);for(const t of n.Tu)e.ou(t.mutations)}),NR.apply(this,arguments)}function hwe(n,e,t){return FR.apply(this,arguments)}function FR(){return FR=_(function*(n,e,t){const i=n.Tu.shift(),r=GM.from(i,e,t);yield G5(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield rd(n)}),FR.apply(this,arguments)}function fwe(n,e){return LR.apply(this,arguments)}function LR(){return LR=_(function*(n,e){var t;e&&ya(n).ru&&(yield(t=_(function*(i,r){if(function OG(n){switch(n){default:return $();case E.CANCELLED:case E.UNKNOWN:case E.DEADLINE_EXCEEDED:case E.RESOURCE_EXHAUSTED:case E.INTERNAL:case E.UNAVAILABLE:case E.UNAUTHENTICATED:return!1;case E.INVALID_ARGUMENT:case E.NOT_FOUND:case E.ALREADY_EXISTS:case E.PERMISSION_DENIED:case E.FAILED_PRECONDITION:case E.ABORTED:case E.OUT_OF_RANGE:case E.UNIMPLEMENTED:case E.DATA_LOSS:return!0}}(o=r.code)&&o!==E.ABORTED){const s=i.Tu.shift();ya(i).Go(),yield G5(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,r)),yield rd(i)}var o}),function(i,r){return t.apply(this,arguments)})(n,e)),W5(n)&&q5(n)}),LR.apply(this,arguments)}function K5(n,e){return VR.apply(this,arguments)}function VR(){return VR=_(function*(n,e){const t=V(n);t.asyncQueue.verifyOperationInProgress(),R("RemoteStore","RemoteStore received new credentials");const i=_a(t);t.Au.add(3),yield id(t),i&&t.Pu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.Au.delete(3),yield Mp(t)}),VR.apply(this,arguments)}function UR(){return UR=_(function*(n,e){const t=V(n);e?(t.Au.delete(2),yield Mp(t)):e||(t.Au.add(2),yield id(t),t.Pu.set("Unknown"))}),UR.apply(this,arguments)}function od(n){return n.Vu||(n.Vu=function(e,t,i){const r=V(e);return r.lu(),new Jbe(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(n.datastore,n.asyncQueue,{oo:owe.bind(null,n),co:swe.bind(null,n),eu:awe.bind(null,n)}),n.Ru.push(function(){var e=_(function*(t){t?(n.Vu.Go(),TR(n)?SR(n):n.Pu.set("Unknown")):(yield n.Vu.stop(),$5(n))});return function(t){return e.apply(this,arguments)}}())),n.Vu}function ya(n){return n.Su||(n.Su=function(e,t,i){const r=V(e);return r.lu(),new ewe(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(n.datastore,n.asyncQueue,{oo:uwe.bind(null,n),co:fwe.bind(null,n),cu:dwe.bind(null,n),uu:hwe.bind(null,n)}),n.Ru.push(function(){var e=_(function*(t){t?(n.Su.Go(),yield rd(n)):(yield n.Su.stop(),n.Tu.length>0&&(R("RemoteStore",`Stopping write stream with ${n.Tu.length} pending writes`),n.Tu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Su}class jR{constructor(e,t,i,r,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new pn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}static createAndSchedule(e,t,i,r,o){const s=Date.now()+i,a=new jR(e,t,s,r,o);return a.start(i),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new M(E.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function sd(n,e){if($t("AsyncQueue",`${e}: ${n}`),sa(n))return new M(E.UNAVAILABLE,`${e}: ${n}`);throw n}class ad{constructor(e){this.comparator=e?(t,i)=>e(t,i)||F.comparator(t.key,i.key):(t,i)=>F.comparator(t.key,i.key),this.keyedMap=dp(),this.sortedSet=new ut(this.comparator)}static emptySet(e){return new ad(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ad)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new ad;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class Y5{constructor(){this.Du=new ut(F.comparator)}track(e){const t=e.doc.key,i=this.Du.get(t);i?0!==e.type&&3===i.type?this.Du=this.Du.insert(t,e):3===e.type&&1!==i.type?this.Du=this.Du.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.Du=this.Du.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.Du=this.Du.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.Du=this.Du.remove(t):1===e.type&&2===i.type?this.Du=this.Du.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.Du=this.Du.insert(t,{type:2,doc:e.doc}):$():this.Du=this.Du.insert(t,e)}Cu(){const e=[];return this.Du.inorderTraversal((t,i)=>{e.push(i)}),e}}class ld{constructor(e,t,i,r,o,s,a,l,c){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,t,i,r,o){const s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new ld(e,t,ad.emptySet(t),s,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&cp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}class pwe{constructor(){this.xu=void 0,this.listeners=[]}}class mwe{constructor(){this.queries=new gs(e=>pG(e),cp),this.onlineState="Unknown",this.Nu=new Set}}function zR(){return zR=_(function*(n,e){const t=V(n),i=e.query;let r=!1,o=t.queries.get(i);if(o||(r=!0,o=new pwe),r)try{o.xu=yield t.onListen(i)}catch(s){const a=sd(s,`Initialization of query '${jM(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.listeners.push(e),e.ku(t.onlineState),o.xu&&e.Mu(o.xu)&&WR(t)}),zR.apply(this,arguments)}function GR(){return GR=_(function*(n,e){const t=V(n),i=e.query;let r=!1;const o=t.queries.get(i);if(o){const s=o.listeners.indexOf(e);s>=0&&(o.listeners.splice(s,1),r=0===o.listeners.length)}if(r)return t.queries.delete(i),t.onUnlisten(i)}),GR.apply(this,arguments)}function gwe(n,e){const t=V(n);let i=!1;for(const r of e){const s=t.queries.get(r.query);if(s){for(const a of s.listeners)a.Mu(r)&&(i=!0);s.xu=r}}i&&WR(t)}function _we(n,e,t){const i=V(n),r=i.queries.get(e);if(r)for(const o of r.listeners)o.onError(t);i.queries.delete(e)}function WR(n){n.Nu.forEach(e=>{e.next()})}class qR{constructor(e,t,i){this.query=e,this.Ou=t,this.$u=!1,this.Fu=null,this.onlineState="Unknown",this.options=i||{}}Mu(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)3!==r.type&&i.push(r);e=new ld(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.$u?this.Bu(e)&&(this.Ou.next(e),t=!0):this.Lu(e,this.onlineState)&&(this.qu(e),t=!0),this.Fu=e,t}onError(e){this.Ou.error(e)}ku(e){this.onlineState=e;let t=!1;return this.Fu&&!this.$u&&this.Lu(this.Fu,e)&&(this.qu(this.Fu),t=!0),t}Lu(e,t){return!e.fromCache||(!this.options.Uu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Bu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Fu&&this.Fu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}qu(e){e=ld.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.$u=!0,this.Ou.next(e)}}class Z5{constructor(e){this.key=e}}class J5{constructor(e){this.key=e}}class eW{constructor(e,t){this.query=e,this.Ju=t,this.Yu=null,this.hasCachedResults=!1,this.current=!1,this.Xu=ve(),this.mutatedKeys=ve(),this.Zu=gG(e),this.tc=new ad(this.Zu)}get ec(){return this.Ju}nc(e,t){const i=t?t.sc:new Y5,r=t?t.tc:this.tc;let o=t?t.mutatedKeys:this.mutatedKeys,s=r,a=!1;const l="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,c="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((u,d)=>{const h=r.get(u),f=up(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),m=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let g=!1;h&&f?h.data.isEqual(f.data)?p!==m&&(i.track({type:3,doc:f}),g=!0):this.ic(h,f)||(i.track({type:2,doc:f}),g=!0,(l&&this.Zu(f,l)>0||c&&this.Zu(f,c)<0)&&(a=!0)):!h&&f?(i.track({type:0,doc:f}),g=!0):h&&!f&&(i.track({type:1,doc:h}),g=!0,(l||c)&&(a=!0)),g&&(f?(s=s.add(f),o=m?o.add(u):o.delete(u)):(s=s.delete(u),o=o.delete(u)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const u="F"===this.query.limitType?s.last():s.first();s=s.delete(u.key),o=o.delete(u.key),i.track({type:1,doc:u})}return{tc:s,sc:i,ji:a,mutatedKeys:o}}ic(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i){const r=this.tc;this.tc=e.tc,this.mutatedKeys=e.mutatedKeys;const o=e.sc.Cu();o.sort((c,u)=>function(d,h){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return $()}};return f(d)-f(h)}(c.type,u.type)||this.Zu(c.doc,u.doc)),this.rc(i);const s=t?this.oc():[],a=0===this.Xu.size&&this.current?1:0,l=a!==this.Yu;return this.Yu=a,0!==o.length||l?{snapshot:new ld(this.query,e.tc,r,o,e.mutatedKeys,0===a,l,!1,!!i&&i.resumeToken.approximateByteSize()>0),uc:s}:{uc:s}}ku(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({tc:this.tc,sc:new Y5,mutatedKeys:this.mutatedKeys,ji:!1},!1)):{uc:[]}}cc(e){return!this.Ju.has(e)&&!!this.tc.has(e)&&!this.tc.get(e).hasLocalMutations}rc(e){e&&(e.addedDocuments.forEach(t=>this.Ju=this.Ju.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ju=this.Ju.delete(t)),this.current=e.current)}oc(){if(!this.current)return[];const e=this.Xu;this.Xu=ve(),this.tc.forEach(i=>{this.cc(i.key)&&(this.Xu=this.Xu.add(i.key))});const t=[];return e.forEach(i=>{this.Xu.has(i)||t.push(new J5(i))}),this.Xu.forEach(i=>{e.has(i)||t.push(new Z5(i))}),t}ac(e){this.Ju=e.sr,this.Xu=ve();const t=this.nc(e.documents);return this.applyChanges(t,!0)}hc(){return ld.fromInitialDocuments(this.query,this.tc,this.mutatedKeys,0===this.Yu,this.hasCachedResults)}}class bwe{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class wwe{constructor(e){this.key=e,this.lc=!1}}class Cwe{constructor(e,t,i,r,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.fc={},this.dc=new gs(a=>pG(a),cp),this._c=new Map,this.wc=new Set,this.mc=new ut(F.comparator),this.gc=new Map,this.yc=new aR,this.Ic={},this.Tc=new Map,this.Ec=Ul.kn(),this.onlineState="Unknown",this.Ac=void 0}get isPrimaryClient(){return!0===this.Ac}}function xwe(n,e){return KR.apply(this,arguments)}function KR(){return KR=_(function*(n,e){const t=function _k(n){const e=V(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=tW.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=kwe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Iwe.bind(null,e),e.fc.eu=gwe.bind(null,e.eventManager),e.fc.vc=_we.bind(null,e.eventManager),e}(n);let i,r;const o=t.dc.get(e);if(o)i=o.targetId,t.sharedClientState.addLocalQueryTarget(i),r=o.view.hc();else{const s=yield function td(n,e){const t=V(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.Fs.getTargetData(i,e).next(o=>o?(r=o,C.resolve(r)):t.Fs.allocateTargetId(i).next(s=>(r=new ys(e,s,"TargetPurposeListen",i.currentSequenceNumber),t.Fs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=t.Hi.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.Hi=t.Hi.insert(i.targetId,i),t.Ji.set(e,i.targetId)),i})}(t.localStore,_i(e)),a=t.sharedClientState.addLocalQueryTarget(s.targetId);i=s.targetId,r=yield function YR(n,e,t,i,r){return QR.apply(this,arguments)}(t,e,i,"current"===a,s.resumeToken),t.isPrimaryClient&&Qv(t.remoteStore,s)}return r}),KR.apply(this,arguments)}function QR(){return QR=_(function*(n,e,t,i,r){n.Rc=(d,h,f)=>{return(p=_(function*(m,g,y,x){let v=g.view.nc(y);v.ji&&(v=yield Gv(m.localStore,g.query,!1).then(({documents:z})=>g.view.nc(z,v)));const S=x&&x.targetChanges.get(g.targetId),j=g.view.applyChanges(v,m.isPrimaryClient,S);return sk(m,g.targetId,j.uc),j.snapshot}),function(m,g,y,x){return p.apply(this,arguments)})(n,d,h,f);var p};const o=yield Gv(n.localStore,e,!0),s=new eW(e,o.sr),a=s.nc(o.documents),l=_p.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==n.onlineState,r),c=s.applyChanges(a,n.isPrimaryClient,l);sk(n,t,c.uc);const u=new bwe(e,t,s);return n.dc.set(e,u),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),c.snapshot}),QR.apply(this,arguments)}function Ewe(n,e){return XR.apply(this,arguments)}function XR(){return XR=_(function*(n,e){const t=V(n),i=t.dc.get(e),r=t._c.get(i.targetId);if(r.length>1)return t._c.set(i.targetId,r.filter(o=>!cp(o,e))),void t.dc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(i.targetId),t.sharedClientState.isActiveQueryTarget(i.targetId)||(yield nd(t.localStore,i.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(i.targetId),Rp(t.remoteStore,i.targetId),cd(t,i.targetId)}).catch(oa))):(cd(t,i.targetId),yield nd(t.localStore,i.targetId,!0))}),XR.apply(this,arguments)}function ZR(){return ZR=_(function*(n,e,t){const i=function yk(n){const e=V(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Swe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Twe.bind(null,e),e}(n);try{const r=yield function(o,s){const a=V(o),l=St.now(),c=s.reduce((h,f)=>h.add(f.key),ve());let u,d;return a.persistence.runTransaction("Locally write mutations","readwrite",h=>{let f=ki(),p=ve();return a.Xi.getEntries(h,c).next(m=>{f=m,f.forEach((g,y)=>{y.isValidDocument()||(p=p.add(g))})}).next(()=>a.localDocuments.getOverlayedDocuments(h,f)).next(m=>{u=m;const g=[];for(const y of s){const x=Jve(y,u.get(y.key).overlayedDocument);null!=x&&g.push(new _s(y.key,x,eG(x.value.mapValue),Ct.exists(!0)))}return a.mutationQueue.addMutationBatch(h,l,g,s)}).next(m=>{d=m;const g=m.applyToLocalDocumentSet(u,p);return a.documentOverlayCache.saveOverlays(h,m.batchId,g)})}).then(()=>({batchId:d.batchId,changes:yG(u)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(o,s,a){let l=o.Ic[o.currentUser.toKey()];l||(l=new ut(ue)),l=l.insert(s,a),o.Ic[o.currentUser.toKey()]=l}(i,r.batchId,t),yield vs(i,r.changes),yield rd(i.remoteStore)}catch(r){const o=sd(r,"Failed to persist write");t.reject(o)}}),ZR.apply(this,arguments)}function tW(n,e){return JR.apply(this,arguments)}function JR(){return JR=_(function*(n,e){const t=V(n);try{const i=yield function Gbe(n,e){const t=V(n),i=e.snapshotVersion;let r=t.Hi;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=t.Xi.newChangeBuffer({trackRemovals:!0});r=t.Hi;const a=[];e.targetChanges.forEach((u,d)=>{const h=r.get(d);if(!h)return;a.push(t.Fs.removeMatchingKeys(o,u.removedDocuments,d).next(()=>t.Fs.addMatchingKeys(o,u.addedDocuments,d)));let f=h.withSequenceNumber(o.currentSequenceNumber);var p,m,g;null!==e.targetMismatches.get(d)?f=f.withResumeToken(mn.EMPTY_BYTE_STRING,Y.min()).withLastLimboFreeSnapshotVersion(Y.min()):u.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(u.resumeToken,i)),r=r.insert(d,f),m=f,g=u,(0===(p=h).resumeToken.approximateByteSize()||m.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8||g.addedDocuments.size+g.modifiedDocuments.size+g.removedDocuments.size>0)&&a.push(t.Fs.updateTargetData(o,f))});let l=ki(),c=ve();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,u))}),a.push(function O5(n,e,t){let i=ve(),r=ve();return t.forEach(o=>i=i.add(o)),e.getEntries(n,i).next(o=>{let s=ki();return t.forEach((a,l)=>{const c=o.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(r=r.add(a)),l.isNoDocument()&&l.version.isEqual(Y.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||0===l.version.compareTo(c.version)&&c.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):R("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{er:s,nr:r}})}(o,s,e.documentUpdates).next(u=>{l=u.er,c=u.nr})),!i.isEqual(Y.min())){const u=t.Fs.getLastRemoteSnapshotVersion(o).next(d=>t.Fs.setTargetsMetadata(o,o.currentSequenceNumber,i));a.push(u)}return C.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,l,c)).next(()=>l)}).then(o=>(t.Hi=r,o))}(t.localStore,e);e.targetChanges.forEach((r,o)=>{const s=t.gc.get(o);s&&(q(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?s.lc=!0:r.modifiedDocuments.size>0?q(s.lc):r.removedDocuments.size>0&&(q(s.lc),s.lc=!1))}),yield vs(t,i,e)}catch(i){yield oa(i)}}),JR.apply(this,arguments)}function nW(n,e,t){const i=V(n);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const r=[];i.dc.forEach((o,s)=>{const a=s.view.ku(e);a.snapshot&&r.push(a.snapshot)}),function(o,s){const a=V(o);a.onlineState=s;let l=!1;a.queries.forEach((c,u)=>{for(const d of u.listeners)d.ku(s)&&(l=!0)}),l&&WR(a)}(i.eventManager,e),r.length&&i.fc.eu(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function Iwe(n,e,t){return ek.apply(this,arguments)}function ek(){return ek=_(function*(n,e,t){const i=V(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.gc.get(e),o=r&&r.key;if(o){let s=new ut(F.comparator);s=s.insert(o,yt.newNoDocument(o,Y.min()));const a=ve().add(o),l=new gp(Y.min(),new Map,new ut(ue),s,a);yield tW(i,l),i.mc=i.mc.remove(o),i.gc.delete(e),ak(i)}else yield nd(i.localStore,e,!1).then(()=>cd(i,e,t)).catch(oa)}),ek.apply(this,arguments)}function Swe(n,e){return tk.apply(this,arguments)}function tk(){return tk=_(function*(n,e){const t=V(n),i=e.batch.batchId;try{const r=yield function $be(n,e){const t=V(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),o=t.Xi.newChangeBuffer({trackRemovals:!0});return function(s,a,l,c){const u=l.batch,d=u.keys();let h=C.resolve();return d.forEach(f=>{h=h.next(()=>c.getEntry(a,f)).next(p=>{const m=l.docVersions.get(f);q(null!==m),p.version.compareTo(m)<0&&(u.applyToRemoteDocument(p,l),p.isValidDocument()&&(p.setReadTime(l.commitVersion),c.addEntry(p)))})}),h.next(()=>s.mutationQueue.removeMutationBatch(a,u))}(t,i,e,o).next(()=>o.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(s){let a=ve();for(let l=0;l<s.mutationResults.length;++l)s.mutationResults[l].transformResults.length>0&&(a=a.add(s.batch.mutations[l].key));return a}(e))).next(()=>t.localDocuments.getDocuments(i,r))})}(t.localStore,e);ok(t,i,null),rk(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield vs(t,r)}catch(r){yield oa(r)}}),tk.apply(this,arguments)}function Twe(n,e,t){return nk.apply(this,arguments)}function nk(){return nk=_(function*(n,e,t){const i=V(n);try{const r=yield function(o,s){const a=V(o);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let c;return a.mutationQueue.lookupMutationBatch(l,s).next(u=>(q(null!==u),c=u.keys(),a.mutationQueue.removeMutationBatch(l,u))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,c,s)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,c)).next(()=>a.localDocuments.getDocuments(l,c))})}(i.localStore,e);ok(i,e,t),rk(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield vs(i,r)}catch(r){yield oa(r)}}),nk.apply(this,arguments)}function rk(n,e){(n.Tc.get(e)||[]).forEach(t=>{t.resolve()}),n.Tc.delete(e)}function ok(n,e,t){const i=V(n);let r=i.Ic[i.currentUser.toKey()];if(r){const o=r.get(e);o&&(t?o.reject(t):o.resolve(),r=r.remove(e)),i.Ic[i.currentUser.toKey()]=r}}function cd(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n._c.get(e))n.dc.delete(i),t&&n.fc.vc(i,t);n._c.delete(e),n.isPrimaryClient&&n.yc.ps(e).forEach(i=>{n.yc.containsKey(i)||iW(n,i)})}function iW(n,e){n.wc.delete(e.path.canonicalString());const t=n.mc.get(e);null!==t&&(Rp(n.remoteStore,t),n.mc=n.mc.remove(e),n.gc.delete(t),ak(n))}function sk(n,e,t){for(const i of t)i instanceof Z5?(n.yc.addReference(i.key,e),Mwe(n,i)):i instanceof J5?(R("SyncEngine","Document no longer in limbo: "+i.key),n.yc.removeReference(i.key,e),n.yc.containsKey(i.key)||iW(n,i.key)):$()}function Mwe(n,e){const t=e.key,i=t.path.canonicalString();n.mc.get(t)||n.wc.has(i)||(R("SyncEngine","New document in limbo: "+t),n.wc.add(i),ak(n))}function ak(n){for(;n.wc.size>0&&n.mc.size<n.maxConcurrentLimboResolutions;){const e=n.wc.values().next().value;n.wc.delete(e);const t=new F(Ve.fromString(e)),i=n.Ec.next();n.gc.set(i,new wwe(t)),n.mc=n.mc.insert(t,i),Qv(n.remoteStore,new ys(_i(Wu(t.path)),i,"TargetPurposeLimboResolution",Yi.ct))}}function vs(n,e,t){return lk.apply(this,arguments)}function lk(){return lk=_(function*(n,e,t){const i=V(n),r=[],o=[],s=[];var a;i.dc.isEmpty()||(i.dc.forEach((a,l)=>{s.push(i.Rc(l,e,t).then(c=>{if((c||t)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(l.targetId,c?.fromCache?"not-current":"current"),c){r.push(c);const u=hR.Bi(l.targetId,c);o.push(u)}}))}),yield Promise.all(s),i.fc.eu(r),yield(a=_(function*(l,c){const u=V(l);try{yield u.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>C.forEach(c,h=>C.forEach(h.$i,f=>u.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>C.forEach(h.Fi,f=>u.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!sa(d))throw d;R("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const f=u.Hi.get(h),m=f.withLastLimboFreeSnapshotVersion(f.snapshotVersion);u.Hi=u.Hi.insert(h,m)}}}),function(l,c){return a.apply(this,arguments)})(i.localStore,o))}),lk.apply(this,arguments)}function Rwe(n,e){return ck.apply(this,arguments)}function ck(){return ck=_(function*(n,e){const t=V(n);if(!t.currentUser.isEqual(e)){R("SyncEngine","User change. New user:",e.toKey());const i=yield R5(t.localStore,e);t.currentUser=e,(r=t).Tc.forEach(s=>{s.forEach(a=>{a.reject(new M(E.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.Tc.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield vs(t,i.tr)}var r}),ck.apply(this,arguments)}function kwe(n,e){const t=V(n),i=t.gc.get(e);if(i&&i.lc)return ve().add(i.key);{let r=ve();const o=t._c.get(e);if(!o)return r;for(const s of o){const a=t.dc.get(s);r=r.unionWith(a.view.ec)}return r}}class Zv{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return _(function*(){t.serializer=Ap(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return function M5(n,e,t,i){return new zbe(n,e,t,i)}(this.persistence,new A5,e.initialUser,this.serializer)}createPersistence(e){return new lR(Hv.js,this.serializer)}createSharedClientState(e){return new B5}terminate(){var e=this;return _(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class ud{initialize(e,t){var i=this;return _(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>nW(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=Rwe.bind(null,i.syncEngine),yield function BR(n,e){return UR.apply(this,arguments)}(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new mwe}createDatastore(e){const t=Ap(e.databaseInfo.databaseId),i=new Zbe(e.databaseInfo);return new twe(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return t=this.localStore,i=this.datastore,r=e.asyncQueue,o=a=>nW(this.syncEngine,a,0),s=U5.D()?new U5:new Ybe,new rwe(t,i,r,o,s);var t,i,r,o,s}createSyncEngine(e,t){return function(i,r,o,s,a,l,c){const u=new Cwe(i,r,o,s,a,l);return c&&(u.Ac=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=_(function*(t){const i=V(t);R("RemoteStore","RemoteStore shutting down."),i.Au.add(5),yield id(i),i.vu.shutdown(),i.Pu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}class Jv{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Vc(this.observer.next,e)}error(e){this.observer.error?this.Vc(this.observer.error,e):$t("Uncaught Error in snapshot listener:",e.toString())}Sc(){this.muted=!0}Vc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Gwe{constructor(e,t,i,r){var o=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=In.UNAUTHENTICATED,this.clientId=R3.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var s=_(function*(a){R("FirestoreClient","Received user=",a.uid),yield o.authCredentialListener(a),o.user=a});return function(a){return s.apply(this,arguments)}}()),this.appCheckCredentials.start(i,s=>(R("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}getConfiguration(){var e=this;return _(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new M(E.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new pn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(_(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=sd(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}function eb(n,e){return vk.apply(this,arguments)}function vk(){return vk=_(function*(n,e){n.asyncQueue.verifyOperationInProgress(),R("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(function(){var r=_(function*(o){i.isEqual(o)||(yield R5(e.localStore,o),i=o)});return function(o){return r.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),vk.apply(this,arguments)}function bk(n,e){return wk.apply(this,arguments)}function wk(){return wk=_(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield function Ck(n){return xk.apply(this,arguments)}(n);R("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield e.initialize(t,i),n.setCredentialChangeListener(r=>K5(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,o)=>K5(e.remoteStore,o)),n._onlineComponents=e}),wk.apply(this,arguments)}function xk(){return xk=_(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){R("FirestoreClient","Using user provided OfflineComponentProvider");try{yield eb(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function cW(n){return"FirebaseError"===n.name?n.code===E.FAILED_PRECONDITION||n.code===E.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}(t))throw t;kr("Error using user provided cache. Falling back to memory cache: "+t),yield eb(n,new Zv)}}else R("FirestoreClient","Using default OfflineComponentProvider"),yield eb(n,new Zv);return n._offlineComponents}),xk.apply(this,arguments)}function tb(n){return Ek.apply(this,arguments)}function Ek(){return Ek=_(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(R("FirestoreClient","Using user provided OnlineComponentProvider"),yield bk(n,n._uninitializedComponentsProvider._online)):(R("FirestoreClient","Using default OnlineComponentProvider"),yield bk(n,new ud))),n._onlineComponents}),Ek.apply(this,arguments)}function dd(n){return Ik.apply(this,arguments)}function Ik(){return Ik=_(function*(n){const e=yield tb(n),t=e.eventManager;return t.onListen=xwe.bind(null,e.syncEngine),t.onUnlisten=Ewe.bind(null,e.syncEngine),t}),Ik.apply(this,arguments)}const mW=new Map;function Sk(n,e,t){if(!t)throw new M(E.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function gW(n){if(!F.isDocumentKey(n))throw new M(E.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function _W(n){if(F.isDocumentKey(n))throw new M(E.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function ib(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":$()}function Fe(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new M(E.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=ib(n);throw new M(E.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}class vW{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new M(E.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new M(E.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function e0e(n,e,t,i){if(!0===e&&!0===i)throw new M(E.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!this.experimentalForceLongPolling&&void 0!==e.experimentalAutoDetectLongPolling&&!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class kp{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new vW({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new M(E.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new M(E.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new vW(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Zye;switch(t.type){case"firstParty":return new nve(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new M(E.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=mW.get(e);t&&(R("ComponentProvider","Removing Datastore"),mW.delete(e),t.terminate())}(this),Promise.resolve()}}class qt{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new xo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new qt(this.firestore,e,this._key)}}class Gn{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Gn(this.firestore,e,this._query)}}class xo extends Gn{constructor(e,t,i){super(e,t,Wu(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new qt(this.firestore,null,new F(e))}withConverter(e){return new xo(this.firestore,e,this._path)}}function n0e(n,e,...t){if(n=Nt(n),Sk("collection","path",e),n instanceof kp){const i=Ve.fromString(e,...t);return _W(i),new xo(n,null,i)}{if(!(n instanceof qt||n instanceof xo))throw new M(E.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Ve.fromString(e,...t));return _W(i),new xo(n.firestore,null,i)}}function bW(n,e,...t){if(n=Nt(n),1===arguments.length&&(e=R3.A()),Sk("doc","path",e),n instanceof kp){const i=Ve.fromString(e,...t);return gW(i),new qt(n,null,new F(i))}{if(!(n instanceof qt||n instanceof xo))throw new M(E.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Ve.fromString(e,...t));return gW(i),new qt(n.firestore,n instanceof xo?n.converter:null,new F(i))}}class i0e{constructor(){this.Kc=Promise.resolve(),this.Gc=[],this.Qc=!1,this.jc=[],this.zc=null,this.Wc=!1,this.Hc=!1,this.Jc=[],this.Lo=new CR(this,"async_queue_retry"),this.Yc=()=>{const t=Yv();t&&R("AsyncQueue","Visibility state changed to "+t.visibilityState),this.Lo.ko()};const e=Yv();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Yc)}get isShuttingDown(){return this.Qc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Xc(),this.Zc(e)}enterRestrictedMode(e){if(!this.Qc){this.Qc=!0,this.Hc=e||!1;const t=Yv();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Yc)}}enqueue(e){if(this.Xc(),this.Qc)return new Promise(()=>{});const t=new pn;return this.Zc(()=>this.Qc&&this.Hc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Gc.push(e),this.ta()))}ta(){var e=this;return _(function*(){if(0!==e.Gc.length){try{yield e.Gc[0](),e.Gc.shift(),e.Lo.reset()}catch(t){if(!sa(t))throw t;R("AsyncQueue","Operation failed with retryable error: "+t)}e.Gc.length>0&&e.Lo.xo(()=>e.ta())}})()}Zc(e){const t=this.Kc.then(()=>(this.Wc=!0,e().catch(i=>{throw this.zc=i,this.Wc=!1,$t("INTERNAL UNHANDLED ERROR: ",function(o){let s=o.message||"";return o.stack&&(s=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),s}(i)),i}).then(i=>(this.Wc=!1,i))));return this.Kc=t,t}enqueueAfterDelay(e,t,i){this.Xc(),this.Jc.indexOf(e)>-1&&(t=0);const r=jR.createAndSchedule(this,e,t,i,o=>this.ea(o));return this.jc.push(r),r}Xc(){this.zc&&$()}verifyOperationInProgress(){}na(){var e=this;return _(function*(){let t;do{t=e.Kc,yield t}while(t!==e.Kc)})()}sa(e){for(const t of this.jc)if(t.timerId===e)return!0;return!1}ia(e){return this.na().then(()=>{this.jc.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.jc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.na()})}ra(e){this.Jc.push(e)}ea(e){const t=this.jc.indexOf(e);this.jc.splice(t,1)}}function Tk(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const i=e;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class vt extends kp{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=new i0e,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||CW(this),this._firestoreClient.terminate()}}function o0e(n,e){const i="string"==typeof n?n:e||"(default)",r=Ys("object"==typeof n?n:uf(),"firestore").getImmediate({identifier:i});if(!r._initialized){const o=zE("firestore");o&&function t0e(n,e,t,i={}){var r;const o=(n=Fe(n,kp))._getSettings();if("firestore.googleapis.com"!==o.host&&o.host!==e&&kr("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},o),{host:`${e}:${t}`,ssl:!1})),i.mockUserToken){let s,a;if("string"==typeof i.mockUserToken)s=i.mockUserToken,a=In.MOCK_USER;else{s=$E(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const l=i.mockUserToken.sub||i.mockUserToken.user_id;if(!l)throw new M(E.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new In(l)}n._authCredentials=new Jye(new A3(s,a))}}(r,...o)}return r}function en(n){return n._firestoreClient||CW(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function CW(n){var e,t,i;const r=n._freezeSettings(),o=(a=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new kve(n._databaseId,a,n._persistenceKey,(c=r).host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,c.useFetchStreams));var a,c;n._firestoreClient=new Gwe(n._authCredentials,n._appCheckCredentials,n._queue,o),null!==(t=r.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(i=r.cache)&&void 0!==i&&i._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.cache.kind,_offline:r.cache._offlineComponentProvider,_online:r.cache._onlineComponentProvider})}class Hl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Hl(mn.fromBase64String(e))}catch(t){throw new M(E.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Hl(mn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class hd{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new M(E.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Gt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Ak{constructor(e){this._methodName=e}}class Mk{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new M(E.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new M(E.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ue(this._lat,e._lat)||ue(this._long,e._long)}}const a0e=/^__.*__$/;class l0e{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new _s(e,this.data,this.fieldMask,t,this.fieldTransforms):new Yu(e,this.data,t,this.fieldTransforms)}}class DW{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new _s(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function IW(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw $()}}class rb{constructor(e,t,i,r,o,s){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=r,void 0===o&&this.oa(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get ua(){return this.settings.ua}ca(e){return new rb(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}aa(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ca({path:i,ha:!1});return r.la(e),r}fa(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ca({path:i,ha:!1});return r.oa(),r}da(e){return this.ca({path:void 0,ha:!0})}_a(e){return sb(e,this.settings.methodName,this.settings.wa||!1,this.path,this.settings.ma)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}oa(){if(this.path)for(let e=0;e<this.path.length;e++)this.la(this.path.get(e))}la(e){if(0===e.length)throw this._a("Document fields must not be empty");if(IW(this.ua)&&a0e.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class c0e{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Ap(e)}ga(e,t,i,r=!1){return new rb({ua:e,methodName:t,ma:i,path:Gt.emptyPath(),ha:!1,wa:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function fd(n){const e=n._freezeSettings(),t=Ap(n._databaseId);return new c0e(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Rk(n,e,t,i,r,o={}){const s=n.ga(o.merge||o.mergeFields?2:0,e,t,r);Ok("Data must be an object, but it was:",s,i);const a=RW(i,s);let l,c;if(o.merge)l=new Ri(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const u=[];for(const d of o.mergeFields){const h=Np(e,d,t);if(!s.contains(h))throw new M(E.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);OW(u,h)||u.push(h)}l=new Ri(u),c=s.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,c=s.fieldTransforms;return new l0e(new $n(a),l,c)}class Pp extends Ak{_toFieldTransform(e){if(2!==e.ua)throw e._a(1===e.ua?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Pp}}function zl(n,e){if(kW(n=Nt(n)))return Ok("Unsupported field value:",e,n),RW(n,e);if(n instanceof Ak)return function(t,i){if(!IW(i.ua))throw i._a(`${t._methodName}() can only be used with update() and set()`);if(!i.path)throw i._a(`${t._methodName}() is not currently supported inside arrays`);const r=t._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.ha&&4!==e.ua)throw e._a("Nested arrays are not supported");return function(t,i){const r=[];let o=0;for(const s of t){let a=zl(s,i.da(o));null==a&&(a={nullValue:"NULL_VALUE"}),r.push(a),o++}return{arrayValue:{values:r}}}(n,e)}return function(t,i){if(null===(t=Nt(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return CG(i.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const r=St.fromDate(t);return{timestampValue:Xu(i.serializer,r)}}if(t instanceof St){const r=new St(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Xu(i.serializer,r)}}if(t instanceof Mk)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Hl)return{bytesValue:zG(i.serializer,t._byteString)};if(t instanceof qt){const r=i.databaseId,o=t.firestore._databaseId;if(!o.isEqual(r))throw i._a(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:QM(t.firestore._databaseId||i.databaseId,t._key.path)}}throw i._a(`Unsupported field value: ${ib(t)}`)}(n,e)}function RW(n,e){const t={};return G3(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):aa(n,(i,r)=>{const o=zl(r,e.aa(i));null!=o&&(t[i]=o)}),{mapValue:{fields:t}}}function kW(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof St||n instanceof Mk||n instanceof Hl||n instanceof qt||n instanceof Ak)}function Ok(n,e,t){if(!kW(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=ib(t);throw e._a("an object"===i?n+" a custom object":n+" "+i)}var i}function Np(n,e,t){if((e=Nt(e))instanceof hd)return e._internalPath;if("string"==typeof e)return ob(n,e);throw sb("Field path arguments must be of type string or ",n,!1,void 0,t)}const f0e=new RegExp("[~\\*/\\[\\]]");function ob(n,e,t){if(e.search(f0e)>=0)throw sb(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new hd(...e.split("."))._internalPath}catch{throw sb(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function sb(n,e,t,i,r){const o=i&&!i.isEmpty(),s=void 0!==r;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${i}`),s&&(l+=` in document ${r}`),l+=")"),new M(E.INVALID_ARGUMENT,a+n+l)}function OW(n,e){return n.some(t=>t.isEqual(e))}class Pk{constructor(e,t,i,r,o){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new qt(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new p0e(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(ab("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class p0e extends Pk{data(){return super.data()}}function ab(n,e){return"string"==typeof e?ob(n,e):e instanceof hd?e._internalPath:e._delegate._internalPath}class g0e{convertValue(e,t="none"){switch(ua(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Bt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ps(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw $()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return aa(e,(r,o)=>{i[r]=this.convertValue(o,t)}),i}convertGeoPoint(e){return new Mk(Bt(e.latitude),Bt(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=wv(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(rp(e));default:return null}}convertTimestamp(e){const t=la(e);return new St(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=Ve.fromString(e);q(JG(i));const r=new Al(i.get(1),i.get(3)),o=new F(i.popFirst(5));return r.isEqual(t)||$t(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}class $l{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class md extends Pk{constructor(e,t,i,r,o,s){super(e,t,i,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new db(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(ab("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class db extends md{data(e={}){return super.data(e)}}class gd{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new $l(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new db(this._firestore,this._userDataWriter,i.key,i,new $l(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new M(E.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(s=>({type:"added",doc:new db(i._firestore,i._userDataWriter,s.doc.key,s.doc,new $l(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:o++}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(s=>r||3!==s.type).map(s=>{const a=new db(i._firestore,i._userDataWriter,s.doc.key,s.doc,new $l(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);let l=-1,c=-1;return 0!==s.type&&(l=o.indexOf(s.doc.key),o=o.delete(s.doc.key)),1!==s.type&&(o=o.add(s.doc),c=o.indexOf(s.doc.key)),{type:y0e(s.type),doc:a,oldIndex:l,newIndex:c}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function y0e(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return $()}}class va extends g0e{constructor(e){super(),this.firestore=e}convertBytes(e){return new Hl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new qt(this.firestore,null,t)}}function v0e(n,e,t){n=Fe(n,qt);const i=Fe(n.firestore,vt),r=function Fk(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}(n.converter,e,t);return Lp(i,[Rk(fd(i),"setDoc",n._key,r,null!==n.converter,t).toMutation(n._key,Ct.none())])}function b0e(n,e,t,...i){n=Fe(n,qt);const r=Fe(n.firestore,vt),o=fd(r);let s;return s="string"==typeof(e=Nt(e))||e instanceof hd?function AW(n,e,t,i,r,o){const s=n.ga(1,e,t),a=[Np(e,i,t)],l=[r];if(o.length%2!=0)throw new M(E.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<o.length;h+=2)a.push(Np(e,o[h])),l.push(o[h+1]);const c=[],u=$n.empty();for(let h=a.length-1;h>=0;--h)if(!OW(c,a[h])){const f=a[h];let p=l[h];p=Nt(p);const m=s.fa(f);if(p instanceof Pp)c.push(f);else{const g=zl(p,m);null!=g&&(c.push(f),u.set(f,g))}}const d=new Ri(c);return new DW(u,d,s.fieldTransforms)}(o,"updateDoc",n._key,e,t,i):function TW(n,e,t,i){const r=n.ga(1,e,t);Ok("Data must be an object, but it was:",r,i);const o=[],s=$n.empty();aa(i,(l,c)=>{const u=ob(e,l,t);c=Nt(c);const d=r.fa(u);if(c instanceof Pp)o.push(u);else{const h=zl(c,d);null!=h&&(o.push(u),s.set(u,h))}});const a=new Ri(o);return new DW(s,a,r.fieldTransforms)}(o,"updateDoc",n._key,e),Lp(r,[s.toMutation(n._key,Ct.exists(!0))])}function w0e(n){return Lp(Fe(n.firestore,vt),[new Qu(n._key,Ct.none())])}function Lp(n,e){return function(t,i){const r=new pn;return t.asyncQueue.enqueueAndForget(_(function*(){return function Dwe(n,e,t){return ZR.apply(this,arguments)}(yield function Dk(n){return tb(n).then(e=>e.syncEngine)}(t),i,r)})),r.promise}(en(n),e)}!function(n,e=!0){Uu=is,Vn(new wn("firestore",(t,{instanceIdentifier:i,options:r})=>{const o=t.getProvider("app").getImmediate(),s=new vt(new eve(t.getProvider("auth-internal")),new ive(t.getProvider("app-check-internal")),function(a,l){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new M(E.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Al(a.options.projectId,l)}(o,i),o);return r=Object.assign({useFetchStreams:e},r),s._setSettings(r),s},"PUBLIC").setMultipleInstances(!0)),it(T3,"3.11.0",n),it(T3,"3.11.0","esm2017")}();var P0e={includeMetadataChanges:!1};function Vk(n,e){return void 0===e&&(e=P0e),new We(function(t){var i=function C0e(n,...e){var t,i,r;n=Nt(n);let o={includeMetadataChanges:!1},s=0;"object"!=typeof e[s]||Tk(e[s])||(o=e[s],s++);const a={includeMetadataChanges:o.includeMetadataChanges};if(Tk(e[s])){const d=e[s];e[s]=null===(t=d.next)||void 0===t?void 0:t.bind(d),e[s+1]=null===(i=d.error)||void 0===i?void 0:i.bind(d),e[s+2]=null===(r=d.complete)||void 0===r?void 0:r.bind(d)}let l,c,u;if(n instanceof qt)c=Fe(n.firestore,vt),u=Wu(n._key.path),l={next:d=>{e[s]&&e[s](function Lk(n,e,t){const i=t.docs.get(e._key),r=new va(n);return new md(n,r,e._key,i,new $l(t.hasPendingWrites,t.fromCache),e.converter)}(c,n,d))},error:e[s+1],complete:e[s+2]};else{const d=Fe(n,Gn);c=Fe(d.firestore,vt),u=d._query;const h=new va(c);l={next:f=>{e[s]&&e[s](new gd(c,h,d,f))},error:e[s+1],complete:e[s+2]},function PW(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new M(E.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(n._query)}return function(d,h,f,p){const m=new Jv(p),g=new qR(h,m,f);return d.asyncQueue.enqueueAndForget(_(function*(){return function HR(n,e){return zR.apply(this,arguments)}(yield dd(d),g)})),()=>{m.Sc(),d.asyncQueue.enqueueAndForget(_(function*(){return function $R(n,e){return GR.apply(this,arguments)}(yield dd(d),g)}))}}(en(c),u,a,l)}(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:i}})}function j0e(n,e){return void 0===e&&(e={}),function U0e(n){return Vk(n,{includeMetadataChanges:!0}).pipe(ie(function(e){return e.docs}))}(n).pipe(ie(function(t){return t.map(function(i){return function HW(n,e){void 0===e&&(e={});var t=n.data();return!n.exists()||"object"!=typeof t||null===t||e.idField&&(t[e.idField]=n.id),t}(i,e)})}))}class Vp{constructor(e){return e}}const WW="firestore",jk=new I("angularfire2.firestore-instances");function $0e(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new Vp(i)}}const G0e={provide:class H0e{constructor(){return Tf(WW)}},deps:[[new ze,jk]]},W0e={provide:Vp,useFactory:function z0e(n,e){const t=Sf(WW,n,e);return t&&new Vp(t)},deps:[[new ze,jk],ta]};let q0e=(()=>{class n{constructor(){it("angularfire",Mu.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ce({type:n}),n.\u0275inj=se({providers:[W0e,G0e]}),n})();function K0e(n,...e){return{ngModule:q0e,providers:[{provide:jk,useFactory:$0e(n),multi:!0,deps:[ae,Ot,Af,Mf,[new ze,Vy],[new ze,Of],...e]}]}}const qW=Ar(j0e,!0),bs=Ar(n0e,!0),KW=Ar(w0e,!0),_d=Ar(bW,!0),Y0e=Ar(o0e,!0),YW=Ar(v0e,!0),QW=Ar(b0e,!0);let XW=(()=>{class n{constructor(t){this.firestore=t,this.colectionName="usuarios",this.coleccionUsuarios=bs(this.firestore,this.colectionName)}traer(){const t=bs(this.firestore,this.colectionName);qW(t).subscribe(r=>{this.listadoUsuarios=r})}delete(t){const i=bs(this.firestore,this.colectionName),r=_d(i,t);KW(r)}nuevo(t){const i=_d(this.coleccionUsuarios);YW(i,{id:i.id,nombre:t.nombre,apellido:t.apellido,email:t.email,clave:t.clave,foto:t.foto})}update(t){const i=bs(this.firestore,this.colectionName),r=_d(i,t.id);QW(r,{nombre:t.nombre,apellido:t.apellido,email:t.email,clave:t.clave,foto:t.foto})}}return n.\u0275fac=function(t){return new(t||n)(w(Vp))},n.\u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Q0e=(()=>{class n{constructor(t,i){this.firestore=t,this.toastMsg=i,this.colectionName="logginlog",this.coleccionUsuarios=bs(this.firestore,this.colectionName),this.coleccionUsuarios=bs(this.firestore,this.colectionName)}traer(){const t=bs(this.firestore,this.colectionName);qW(t).subscribe(r=>{this.listado=r})}delete(t){const i=bs(this.firestore,this.colectionName),r=_d(i,t);KW(r)}nuevo(t){const i=_d(this.coleccionUsuarios),r=i.id;try{YW(i,{id:r,email:t.email,fechaIngreso:Date.now().toLocaleString()})}catch(o){console.log(o.message),this.toastMsg.Error(o.message)}}update(t){const i=bs(this.firestore,this.colectionName),r=_d(i,t.id);QW(r,{nombre:t.nombre,apellido:t.apellido,email:t.email,clave:t.clave,foto:t.foto})}}return n.\u0275fac=function(t){return new(t||n)(w(Vp),w(wy))},n.\u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Gl=(()=>{class n{constructor(t,i,r,o){this.message=t,this.usrService=i,this.logLogginService=r,this.router=o,this.estaLogueado=!1}iniciarSesion(t,i){let r=0;(function Gde(n,e,t){return iI(Nt(n),sz.credential(e,t))})(Iu(),t,i).then(s=>{r++,console.log(r),this.usuarioActual=this.usrService.listadoUsuarios?.find(a=>a.email==s.user.email),this.usuarioActual&&(this.loguear(this.usuarioActual),this.router.navigate(["/home"]))}).catch(s=>{this.message.Error(`Ocurrio un error al ingresar el usuario: ${t}. Error: ${s.code} - ${s.message}`)})}loguear(t){this.estaLogueado=!0,localStorage.setItem(fS.usuarioLocalStorage,JSON.stringify(t)),this.logLogginService.nuevo(t),this.message.Info("Bienvenido "+t.nombre)}registrarCuenta(t){console.log(t.email,t.clave),function $de(n,e,t){return _I.apply(this,arguments)}(Iu(),t.email,t.clave).then(r=>{this.message.Info(`Usuario ${t.email} registrado correctamente.`),this.usrService.nuevo(t),this.loguear(t),setTimeout(()=>{this.router.navigate(["/home"])},1500)}).catch(r=>{throw this.message.Error("Ocurrio un error al registrar el usuario: "+r.code+" - "+r.message),r})}cerrarSesion(t){(function the(n){return Nt(n).signOut()})(Iu()).then(()=>{localStorage.removeItem(fS.usuarioLocalStorage),this.router.navigate(["/login"])}).catch(r=>{})}currentUser(){const t=localStorage.getItem(fS.usuarioLocalStorage);return t?JSON.parse(t):null}logueado(){const t=Iu();return null!=t.currentUser&&this.currentUser().email==t.currentUser.email}logInfo(){let t={id:"",email:"",nombre:"",apellido:"",clave:"",foto:"",logueado:!1};const i=Iu();return this.usuarioActual=this.usrService.listadoUsuarios?.find(r=>r.email==i.currentUser.email),this.usuarioActual&&(t=this.usuarioActual,t.logueado=this.logueado()),t}}return n.\u0275fac=function(t){return new(t||n)(w(wy),w(XW),w(Q0e),w(ti))},n.\u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();let JW=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(b($o),b($e))},n.\u0275dir=O({type:n}),n})(),Wl=(()=>{class n extends JW{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=Ue(n)))(i||n)}}(),n.\u0275dir=O({type:n,features:[K]}),n})();const Pr=new I("NgValueAccessor"),Z0e={provide:Pr,useExisting:tt(()=>fb),multi:!0},eCe=new I("CompositionEventMode");let fb=(()=>{class n extends JW{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function J0e(){const n=Yo()?Yo().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(b($o),b($e),b(eCe,8))},n.\u0275dir=O({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,i){1&t&&yn("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[_e([Z0e]),K]}),n})();const tCe=!1;function ba(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function tq(n){return null!=n&&"number"==typeof n.length}const Wn=new I("NgValidators"),wa=new I("NgAsyncValidators"),nCe=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Eo{static min(e){return function nq(n){return e=>{if(ba(e.value)||ba(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function iq(n){return e=>{if(ba(e.value)||ba(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function rq(n){return ba(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function oq(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function sq(n){return ba(n.value)||nCe.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function aq(n){return e=>ba(e.value)||!tq(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function lq(n){return e=>tq(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function cq(n){if(!n)return pb;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),i=>{if(ba(i.value))return null;const r=i.value;return e.test(r)?null:{pattern:{requiredPattern:t,actualValue:r}}}}(e)}static nullValidator(e){return null}static compose(e){return mq(e)}static composeAsync(e){return gq(e)}}function pb(n){return null}function uq(n){return null!=n}function dq(n){const e=Ch(n)?Ut(n):n;if(tCe&&!YC(e)){let t="Expected async validator to return Promise or Observable.";throw"object"==typeof n&&(t+=" Are you using a synchronous validator where an async validator is expected?"),new D(-1101,t)}return e}function hq(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function fq(n,e){return e.map(t=>t(n))}function pq(n){return n.map(e=>function iCe(n){return!n.validate}(e)?e:t=>e.validate(t))}function mq(n){if(!n)return null;const e=n.filter(uq);return 0==e.length?null:function(t){return hq(fq(t,e))}}function Hk(n){return null!=n?mq(pq(n)):null}function gq(n){if(!n)return null;const e=n.filter(uq);return 0==e.length?null:function(t){return function ZW(...n){const e=gN(n),{args:t,keys:i}=QU(n),r=new We(o=>{const{length:s}=t;if(!s)return void o.complete();const a=new Array(s);let l=s,c=s;for(let u=0;u<s;u++){let d=!1;ci(t[u]).subscribe(bt(o,h=>{d||(d=!0,c--),a[u]=h},()=>l--,void 0,()=>{(!l||!d)&&(c||o.next(i?XU(i,a):a),o.complete())}))}});return e?r.pipe(uE(e)):r}(fq(t,e).map(dq)).pipe(ie(hq))}}function zk(n){return null!=n?gq(pq(n)):null}function _q(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function yq(n){return n._rawValidators}function vq(n){return n._rawAsyncValidators}function $k(n){return n?Array.isArray(n)?n:[n]:[]}function mb(n,e){return Array.isArray(n)?n.includes(e):n===e}function bq(n,e){const t=$k(e);return $k(n).forEach(r=>{mb(t,r)||t.push(r)}),t}function wq(n,e){return $k(e).filter(t=>!mb(n,t))}class Cq{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Hk(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=zk(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class yi extends Cq{get formDirective(){return null}get path(){return null}}class Ca extends Cq{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class xq{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Eq=(()=>{class n extends xq{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(b(Ca,2))},n.\u0275dir=O({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,i){2&t&&no("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[K]}),n})(),Gk=(()=>{class n extends xq{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(b(yi,10))},n.\u0275dir=O({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,i){2&t&&no("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[K]}),n})();function Dq(n,e){return n?`with name: '${e}'`:`at index: ${e}`}const Kk=!1,Bp="VALID",_b="INVALID",yd="PENDING",Up="DISABLED";function Yk(n){return(yb(n)?n.validators:n)||null}function Qk(n,e){return(yb(e)?e.asyncValidators:n)||null}function yb(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class Tq{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Bp}get invalid(){return this.status===_b}get pending(){return this.status==yd}get disabled(){return this.status===Up}get enabled(){return this.status!==Up}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(bq(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(bq(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(wq(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(wq(e,this._rawAsyncValidators))}hasValidator(e){return mb(this._rawValidators,e)}hasAsyncValidator(e){return mb(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=yd,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Up,this.errors=null,this._forEachChild(i=>{i.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Bp,this._forEachChild(i=>{i.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Bp||this.status===yd)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Up:Bp}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=yd,this._hasOwnPendingAsyncValidator=!0;const t=dq(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new nt,this.statusChanges=new nt}_calculateStatus(){return this._allControlsDisabled()?Up:this.errors?_b:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(yd)?yd:this._anyControlsHaveStatus(_b)?_b:Bp}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){yb(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function uCe(n){return Array.isArray(n)?Hk(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function dCe(n){return Array.isArray(n)?zk(n):n||null}(this._rawAsyncValidators)}}class jp extends Tq{constructor(e,t,i){super(Yk(t),Qk(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function Sq(n,e,t){n._forEachChild((i,r)=>{if(void 0===t[r])throw new D(1002,Kk?function cCe(n,e){return`Must supply a value for form control ${Dq(n,e)}`}(e,r):"")})})(this,!0,e),Object.keys(e).forEach(i=>{(function Iq(n,e,t){const i=n.controls;if(!(e?Object.keys(i):i).length)throw new D(1e3,Kk?function aCe(n){return`\n    There are no form controls registered with this ${n?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(e):"");if(!i[t])throw new D(1001,Kk?function lCe(n,e){return`Cannot find form control ${Dq(n,e)}`}(e,t):"")})(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(i=>{const r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>!!i._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,i]of Object.entries(this.controls))if(this.contains(t)&&e(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,o)=>{i=t(i,r,o)}),i}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const ql=new I("CallSetDisabledState",{providedIn:"root",factory:()=>Hp}),Hp="always";function zp(n,e,t=Hp){Xk(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function pCe(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&Aq(n,e)})}(n,e),function gCe(n,e){const t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function mCe(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&Aq(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function fCe(n,e){if(e.valueAccessor.setDisabledState){const t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function bb(n,e,t=!0){const i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),Cb(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function wb(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Xk(n,e){const t=yq(n);null!==e.validator?n.setValidators(_q(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const i=vq(n);null!==e.asyncValidator?n.setAsyncValidators(_q(i,e.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();wb(e._rawValidators,r),wb(e._rawAsyncValidators,r)}function Cb(n,e){let t=!1;if(null!==n){if(null!==e.validator){const r=yq(n);if(Array.isArray(r)&&r.length>0){const o=r.filter(s=>s!==e.validator);o.length!==r.length&&(t=!0,n.setValidators(o))}}if(null!==e.asyncValidator){const r=vq(n);if(Array.isArray(r)&&r.length>0){const o=r.filter(s=>s!==e.asyncValidator);o.length!==r.length&&(t=!0,n.setAsyncValidators(o))}}}const i=()=>{};return wb(e._rawValidators,i),wb(e._rawAsyncValidators,i),t}function Aq(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Mq(n,e){Xk(n,e)}function Rq(n,e){n._syncPendingControls(),e.forEach(t=>{const i=t.control;"submit"===i.updateOn&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}const wCe={provide:yi,useExisting:tt(()=>xb)},$p=(()=>Promise.resolve())();let xb=(()=>{class n extends yi{constructor(t,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._directives=new Set,this.ngSubmit=new nt,this.form=new jp({},Hk(t),zk(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){$p.then(()=>{const i=this._findContainer(t.path);t.control=i.registerControl(t.name,t.control),zp(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){$p.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){$p.then(()=>{const i=this._findContainer(t.path),r=new jp({});Mq(r,t),i.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){$p.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,i){$p.then(()=>{this.form.get(t.path).setValue(i)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,Rq(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(b(Wn,10),b(wa,10),b(ql,8))},n.\u0275dir=O({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,i){1&t&&yn("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[_e([wCe]),K]}),n})();function kq(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function Oq(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const ws=class extends Tq{constructor(e=null,t,i){super(Yk(t),Qk(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),yb(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=Oq(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){kq(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){kq(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){Oq(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let t1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=O({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),Bq=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ce({type:n}),n.\u0275inj=se({}),n})();const n1=new I("NgModelWithFormControlWarning"),MCe={provide:yi,useExisting:tt(()=>Eb)};let Eb=(()=>{class n extends yi{constructor(t,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new nt,this._setValidators(t),this._setAsyncValidators(i)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Cb(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const i=this.form.get(t.path);return zp(i,t,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),i}getControl(t){return this.form.get(t.path)}removeControl(t){bb(t.control||null,t,!1),function bCe(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,i){this.form.get(t.path).setValue(i)}onSubmit(t){return this.submitted=!0,Rq(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const i=t.control,r=this.form.get(t.path);i!==r&&(bb(i||null,t),(n=>n instanceof ws)(r)&&(zp(r,t,this.callSetDisabledState),t.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const i=this.form.get(t.path);Mq(i,t),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const i=this.form.get(t.path);i&&function _Ce(n,e){return Cb(n,e)}(i,t)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Xk(this.form,this),this._oldForm&&Cb(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(b(Wn,10),b(wa,10),b(ql,8))},n.\u0275dir=O({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,i){1&t&&yn("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[_e([MCe]),K,Xn]}),n})();const OCe={provide:Ca,useExisting:tt(()=>s1)};let s1=(()=>{class n extends Ca{set isDisabled(t){}constructor(t,i,r,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.update=new nt,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function e1(n,e){if(!e)return null;let t,i,r;return Array.isArray(e),e.forEach(o=>{o.constructor===fb?t=o:function vCe(n){return Object.getPrototypeOf(n.constructor)===Wl}(o)?i=o:r=o}),r||i||t||null}(0,o)}ngOnChanges(t){this._added||this._setUpControl(),function Jk(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function vb(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(b(yi,13),b(Wn,10),b(wa,10),b(Pr,10),b(n1,8))},n.\u0275dir=O({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[_e([OCe]),K,Xn]}),n})(),t6=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ce({type:n}),n.\u0275inj=se({imports:[Bq]}),n})(),YCe=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:ql,useValue:t.callSetDisabledState??Hp}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ce({type:n}),n.\u0275inj=se({imports:[t6]}),n})(),QCe=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:n1,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:ql,useValue:t.callSetDisabledState??Hp}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ce({type:n}),n.\u0275inj=se({imports:[t6]}),n})();function XCe(n,e){if(1&n&&(X(0,"div",8)(1,"a",9),je(2,"img",10),we(3),Q()()),2&n){const t=Ja();ln(3),Bs(" ",t.inputUsuarioConectado.nombre," ")}}function ZCe(n,e){1&n&&(X(0,"button",11),we(1,"Home"),Q())}function JCe(n,e){1&n&&(X(0,"button",12),we(1,"Login/Signup"),Q())}function exe(n,e){1&n&&(X(0,"button",13),we(1,"Chat"),Q())}function txe(n,e){if(1&n){const t=function v2(){return T()}();X(0,"button",14),yn("click",function(){return function zN(n){return fe.lFrame.contextLView=n,n[jt]}(t),function $N(n){return fe.lFrame.contextLView=null,n}(Ja().onClickLogOut())}),we(1,"LogOut"),Q()}}let Gp=(()=>{class n{constructor(t,i){this.auth=t,this.router=i}onClickLogOut(){this.auth.cerrarSesion(this.inputUsuarioConectado.email),this.router.navigate(["login"])}}return n.\u0275fac=function(t){return new(t||n)(b(Gl),b(ti))},n.\u0275cmp=lt({type:n,selectors:[["app-nav-var"]],inputs:{inputUsuarioConectado:"inputUsuarioConectado"},decls:9,vars:5,consts:[[1,"navbar","bg-dark","navbar-expand-lg","bg-body-tertiary"],["class","container-fluid",4,"ngIf"],[1,"container-fluid","justify-content-end"],["routerLink","/home","class","btn btn-outline-success","type","button",4,"ngIf"],["routerLink","/login","class","btn btn-outline-info","type","button",4,"ngIf"],["routerLink","/chat","class","btn btn-outline-warning","type","button",4,"ngIf"],["routerLink","/quien-soy","type","button",1,"btn","btn-outline-light"],["class","btn btn-outline-danger","type","button",3,"click",4,"ngIf"],[1,"container-fluid"],["href","#",1,"navbar-brand",2,"color","white"],["src","../../../assets/LogueadoImg.jpg","alt","Logo","width","30","height","24",1,"d-inline-block","align-text-top"],["routerLink","/home","type","button",1,"btn","btn-outline-success"],["routerLink","/login","type","button",1,"btn","btn-outline-info"],["routerLink","/chat","type","button",1,"btn","btn-outline-warning"],["type","button",1,"btn","btn-outline-danger",3,"click"]],template:function(t,i){1&t&&(X(0,"nav",0),Pn(1,XCe,4,1,"div",1),X(2,"form",2),Pn(3,ZCe,2,0,"button",3),Pn(4,JCe,2,0,"button",4),Pn(5,exe,2,0,"button",5),X(6,"button",6),we(7,"Quien Soy"),Q(),Pn(8,txe,2,0,"button",7),Q()()),2&t&&(ln(1),cn("ngIf",i.inputUsuarioConectado.logueado),ln(2),cn("ngIf",i.inputUsuarioConectado.logueado),ln(1),cn("ngIf",!i.inputUsuarioConectado.logueado),ln(1),cn("ngIf",i.inputUsuarioConectado.logueado),ln(3),cn("ngIf",i.inputUsuarioConectado.logueado))},dependencies:[q_,Yx,t1,Gk,xb],styles:[".btn[_ngcontent-%COMP%]{margin-right:10px}"]}),n})(),nxe=(()=>{class n{constructor(t){this.auth=t}ngOnInit(){this.usuarioConectado=this.auth.logInfo()}}return n.\u0275fac=function(t){return new(t||n)(b(Gl))},n.\u0275cmp=lt({type:n,selectors:[["app-error"]],decls:3,vars:1,consts:[[3,"inputUsuarioConectado"],["src","../../../assets/404_page_cover.jpg","id","imagen-de-fondo","alt","Imagen de Fondo"]],template:function(t,i){1&t&&(je(0,"app-nav-var",0),X(1,"div"),je(2,"img",1),Q()),2&t&&cn("inputUsuarioConectado",i.usuarioConectado)},dependencies:[Gp],styles:["html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%}#imagen-de-fondo[_ngcontent-%COMP%]{position:fixed;top:2;left:0;width:100%;height:100%;object-fit:cover}"]}),n})(),ixe=(()=>{class n{constructor(t){this.auth=t}ngOnInit(){this.usuarioConectado=this.auth.logInfo()}}return n.\u0275fac=function(t){return new(t||n)(b(Gl))},n.\u0275cmp=lt({type:n,selectors:[["app-home"]],decls:14,vars:1,consts:[[3,"inputUsuarioConectado"],[1,"container"],[1,"games-list"],[1,"game-box"],[1,"user-details"]],template:function(t,i){1&t&&(je(0,"app-nav-var",0),X(1,"div",1)(2,"div",2)(3,"div",3),we(4,"Ahorcado"),Q(),X(5,"div",3),we(6,"Mayor y Menor"),Q(),X(7,"div",3),we(8,"Preguntados"),Q(),X(9,"div",3),we(10,"Batalla Naval"),Q(),X(11,"div",3),we(12,"Listados"),Q()(),je(13,"div",4),Q()),2&t&&cn("inputUsuarioConectado",i.usuarioConectado)},dependencies:[Gp],styles:['@charset "UTF-8";.container[_ngcontent-%COMP%]{display:flex;height:100vh;background-image:url(abstract-glowing-tunnel.2b3fc6c5bd842b9a.jpg);background-repeat:no-repeat;background-size:cover}.games-list[_ngcontent-%COMP%]{width:80%;display:grid;grid-template-columns:repeat(3,1fr);grid-template-rows:repeat(2,1fr);gap:20px;padding:20px;background-color:#fff3}.game-box[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;background-color:#fff;border-radius:10px;font-size:24px;font-weight:700;cursor:pointer}.user-details[_ngcontent-%COMP%]{width:20%;padding:20px;background-color:#fff3}']}),n})();function rxe(n,e){1&n&&(Jr(0),X(1,"small",41),we(2,"Formato Inv\xe1lido"),Q(),eo())}function oxe(n,e){1&n&&(Jr(0),X(1,"small",41),we(2,"El nombre es Requerido"),Q(),eo())}function sxe(n,e){1&n&&(Jr(0),X(1,"small",41),we(2,"El apellido es Requerido"),Q(),eo())}function axe(n,e){1&n&&(Jr(0),X(1,"small",41),we(2,"La clave es Requerida"),Q(),eo())}function lxe(n,e){1&n&&(Jr(0),X(1,"small",41),we(2,"Repita la clave"),Q(),eo())}let cxe=(()=>{class n{constructor(t,i,r){this.message=t,this.auth=i,this.usrService=r}ngOnInit(){this.loginForm=new jp({emailLogin:new ws("",[Eo.required,Eo.email]),passwordLogin:new ws("",Eo.required)}),this.signUpForm=new jp({emailSignUp:new ws("",Eo.email),NombreSignUp:new ws("",Eo.pattern("^[a-zA-Z]+$")),ApellidoSignUp:new ws("",Eo.pattern("^[a-zA-Z]+$")),passwordSignUp:new ws("",Eo.min(4)),passwordRepSignUp:new ws("",Eo.required)},[Eo.required]),this.usrService.traer(),this.usuarioConectado=this.auth.logInfo()}onSubmitSignUp(){let t=this.emailSignUp?.value,i=this.nombreSignUp?.value,r=this.apellidoSignUp?.value,o=this.passwordSignUp?.value,s=this.getUser(t);console.log(s),o==this.passwordRepSignUp?.value?""==s.id?(this.user={id:"",email:t,nombre:i,apellido:r,clave:o,foto:"",logueado:!1},this.auth.registrarCuenta(this.user)):this.message.Warning("El usuario ya se encuentra registrado"):this.message.Error("Las contrase\xf1as son distintas ")}onSubmitLogin(){let t=this.emailLogin?.value,i=this.passwordLogin?.value;this.auth.iniciarSesion(t,i)}getUser(t){let i={id:"",email:"",nombre:"",apellido:"",clave:"",foto:"",logueado:!1},r=this.usrService.listadoUsuarios?.find(o=>o.email==t);return r&&(i={id:r.id,email:r.email,nombre:r.nombre,apellido:r.apellido,clave:r.clave,foto:r.foto,logueado:this.auth.logueado()}),i}ingresoAutomatico(t){switch(t){case"Ale":this.loginForm.setValue({emailLogin:"ale@gmail.com",passwordLogin:"123456"});break;case"Coco":this.loginForm.setValue({emailLogin:"coco@gmail.com",passwordLogin:"123456"})}this.onSubmitLogin()}get emailSignUp(){return this.signUpForm.get("emailSignUp")}get nombreSignUp(){return this.signUpForm.get("NombreSignUp")}get apellidoSignUp(){return this.signUpForm.get("ApellidoSignUp")}get passwordSignUp(){return this.signUpForm.get("passwordSignUp")}get passwordRepSignUp(){return this.signUpForm.get("passwordRepSignUp")}get emailLogin(){return this.loginForm.get("emailLogin")}get passwordLogin(){return this.loginForm.get("passwordLogin")}}return n.\u0275fac=function(t){return new(t||n)(b(wy),b(Gl),b(XW))},n.\u0275cmp=lt({type:n,selectors:[["app-login"]],decls:69,vars:8,consts:[[3,"inputUsuarioConectado"],[1,"img-fondo"],[1,"container"],[1,"login-wrap"],[1,"login-html"],["id","tab-1","type","radio","name","tab","checked","",1,"sign-in"],["for","tab-1",1,"tab"],["id","tab-2","type","radio","name","tab",1,"sign-up"],["for","tab-2",1,"tab"],[1,"login-form"],[1,"sign-in-htm"],[3,"formGroup","ngSubmit"],[1,"group"],["for","emailLogin",1,"label"],["id","emailLogin","type","email","formControlName","emailLogin",1,"input"],["for","passwordLogin",1,"label"],["id","passwordLogin","type","password","data-type","password","formControlName","passwordLogin",1,"input"],["id","check","type","checkbox","checked","",1,"check"],["for","check"],[1,"icon"],["type","submit","value","Ingresar",1,"button"],[1,"group","text-center"],["type","button","value","Coco",1,"btn","btn-info",2,"margin","1px",3,"click"],["type","button","value","Ale",1,"btn","btn-info",2,"margin","1px",3,"click"],[1,"hr"],[1,"foot-lnk"],["href","#forgot"],[1,"sign-up-htm"],["for","emailSignUp",1,"label"],["type","email","id","emailSignUp","type","text","formControlName","emailSignUp",1,"input"],[4,"ngIf"],["for","NombreSignUp",1,"label"],["id","NombreSignUp","type","text","formControlName","NombreSignUp",1,"input"],["for","ApellidoSignUp",1,"label"],["id","ApellidoSignUp","type","text","formControlName","ApellidoSignUp",1,"input"],["for","passwordSignUp",1,"label"],["id","passwordSignUp","type","password","data-type","password","formControlName","passwordSignUp",1,"input"],["for","passwordRepSignUp",1,"label"],["id","passwordRepSignUp","type","password","data-type","password","formControlName","passwordRepSignUp",1,"input"],["type","submit","value","Registrarse",1,"button"],["for","tab-1"],[1,"text-danger"]],template:function(t,i){1&t&&(je(0,"app-nav-var",0),X(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),je(5,"input",5),X(6,"label",6),we(7,"Sign In"),Q(),je(8,"input",7),X(9,"label",8),we(10,"Sign Up"),Q(),X(11,"div",9)(12,"div",10)(13,"form",11),yn("ngSubmit",function(){return i.onSubmitLogin()}),X(14,"div",12)(15,"label",13),we(16,"Correo Electr\xf3nico"),Q(),je(17,"input",14),Q(),X(18,"div",12)(19,"label",15),we(20,"Contrase\xf1a"),Q(),je(21,"input",16),Q(),X(22,"div",12),je(23,"input",17),X(24,"label",18),je(25,"span",19),we(26," Mantenerme Logueado"),Q()(),X(27,"div",12),je(28,"input",20),Q(),X(29,"div",21)(30,"input",22),yn("click",function(){return i.ingresoAutomatico("Coco")}),Q(),X(31,"input",23),yn("click",function(){return i.ingresoAutomatico("Ale")}),Q()(),je(32,"div",24),X(33,"div",25)(34,"a",26),we(35,"Forgot Password?"),Q()()()(),X(36,"div",27)(37,"form",11),yn("ngSubmit",function(){return i.onSubmitSignUp()}),X(38,"div",12)(39,"label",28),we(40,"Correo Electr\xf3nico"),Q(),je(41,"input",29),Pn(42,rxe,3,0,"ng-container",30),Q(),X(43,"div",12)(44,"label",31),we(45,"Nombre"),Q(),je(46,"input",32),Pn(47,oxe,3,0,"ng-container",30),Q(),X(48,"div",12)(49,"label",33),we(50,"Apellido"),Q(),je(51,"input",34),Pn(52,sxe,3,0,"ng-container",30),Q(),X(53,"div",12)(54,"label",35),we(55,"Contrase\xf1a"),Q(),je(56,"input",36),Pn(57,axe,3,0,"ng-container",30),Q(),X(58,"div",12)(59,"label",37),we(60,"Repetir Contrase\xf1a"),Q(),je(61,"input",38),Pn(62,lxe,3,0,"ng-container",30),Q(),X(63,"div",12),je(64,"input",39),Q()(),je(65,"div",24),X(66,"div",25)(67,"label",40),we(68,"Ya esta registrad@?"),Q()()()()()()()()),2&t&&(cn("inputUsuarioConectado",i.usuarioConectado),ln(13),cn("formGroup",i.loginForm),ln(24),cn("formGroup",i.signUpForm),ln(5),cn("ngIf",null==i.emailSignUp?null:i.emailSignUp.hasError("emailSignUp")),ln(5),cn("ngIf",null==i.nombreSignUp?null:i.nombreSignUp.hasError("NombreSignUp")),ln(5),cn("ngIf",null==i.apellidoSignUp?null:i.apellidoSignUp.hasError("ApellidoSignUp")),ln(5),cn("ngIf",null==i.emailSignUp?null:i.emailSignUp.hasError("min")),ln(5),cn("ngIf",null==i.emailSignUp?null:i.emailSignUp.hasError("passwordRepSignUp")))},dependencies:[Yx,t1,fb,Eq,Gk,Eb,s1,Gp],styles:['.img-fondo[_ngcontent-%COMP%]{background-image:url(dark-city-wallpaper-1920x1080-15.ba968aaf3be05506.jpg);background-repeat:no-repeat;background-attachment:fixed;height:100%;color:#fff}body[_ngcontent-%COMP%]{margin:0;color:#6a6f8c;background:#c8c8c8;font:600 16px/18px Open Sans,sans-serif}*[_ngcontent-%COMP%], [_ngcontent-%COMP%]:after, [_ngcontent-%COMP%]:before{box-sizing:border-box}.clearfix[_ngcontent-%COMP%]:after, .clearfix[_ngcontent-%COMP%]:before{content:"";display:table}.clearfix[_ngcontent-%COMP%]:after{clear:both;display:block}a[_ngcontent-%COMP%]{color:inherit;text-decoration:none}.login-wrap[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%;margin:auto;max-width:525px;min-height:550px;position:relative;box-shadow:0 12px 15px #0000003d,0 17px 50px #00000030}.login-html[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;padding:90px 70px 50px;background:rgba(40,57,101,.9);margin-top:30%}.login-html[_ngcontent-%COMP%]   .sign-in-htm[_ngcontent-%COMP%], .login-html[_ngcontent-%COMP%]   .sign-up-htm[_ngcontent-%COMP%]{inset:0;position:absolute;transform:rotateY(180deg);-webkit-backface-visibility:hidden;backface-visibility:hidden;transition:all .4s linear}.login-html[_ngcontent-%COMP%]   .sign-in[_ngcontent-%COMP%], .login-html[_ngcontent-%COMP%]   .sign-up[_ngcontent-%COMP%], .login-form[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]   .check[_ngcontent-%COMP%]{display:none}.login-html[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%], .login-form[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%], .login-form[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{text-transform:uppercase}.login-html[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]{font-size:22px;padding-bottom:5px;margin:0 15px 10px 0;display:inline-block;border-bottom:2px solid transparent}.login-html[_ngcontent-%COMP%]   .sign-in[_ngcontent-%COMP%]:checked + .tab[_ngcontent-%COMP%], .login-html[_ngcontent-%COMP%]   .sign-up[_ngcontent-%COMP%]:checked + .tab[_ngcontent-%COMP%]{color:#fff;border-color:#1161ee}.login-form[_ngcontent-%COMP%]{min-height:345px;position:relative;perspective:1000px;transform-style:preserve-3d}.login-form[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]{margin-bottom:15px}.login-form[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%], .login-form[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%], .login-form[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{width:100%;color:#fff;display:block}.login-form[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%], .login-form[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{border:none;padding:15px 20px;border-radius:25px;background:rgba(255,255,255,.1)}.login-form[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]   input[data-type=password][_ngcontent-%COMP%]{text-security:circle;-webkit-text-security:circle}.login-form[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{color:#aaa;font-size:12px}.login-form[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{background:#1161ee}.login-form[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:15px;height:15px;border-radius:2px;position:relative;display:inline-block;background:rgba(255,255,255,.1)}.login-form[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]:before, .login-form[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]:after{content:"";width:10px;height:2px;background:#fff;position:absolute;transition:all .2s ease-in-out 0s}.login-form[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]:before{left:3px;width:5px;bottom:6px;transform:scale(0) rotate(0)}.login-form[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]:after{top:6px;right:0;transform:scale(0) rotate(0)}.login-form[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]   .check[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]{color:#fff}.login-form[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]   .check[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{background:#1161ee}.login-form[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]   .check[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]:before{transform:scale(1) rotate(45deg)}.login-form[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]   .check[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]:after{transform:scale(1) rotate(-45deg)}.login-html[_ngcontent-%COMP%]   .sign-in[_ngcontent-%COMP%]:checked + .tab[_ngcontent-%COMP%] + .sign-up[_ngcontent-%COMP%] + .tab[_ngcontent-%COMP%] + .login-form[_ngcontent-%COMP%]   .sign-in-htm[_ngcontent-%COMP%]{transform:rotate(0)}.login-html[_ngcontent-%COMP%]   .sign-up[_ngcontent-%COMP%]:checked + .tab[_ngcontent-%COMP%] + .login-form[_ngcontent-%COMP%]   .sign-up-htm[_ngcontent-%COMP%]{transform:rotate(0)}.hr[_ngcontent-%COMP%]{height:2px;margin:60px 0 50px;background:rgba(255,255,255,.2)}.foot-lnk[_ngcontent-%COMP%]{text-align:center}']}),n})(),uxe=(()=>{class n{constructor(t){this.auth=t}ngOnInit(){this.usuarioConectado=this.auth.logInfo()}}return n.\u0275fac=function(t){return new(t||n)(b(Gl))},n.\u0275cmp=lt({type:n,selectors:[["app-quien-soy"]],decls:22,vars:1,consts:[[3,"inputUsuarioConectado"],["id","imagen-de-fondo"],["id","quien",1,"container-fluid","text-center"],[1,"margin"],["src","../../../assets/foto-Quien-soy.jpg","alt","Ale Gallo","width","350","height","350",1,"img-responsive","img-circle","margin","imagenDeQuienSoy",2,"display","inline"],[1,"texto"],["id","que",1,"container-fluid","text-center","texto"],["href","#",1,"btn","btn-default","btn-lg"],[1,"glyphicon","glyphicon-file"]],template:function(t,i){1&t&&(je(0,"app-nav-var",0),X(1,"div",1)(2,"div",2)(3,"h3",3),we(4,"Qui\xe9n Soy?"),Q(),je(5,"img",4),X(6,"h1",5),we(7,"Alejandro Gallo alumno de la UTN FRA"),Q()(),X(8,"div",6)(9,"h3",3),we(10,"Mi Juego: \xa1BATALLA NAVAL!"),Q(),X(11,"p"),we(12,"Se trata del famoso Batalla Naval. "),je(13,"br"),we(14,"El jugador podra elegir donde posicionar sus barcos, y la maquina posicionar\xe1 los suyos automaticamente "),je(15,"br"),we(16,"Jugaran un turno a la vez, indicando las coordenadas del tablero siendo una letra y un numero que indican poscionamiento horizontal y vertical respectivamente. "),je(17,"br"),we(18,"Ganar\xe1 el primer jugador que logre hundir todos los barcos del otro jugador. "),Q(),X(19,"a",7),je(20,"span",8),we(21," Descargar PDF "),Q()()()),2&t&&cn("inputUsuarioConectado",i.usuarioConectado)},dependencies:[Gp],styles:["#imagen-de-fondo[_ngcontent-%COMP%]{background-image:url(abstract-glowing-tunnel.2b3fc6c5bd842b9a.jpg);background-repeat:no-repeat;background-attachment:fixed;background-size:cover;color:#0e0e0e;left:0;width:100%;height:100%}.imagenDeQuienSoy[_ngcontent-%COMP%]{width:300px;height:400px}body[_ngcontent-%COMP%]{font:20px Montserrat,sans-serif;line-height:1.8;color:#f5f6f7}p[_ngcontent-%COMP%]{font-size:16px}.margin[_ngcontent-%COMP%]{margin-bottom:15px}.container-fluid[_ngcontent-%COMP%]{padding-top:40px;padding-bottom:40px}.texto[_ngcontent-%COMP%]{background-color:#fefefe64}"]}),n})();const n6=()=>{const n=le(Gl),e=le(ti);return!!n.logueado()||e.parseUrl("/login")},dxe=[{path:"",pathMatch:"full",redirectTo:"login"},{path:"login",component:cxe},{path:"quien-soy",component:uxe},{path:"home",component:ixe,canActivate:[n6]},{path:"chat",component:(()=>{class n{constructor(t){this.auth=t}ngOnInit(){this.usuarioConectado=this.auth.logInfo()}}return n.\u0275fac=function(t){return new(t||n)(b(Gl))},n.\u0275cmp=lt({type:n,selectors:[["app-chat"]],decls:1,vars:1,consts:[[3,"inputUsuarioConectado"]],template:function(t,i){1&t&&je(0,"app-nav-var",0),2&t&&cn("inputUsuarioConectado",i.usuarioConectado)},dependencies:[Gp]}),n})(),canActivate:[n6]},{path:"error",component:nxe},{path:"**",pathMatch:"full",redirectTo:"error"}];let hxe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ce({type:n}),n.\u0275inj=se({imports:[oH.forRoot(dxe),oH]}),n})(),fxe=(()=>{class n{constructor(){this.title="Labo4_SalaDeJuegos_2023"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=lt({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(t,i){1&t&&je(0,"router-outlet")},dependencies:[AE]}),n})();class Db{}class u1{}class Cs{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const i=t.indexOf(":");if(i>0){const r=t.slice(0,i),o=r.toLowerCase(),s=t.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:()=>{this.headers=new Map,Object.entries(e).forEach(([t,i])=>{let r;if(r="string"==typeof i?[i]:"number"==typeof i?[i.toString()]:i.map(o=>o.toString()),r.length>0){const o=t.toLowerCase();this.headers.set(o,r),this.maybeSetNormalizedName(t,o)}})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Cs?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Cs;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Cs?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":const o=e.value;if(o){let s=this.headers.get(t);if(!s)return;s=s.filter(a=>-1===o.indexOf(a)),0===s.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class pxe{encodeKey(e){return r6(e)}encodeValue(e){return r6(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const gxe=/%(\d[a-f0-9])/gi,_xe={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function r6(n){return encodeURIComponent(n).replace(gxe,(e,t)=>_xe[t]??e)}function Ib(n){return`${n}`}class xa{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new pxe,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function mxe(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const o=r.indexOf("="),[s,a]=-1==o?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,o)),e.decodeValue(r.slice(o+1))],l=t.get(s)||[];l.push(a),t.set(s,l)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const i=e.fromObject[t],r=Array.isArray(i)?i.map(Ib):[Ib(i)];this.map.set(t,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(i=>{const r=e[i];Array.isArray(r)?r.forEach(o=>{t.push({param:i,value:o,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new xa({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(Ib(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let i=this.map.get(e.param)||[];const r=i.indexOf(Ib(e.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class yxe{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function o6(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function s6(n){return typeof Blob<"u"&&n instanceof Blob}function a6(n){return typeof FormData<"u"&&n instanceof FormData}class Wp{constructor(e,t,i,r){let o;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function vxe(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new Cs),this.context||(this.context=new yxe),this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=t;else{const a=t.indexOf("?");this.urlWithParams=t+(-1===a?"?":a<t.length-1?"&":"")+s}}else this.params=new xa,this.urlWithParams=t}serializeBody(){return null===this.body?null:o6(this.body)||s6(this.body)||a6(this.body)||function bxe(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof xa?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||a6(this.body)?null:s6(this.body)?this.body.type||null:o6(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof xa?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,o=void 0!==e.body?e.body:this.body,s=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let l=e.headers||this.headers,c=e.params||this.params;const u=e.context??this.context;return void 0!==e.setHeaders&&(l=Object.keys(e.setHeaders).reduce((d,h)=>d.set(h,e.setHeaders[h]),l)),e.setParams&&(c=Object.keys(e.setParams).reduce((d,h)=>d.set(h,e.setParams[h]),c)),new Wp(t,i,o,{params:c,headers:l,context:u,reportProgress:a,responseType:r,withCredentials:s})}}var tn=(()=>((tn=tn||{})[tn.Sent=0]="Sent",tn[tn.UploadProgress=1]="UploadProgress",tn[tn.ResponseHeader=2]="ResponseHeader",tn[tn.DownloadProgress=3]="DownloadProgress",tn[tn.Response=4]="Response",tn[tn.User=5]="User",tn))();class d1{constructor(e,t=200,i="OK"){this.headers=e.headers||new Cs,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class h1 extends d1{constructor(e={}){super(e),this.type=tn.ResponseHeader}clone(e={}){return new h1({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Sb extends d1{constructor(e={}){super(e),this.type=tn.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new Sb({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class l6 extends d1{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function f1(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let p1=(()=>{class n{constructor(t){this.handler=t}request(t,i,r={}){let o;if(t instanceof Wp)o=t;else{let l,c;l=r.headers instanceof Cs?r.headers:new Cs(r.headers),r.params&&(c=r.params instanceof xa?r.params:new xa({fromObject:r.params})),o=new Wp(t,i,void 0!==r.body?r.body:null,{headers:l,context:r.context,params:c,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const s=G(o).pipe($s(l=>this.handler.handle(l)));if(t instanceof Wp||"events"===r.observe)return s;const a=s.pipe(ei(l=>l instanceof Sb));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(ie(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(ie(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(ie(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return a.pipe(ie(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:(new xa).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,f1(r,i))}post(t,i,r={}){return this.request("POST",t,f1(r,i))}put(t,i,r={}){return this.request("PUT",t,f1(r,i))}}return n.\u0275fac=function(t){return new(t||n)(w(Db))},n.\u0275prov=k({token:n,factory:n.\u0275fac}),n})();function c6(n,e){return e(n)}function wxe(n,e){return(t,i)=>e.intercept(t,{handle:r=>n(r,i)})}const xxe=new I("HTTP_INTERCEPTORS"),qp=new I("HTTP_INTERCEPTOR_FNS");function Exe(){let n=null;return(e,t)=>(null===n&&(n=(le(xxe,{optional:!0})??[]).reduceRight(wxe,c6)),n(e,t))}let u6=(()=>{class n extends Db{constructor(t,i){super(),this.backend=t,this.injector=i,this.chain=null}handle(t){if(null===this.chain){const i=Array.from(new Set(this.injector.get(qp)));this.chain=i.reduceRight((r,o)=>function Cxe(n,e,t){return(i,r)=>t.runInContext(()=>e(i,o=>n(o,r)))}(r,o,this.injector),c6)}return this.chain(t,i=>this.backend.handle(i))}}return n.\u0275fac=function(t){return new(t||n)(w(u1),w(Qr))},n.\u0275prov=k({token:n,factory:n.\u0275fac}),n})();const Txe=/^\)\]\}',?\n/;let h6=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new We(i=>{const r=this.xhrFactory.build();if(r.open(t.method,t.urlWithParams),t.withCredentials&&(r.withCredentials=!0),t.headers.forEach((f,p)=>r.setRequestHeader(f,p.join(","))),t.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const f=t.detectContentTypeHeader();null!==f&&r.setRequestHeader("Content-Type",f)}if(t.responseType){const f=t.responseType.toLowerCase();r.responseType="json"!==f?f:"text"}const o=t.serializeBody();let s=null;const a=()=>{if(null!==s)return s;const f=r.statusText||"OK",p=new Cs(r.getAllResponseHeaders()),m=function Axe(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(r)||t.url;return s=new h1({headers:p,status:r.status,statusText:f,url:m}),s},l=()=>{let{headers:f,status:p,statusText:m,url:g}=a(),y=null;204!==p&&(y=typeof r.response>"u"?r.responseText:r.response),0===p&&(p=y?200:0);let x=p>=200&&p<300;if("json"===t.responseType&&"string"==typeof y){const v=y;y=y.replace(Txe,"");try{y=""!==y?JSON.parse(y):null}catch(S){y=v,x&&(x=!1,y={error:S,text:y})}}x?(i.next(new Sb({body:y,headers:f,status:p,statusText:m,url:g||void 0})),i.complete()):i.error(new l6({error:y,headers:f,status:p,statusText:m,url:g||void 0}))},c=f=>{const{url:p}=a(),m=new l6({error:f,status:r.status||0,statusText:r.statusText||"Unknown Error",url:p||void 0});i.error(m)};let u=!1;const d=f=>{u||(i.next(a()),u=!0);let p={type:tn.DownloadProgress,loaded:f.loaded};f.lengthComputable&&(p.total=f.total),"text"===t.responseType&&r.responseText&&(p.partialText=r.responseText),i.next(p)},h=f=>{let p={type:tn.UploadProgress,loaded:f.loaded};f.lengthComputable&&(p.total=f.total),i.next(p)};return r.addEventListener("load",l),r.addEventListener("error",c),r.addEventListener("timeout",c),r.addEventListener("abort",c),t.reportProgress&&(r.addEventListener("progress",d),null!==o&&r.upload&&r.upload.addEventListener("progress",h)),r.send(o),i.next({type:tn.Sent}),()=>{r.removeEventListener("error",c),r.removeEventListener("abort",c),r.removeEventListener("load",l),r.removeEventListener("timeout",c),t.reportProgress&&(r.removeEventListener("progress",d),null!==o&&r.upload&&r.upload.removeEventListener("progress",h)),r.readyState!==r.DONE&&r.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(w(xU))},n.\u0275prov=k({token:n,factory:n.\u0275fac}),n})();const m1=new I("XSRF_ENABLED"),f6=new I("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),p6=new I("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class m6{}let kxe=(()=>{class n{constructor(t,i,r){this.doc=t,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=fU(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(w(ye),w(ou),w(f6))},n.\u0275prov=k({token:n,factory:n.\u0275fac}),n})();function Oxe(n,e){const t=n.url.toLowerCase();if(!le(m1)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const i=le(m6).getToken(),r=le(p6);return null!=i&&!n.headers.has(r)&&(n=n.clone({headers:n.headers.set(r,i)})),e(n)}var Kt=(()=>((Kt=Kt||{})[Kt.Interceptors=0]="Interceptors",Kt[Kt.LegacyInterceptors=1]="LegacyInterceptors",Kt[Kt.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Kt[Kt.NoXsrfProtection=3]="NoXsrfProtection",Kt[Kt.JsonpSupport=4]="JsonpSupport",Kt[Kt.RequestsMadeViaParent=5]="RequestsMadeViaParent",Kt))();function vd(n,e){return{\u0275kind:n,\u0275providers:e}}function Pxe(...n){const e=[p1,h6,u6,{provide:Db,useExisting:u6},{provide:u1,useExisting:h6},{provide:qp,useValue:Oxe,multi:!0},{provide:m1,useValue:!0},{provide:m6,useClass:kxe}];for(const t of n)e.push(...t.\u0275providers);return function IZ(n){return{\u0275providers:n}}(e)}const g6=new I("LEGACY_INTERCEPTOR_FN");let Fxe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ce({type:n}),n.\u0275inj=se({providers:[Pxe(vd(Kt.LegacyInterceptors,[{provide:g6,useFactory:Exe},{provide:qp,useExisting:g6,multi:!0}]))]}),n})();const Lxe=new I("cdk-dir-doc",{providedIn:"root",factory:function Vxe(){return le(ye)}}),Bxe=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let _1,Yl=(()=>{class n{constructor(t){this.value="ltr",this.change=new nt,t&&(this.value=function Uxe(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?Bxe.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||(t.documentElement?t.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(w(Lxe,8))},n.\u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Kp=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ce({type:n}),n.\u0275inj=se({}),n})();function _6(n,e=0){return function jxe(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}function Tb(n){return Array.isArray(n)?n:[n]}function nn(n){return null==n?"":"string"==typeof n?n:`${n}px`}function wd(n){return n instanceof $e?n.nativeElement:n}try{_1=typeof Intl<"u"&&Intl.v8BreakIterator}catch{_1=!1}let Qp,Ab,Ql,y1,Qi=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function Roe(n){return n===wU}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!_1)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(w(ou))},n.\u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function xd(n){return function Hxe(){if(null==Qp&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Qp=!0}))}finally{Qp=Qp||!1}return Qp}()?n:!!n.capture}function w6(){if(null==Ql){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Ql=!1,Ql;if("scrollBehavior"in document.documentElement.style)Ql=!0;else{const n=Element.prototype.scrollTo;Ql=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Ql}function Xp(){if("object"!=typeof document||!document)return 0;if(null==Ab){const n=document.createElement("div"),e=n.style;n.dir="rtl",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";const t=document.createElement("div"),i=t.style;i.width="2px",i.height="1px",n.appendChild(t),document.body.appendChild(n),Ab=0,0===n.scrollLeft&&(n.scrollLeft=1,Ab=0===n.scrollLeft?1:2),n.remove()}return Ab}function v1(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const e=n.shadowRoot.activeElement;if(e===n)break;n=e}return n}function Ea(n){return n.composedPath?n.composedPath()[0]:n.target}function b1(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}const Gxe=["addListener","removeListener"],Wxe=["addEventListener","removeEventListener"],qxe=["on","off"];function Mb(n,e,t,i){if(ke(t)&&(i=t,t=void 0),i)return Mb(n,e,t).pipe(uE(i));const[r,o]=function Qxe(n){return ke(n.addEventListener)&&ke(n.removeEventListener)}(n)?Wxe.map(s=>a=>n[s](e,a,t)):function Kxe(n){return ke(n.addListener)&&ke(n.removeListener)}(n)?Gxe.map(C6(n,e)):function Yxe(n){return ke(n.on)&&ke(n.off)}(n)?qxe.map(C6(n,e)):[];if(!r&&h0(n))return _n(s=>Mb(s,e,t))(ci(n));if(!r)throw new TypeError("Invalid event target");return new We(s=>{const a=(...l)=>s.next(1<l.length?l:l[0]);return r(a),()=>o(a)})}function C6(n,e){return t=>i=>n[t](e,i)}const Zp={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:i}=Zp;i&&(e=i.requestAnimationFrame,t=i.cancelAnimationFrame);const r=e(o=>{t=void 0,n(o)});return new Oe(()=>t?.(r))},requestAnimationFrame(...n){const{delegate:e}=Zp;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=Zp;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0},Jxe=new class Zxe extends Ay{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class Xxe extends Ty{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=Zp.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:o}=e;null!=t&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==t&&(Zp.cancelAnimationFrame(t),e._scheduled=void 0)}});let w1,eEe=1;const Rb={};function x6(n){return n in Rb&&(delete Rb[n],!0)}const tEe={setImmediate(n){const e=eEe++;return Rb[e]=!0,w1||(w1=Promise.resolve()),w1.then(()=>x6(e)&&n()),e},clearImmediate(n){x6(n)}},{setImmediate:nEe,clearImmediate:iEe}=tEe,kb={setImmediate(...n){const{delegate:e}=kb;return(e?.setImmediate||nEe)(...n)},clearImmediate(n){const{delegate:e}=kb;return(e?.clearImmediate||iEe)(n)},delegate:void 0},sEe=new class oEe extends Ay{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class rEe extends Ty{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=kb.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:o}=e;null!=t&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==t&&(kb.clearImmediate(t),e._scheduled===t&&(e._scheduled=void 0))}});function C1(n,e=My){return function aEe(n){return Rt((e,t)=>{let i=!1,r=null,o=null,s=!1;const a=()=>{if(o?.unsubscribe(),o=null,i){i=!1;const c=r;r=null,t.next(c)}s&&t.complete()},l=()=>{o=null,s&&t.complete()};e.subscribe(bt(t,c=>{i=!0,r=c,o||ci(n(c)).subscribe(o=bt(t,a,l))},()=>{s=!0,(!i||!o||o.closed)&&t.complete()}))})}(()=>function cEe(n=0,e,t=Bge){let i=-1;return null!=e&&(mN(e)?t=e:i=e),new We(r=>{let o=function lEe(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;o<0&&(o=0);let s=0;return t.schedule(function(){r.closed||(r.next(s++),0<=i?this.schedule(void 0,i):r.complete())},o)})}(n,e))}function Do(n){return Rt((e,t)=>{ci(n).subscribe(bt(t,()=>t.complete(),Ua)),!t.closed&&e.subscribe(t)})}const uEe=["contentWrapper"],dEe=["*"],hEe=new I("VIRTUAL_SCROLL_STRATEGY");let Ob=(()=>{class n{constructor(t,i,r){this._ngZone=t,this._platform=i,this._scrolled=new Ae,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new We(i=>{this._globalSubscription||this._addGlobalListener();const r=t>0?this._scrolled.pipe(C1(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):G()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){const r=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe(ei(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(t){const i=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,t)&&i.push(o)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,i){let r=wd(i),o=t.getElementRef().nativeElement;do{if(r==o)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Mb(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(w(ae),w(Qi),w(ye,8))},n.\u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),E6=(()=>{class n{constructor(t,i,r,o){this.elementRef=t,this.scrollDispatcher=i,this.ngZone=r,this.dir=o,this._destroyed=new Ae,this._elementScrolled=new We(s=>this.ngZone.runOutsideAngular(()=>Mb(this.elementRef.nativeElement,"scroll").pipe(Do(this._destroyed)).subscribe(s)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(t){const i=this.elementRef.nativeElement,r=this.dir&&"rtl"==this.dir.value;null==t.left&&(t.left=r?t.end:t.start),null==t.right&&(t.right=r?t.start:t.end),null!=t.bottom&&(t.top=i.scrollHeight-i.clientHeight-t.bottom),r&&0!=Xp()?(null!=t.left&&(t.right=i.scrollWidth-i.clientWidth-t.left),2==Xp()?t.left=t.right:1==Xp()&&(t.left=t.right?-t.right:t.right)):null!=t.right&&(t.left=i.scrollWidth-i.clientWidth-t.right),this._applyScrollToOptions(t)}_applyScrollToOptions(t){const i=this.elementRef.nativeElement;w6()?i.scrollTo(t):(null!=t.top&&(i.scrollTop=t.top),null!=t.left&&(i.scrollLeft=t.left))}measureScrollOffset(t){const i="left",r="right",o=this.elementRef.nativeElement;if("top"==t)return o.scrollTop;if("bottom"==t)return o.scrollHeight-o.clientHeight-o.scrollTop;const s=this.dir&&"rtl"==this.dir.value;return"start"==t?t=s?r:i:"end"==t&&(t=s?i:r),s&&2==Xp()?t==i?o.scrollWidth-o.clientWidth-o.scrollLeft:o.scrollLeft:s&&1==Xp()?t==i?o.scrollLeft+o.scrollWidth-o.clientWidth:-o.scrollLeft:t==i?o.scrollLeft:o.scrollWidth-o.clientWidth-o.scrollLeft}}return n.\u0275fac=function(t){return new(t||n)(b($e),b(Ob),b(ae),b(Yl,8))},n.\u0275dir=O({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0}),n})(),Pb=(()=>{class n{constructor(t,i,r){this._platform=t,this._change=new Ae,this._changeListener=o=>{this._change.next(o)},this._document=r,i.runOutsideAngular(()=>{if(t.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,i=this._getWindow(),r=t.documentElement,o=r.getBoundingClientRect();return{top:-o.top||t.body.scrollTop||i.scrollY||r.scrollTop||0,left:-o.left||t.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(C1(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(w(Qi),w(ae),w(ye,8))},n.\u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const D6=new I("VIRTUAL_SCROLLABLE");let mEe=(()=>{class n extends E6{constructor(t,i,r,o){super(t,i,r,o)}measureViewportSize(t){const i=this.elementRef.nativeElement;return"horizontal"===t?i.clientWidth:i.clientHeight}}return n.\u0275fac=function(t){return new(t||n)(b($e),b(Ob),b(ae),b(Yl,8))},n.\u0275dir=O({type:n,features:[K]}),n})();const _Ee=typeof requestAnimationFrame<"u"?Jxe:sEe;let yEe=(()=>{class n extends mEe{get orientation(){return this._orientation}set orientation(t){this._orientation!==t&&(this._orientation=t,this._calculateSpacerSize())}get appendOnly(){return this._appendOnly}set appendOnly(t){this._appendOnly=function bd(n){return null!=n&&"false"!=`${n}`}(t)}constructor(t,i,r,o,s,a,l,c){super(t,a,r,s),this.elementRef=t,this._changeDetectorRef=i,this._scrollStrategy=o,this.scrollable=c,this._platform=le(Qi),this._detachedSubject=new Ae,this._renderedRangeSubject=new Ae,this._orientation="vertical",this._appendOnly=!1,this.scrolledIndexChange=new We(u=>this._scrollStrategy.scrolledIndexChange.subscribe(d=>Promise.resolve().then(()=>this.ngZone.run(()=>u.next(d))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=Oe.EMPTY,this._viewportChanges=l.change().subscribe(()=>{this.checkViewportSize()}),this.scrollable||(this.elementRef.nativeElement.classList.add("cdk-virtual-scrollable"),this.scrollable=this)}ngOnInit(){this._platform.isBrowser&&(this.scrollable===this&&super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.scrollable.elementScrolled().pipe(jh(null),C1(0,_Ee)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()})))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),super.ngOnDestroy()}attach(t){this.ngZone.runOutsideAngular(()=>{this._forOf=t,this._forOf.dataStream.pipe(Do(this._detachedSubject)).subscribe(i=>{const r=i.length;r!==this._dataLength&&(this._dataLength=r,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}measureBoundingClientRectWithScrollOffset(t){return this.getElementRef().nativeElement.getBoundingClientRect()[t]}setTotalContentSize(t){this._totalContentSize!==t&&(this._totalContentSize=t,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(t){(function gEe(n,e){return n.start==e.start&&n.end==e.end})(this._renderedRange,t)||(this.appendOnly&&(t={start:0,end:Math.max(this._renderedRange.end,t.end)}),this._renderedRangeSubject.next(this._renderedRange=t),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(t,i="to-start"){t=this.appendOnly&&"to-start"===i?0:t;const o="horizontal"==this.orientation,s=o?"X":"Y";let l=`translate${s}(${Number((o&&this.dir&&"rtl"==this.dir.value?-1:1)*t)}px)`;this._renderedContentOffset=t,"to-end"===i&&(l+=` translate${s}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=l&&(this._renderedContentTransform=l,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(t,i="auto"){const r={behavior:i};"horizontal"===this.orientation?r.start=t:r.top=t,this.scrollable.scrollTo(r)}scrollToIndex(t,i="auto"){this._scrollStrategy.scrollToIndex(t,i)}measureScrollOffset(t){let i;return i=this.scrollable==this?r=>super.measureScrollOffset(r):r=>this.scrollable.measureScrollOffset(r),Math.max(0,i(t??("horizontal"===this.orientation?"start":"top"))-this.measureViewportOffset())}measureViewportOffset(t){let i;const r="left",o="right",s="rtl"==this.dir?.value;i="start"==t?s?o:r:"end"==t?s?r:o:t||("horizontal"===this.orientation?"left":"top");const a=this.scrollable.measureBoundingClientRectWithScrollOffset(i);return this.elementRef.nativeElement.getBoundingClientRect()[i]-a}measureRenderedContentSize(){const t=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?t.offsetWidth:t.offsetHeight}measureRangeSize(t){return this._forOf?this._forOf.measureRangeSize(t,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){this._viewportSize=this.scrollable.measureViewportSize(this.orientation)}_markChangeDetectionNeeded(t){t&&this._runAfterChangeDetection.push(t),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run(()=>this._changeDetectorRef.markForCheck());const t=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const i of t)i()}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":`${this._totalContentSize}px`,this._totalContentWidth="horizontal"===this.orientation?`${this._totalContentSize}px`:""}}return n.\u0275fac=function(t){return new(t||n)(b($e),b(au),b(ae),b(hEe,8),b(Yl,8),b(Ob),b(Pb),b(D6,8))},n.\u0275cmp=lt({type:n,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(t,i){if(1&t&&oo(uEe,7),2&t){let r;dn(r=hn())&&(i._contentWrapper=r.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(t,i){2&t&&no("cdk-virtual-scroll-orientation-horizontal","horizontal"===i.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==i.orientation)},inputs:{orientation:"orientation",appendOnly:"appendOnly"},outputs:{scrolledIndexChange:"scrolledIndexChange"},standalone:!0,features:[_e([{provide:E6,useFactory:(e,t)=>e||t,deps:[[new ze,new bg(D6)],n]}]),K,lx],ngContentSelectors:dEe,decls:4,vars:4,consts:[[1,"cdk-virtual-scroll-content-wrapper"],["contentWrapper",""],[1,"cdk-virtual-scroll-spacer"]],template:function(t,i){1&t&&(function el(n){const e=T()[Qn][Yn];if(!e.projection){const i=e.projection=ch(n?n.length:1,null),r=i.slice();let o=e.child;for(;null!==o;){const s=n?Ree(o,n):0;null!==s&&(r[s]?r[s].projectionNext=o:i[s]=o,r[s]=o),o=o.next}}}(),X(0,"div",0,1),function zi(n,e=0,t){const i=T(),r=Le(),o=zc(r,gt+n,16,null,t||null);null===o.projection&&(o.projection=e),k0(),32!=(32&o.flags)&&function WX(n,e,t){XF(e[xe],0,e,t,HF(n,t,e),WF(t.parent||e[Yn],t,e))}(r,i,o)}(2),Q(),je(3,"div",2)),2&t&&(ln(3),nl("width",i._totalContentWidth)("height",i._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;transform:translateZ(0)}.cdk-virtual-scrollable{overflow:auto;will-change:scroll-position;contain:strict;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{height:1px;transform-origin:0 0;flex:0 0 auto}[dir=rtl] .cdk-virtual-scroll-spacer{transform-origin:100% 0}"],encapsulation:2,changeDetection:0}),n})(),Jp=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ce({type:n}),n.\u0275inj=se({}),n})(),x1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ce({type:n}),n.\u0275inj=se({imports:[Kp,Jp,yEe,Kp,Jp]}),n})(),OEe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ce({type:n}),n.\u0275inj=se({imports:[x1]}),n})();function $b(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function k6(n){return ei((e,t)=>n<=t)}function jEe(n,e){return n===e}let HEe=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),O6=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ce({type:n}),n.\u0275inj=se({providers:[HEe]}),n})();const P6=new Set;let Sd,$Ee=(()=>{class n{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):WEe}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function GEe(n){if(!P6.has(n))try{Sd||(Sd=document.createElement("style"),Sd.setAttribute("type","text/css"),document.head.appendChild(Sd)),Sd.sheet&&(Sd.sheet.insertRule(`@media ${n} {body{ }}`,0),P6.add(n))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}return n.\u0275fac=function(t){return new(t||n)(w(Qi))},n.\u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function WEe(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let qEe=(()=>{class n{constructor(t,i){this._mediaMatcher=t,this._zone=i,this._queries=new Map,this._destroySubject=new Ae}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return N6(Tb(t)).some(r=>this._registerQuery(r).mql.matches)}observe(t){let o=dE(N6(Tb(t)).map(s=>this._registerQuery(s).observable));return o=x_(o.pipe(Ti(1)),o.pipe(k6(1),function zEe(n,e=My){return Rt((t,i)=>{let r=null,o=null,s=null;const a=()=>{if(r){r.unsubscribe(),r=null;const c=o;o=null,i.next(c)}};function l(){const c=s+n,u=e.now();if(u<c)return r=this.schedule(void 0,c-u),void i.add(r);a()}t.subscribe(bt(i,c=>{o=c,s=e.now(),r||(r=e.schedule(l,n),i.add(r))},()=>{a(),i.complete()},void 0,()=>{o=r=null}))})}(0))),o.pipe(ie(s=>{const a={matches:!1,breakpoints:{}};return s.forEach(({matches:l,query:c})=>{a.matches=a.matches||l,a.breakpoints[c]=l}),a}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const i=this._mediaMatcher.matchMedia(t),o={observable:new We(s=>{const a=l=>this._zone.run(()=>s.next(l));return i.addListener(a),()=>{i.removeListener(a)}}).pipe(jh(i),ie(({matches:s})=>({query:t,matches:s})),Do(this._destroySubject)),mql:i};return this._queries.set(t,o),o}}return n.\u0275fac=function(t){return new(t||n)(w($Ee),w(ae))},n.\u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function N6(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}let Gb=(()=>{class n{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function XEe(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const i=function QEe(n){try{return n.frameElement}catch{return null}}(function oDe(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(t));if(i&&(-1===B6(i)||!this.isVisible(i)))return!1;let r=t.nodeName.toLowerCase(),o=B6(t);return t.hasAttribute("contenteditable")?-1!==o:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function iDe(n){let e=n.nodeName.toLowerCase(),t="input"===e&&n.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===r?!!t.hasAttribute("controls")&&-1!==o:"video"===r?-1!==o&&(null!==o||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,i){return function rDe(n){return!function JEe(n){return function tDe(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function ZEe(n){let e=n.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(n)||function eDe(n){return function nDe(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||V6(n))}(t)&&!this.isDisabled(t)&&(i?.ignoreVisibility||this.isVisible(t))}}return n.\u0275fac=function(t){return new(t||n)(w(Qi))},n.\u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function V6(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let e=n.getAttribute("tabindex");return!(!e||isNaN(parseInt(e,10)))}function B6(n){if(!V6(n))return null;const e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class sDe{get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}constructor(e,t,i,r,o=!1){this._element=e,this._checker=t,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,o||this.attachAnchors()}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){const t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){const i=this._getFirstTabbableElement(t);return i?.focus(e),!!i}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){const t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){const t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=0;i<t.length;i++){const r=t[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[i]):null;if(r)return r}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=t.length-1;i>=0;i--){const r=t[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[i]):null;if(r)return r}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe(Ti(1)).subscribe(e)}}let P1=(()=>{class n{constructor(t,i,r){this._checker=t,this._ngZone=i,this._document=r}create(t,i=!1){return new sDe(t,this._checker,this._ngZone,this._document,i)}}return n.\u0275fac=function(t){return new(t||n)(w(Gb),w(ae),w(ye))},n.\u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function U6(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function j6(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const aDe=new I("cdk-input-modality-detector-options"),lDe={ignoreKeys:[18,17,224,91,16]},Td=xd({passive:!0,capture:!0});let cDe=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(t,i,r,o){this._platform=t,this._mostRecentTarget=null,this._modality=new $i(null),this._lastTouchMs=0,this._onKeydown=s=>{this._options?.ignoreKeys?.some(a=>a===s.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Ea(s))},this._onMousedown=s=>{Date.now()-this._lastTouchMs<650||(this._modality.next(U6(s)?"keyboard":"mouse"),this._mostRecentTarget=Ea(s))},this._onTouchstart=s=>{j6(s)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Ea(s))},this._options={...lDe,...o},this.modalityDetected=this._modality.pipe(k6(1)),this.modalityChanged=this.modalityDetected.pipe(function UEe(n,e=Os){return n=n??jEe,Rt((t,i)=>{let r,o=!0;t.subscribe(bt(i,s=>{const a=e(s);(o||!n(r,a))&&(o=!1,r=a,i.next(s))}))})}()),t.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,Td),r.addEventListener("mousedown",this._onMousedown,Td),r.addEventListener("touchstart",this._onTouchstart,Td)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Td),document.removeEventListener("mousedown",this._onMousedown,Td),document.removeEventListener("touchstart",this._onTouchstart,Td))}}return n.\u0275fac=function(t){return new(t||n)(w(Qi),w(ae),w(ye),w(aDe,8))},n.\u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const dDe=new I("cdk-focus-monitor-default-options"),Wb=xd({passive:!0,capture:!0});let N1=(()=>{class n{constructor(t,i,r,o,s){this._ngZone=t,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Ae,this._rootNodeFocusAndBlurListener=a=>{for(let c=Ea(a);c;c=c.parentElement)"focus"===a.type?this._onFocus(a,c):this._onBlur(a,c)},this._document=o,this._detectionMode=s?.detectionMode||0}monitor(t,i=!1){const r=wd(t);if(!this._platform.isBrowser||1!==r.nodeType)return G(null);const o=function $xe(n){if(function zxe(){if(null==y1){const n=typeof document<"u"?document.head:null;y1=!(!n||!n.createShadowRoot&&!n.attachShadow)}return y1}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(r)||this._getDocument(),s=this._elementInfo.get(r);if(s)return i&&(s.checkChildren=!0),s.subject;const a={checkChildren:i,subject:new Ae,rootNode:o};return this._elementInfo.set(r,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(t){const i=wd(t),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(t,i,r){const o=wd(t);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(([a,l])=>this._originChanged(a,i,l)):(this._setOrigin(i),"function"==typeof o.focus&&o.focus(r))}ngOnDestroy(){this._elementInfo.forEach((t,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,i){t.classList.toggle("cdk-focused",!!i),t.classList.toggle("cdk-touch-focused","touch"===i),t.classList.toggle("cdk-keyboard-focused","keyboard"===i),t.classList.toggle("cdk-mouse-focused","mouse"===i),t.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(t,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,i){const r=this._elementInfo.get(i),o=Ea(t);!r||!r.checkChildren&&i!==o||this._originChanged(i,this._getFocusOrigin(o),r)}_onBlur(t,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&t.relatedTarget instanceof Node&&i.contains(t.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(t,i){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(i))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const i=t.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,Wb),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,Wb)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Do(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(t){const i=t.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Wb),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Wb),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,i,r){this._setClasses(t,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(t){const i=[];return this._elementInfo.forEach((r,o)=>{(o===t||r.checkChildren&&o.contains(t))&&i.push([o,r])}),i}_isLastInteractionFromInputLabel(t){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===t||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||t.disabled)return!1;const o=t.labels;if(o)for(let s=0;s<o.length;s++)if(o[s].contains(i))return!0;return!1}}return n.\u0275fac=function(t){return new(t||n)(w(ae),w(Qi),w(cDe),w(ye,8),w(dDe,8))},n.\u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const z6="cdk-high-contrast-black-on-white",$6="cdk-high-contrast-white-on-black",F1="cdk-high-contrast-active";let G6=(()=>{class n{constructor(t,i){this._platform=t,this._document=i,this._breakpointSubscription=le(qEe).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(t):null,o=(r&&r.backgroundColor||"").replace(/ /g,"");switch(t.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(F1,z6,$6),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?t.add(F1,z6):2===i&&t.add(F1,$6)}}}return n.\u0275fac=function(t){return new(t||n)(w(Qi),w(ye))},n.\u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),L1=(()=>{class n{constructor(t){t._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(t){return new(t||n)(w(G6))},n.\u0275mod=ce({type:n}),n.\u0275inj=se({imports:[O6]}),n})();const fDe=new I("mat-sanity-checks",{providedIn:"root",factory:function hDe(){return!0}});let ot=(()=>{class n{constructor(t,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!b1()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(w(G6),w(fDe,8),w(ye))},n.\u0275mod=ce({type:n}),n.\u0275inj=se({imports:[Kp,Kp]}),n})();const pDe=new I("MAT_DATE_LOCALE",{providedIn:"root",factory:function mDe(){return le(ao)}});class Io{constructor(){this._localeChanges=new Ae,this.localeChanges=this._localeChanges}getValidDateOrNull(e){return this.isDateInstance(e)&&this.isValid(e)?e:null}deserialize(e){return null==e||this.isDateInstance(e)&&this.isValid(e)?e:this.invalid()}setLocale(e){this.locale=e,this._localeChanges.next()}compareDate(e,t){return this.getYear(e)-this.getYear(t)||this.getMonth(e)-this.getMonth(t)||this.getDate(e)-this.getDate(t)}sameDate(e,t){if(e&&t){let i=this.isValid(e),r=this.isValid(t);return i&&r?!this.compareDate(e,t):i==r}return e==t}clampDate(e,t,i){return t&&this.compareDate(e,t)<0?t:i&&this.compareDate(e,i)>0?i:e}}const V1=new I("mat-date-formats"),gDe=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function B1(n,e){const t=Array(n);for(let i=0;i<n;i++)t[i]=e(i);return t}let _De=(()=>{class n extends Io{constructor(t,i){super(),this.useUtcForDisplay=!1,super.setLocale(t)}getYear(t){return t.getFullYear()}getMonth(t){return t.getMonth()}getDate(t){return t.getDate()}getDayOfWeek(t){return t.getDay()}getMonthNames(t){const i=new Intl.DateTimeFormat(this.locale,{month:t,timeZone:"utc"});return B1(12,r=>this._format(i,new Date(2017,r,1)))}getDateNames(){const t=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return B1(31,i=>this._format(t,new Date(2017,0,i+1)))}getDayOfWeekNames(t){const i=new Intl.DateTimeFormat(this.locale,{weekday:t,timeZone:"utc"});return B1(7,r=>this._format(i,new Date(2017,0,r+1)))}getYearName(t){const i=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(i,t)}getFirstDayOfWeek(){return 0}getNumDaysInMonth(t){return this.getDate(this._createDateWithOverflow(this.getYear(t),this.getMonth(t)+1,0))}clone(t){return new Date(t.getTime())}createDate(t,i,r){let o=this._createDateWithOverflow(t,i,r);return o.getMonth(),o}today(){return new Date}parse(t,i){return"number"==typeof t?new Date(t):t?new Date(Date.parse(t)):null}format(t,i){if(!this.isValid(t))throw Error("NativeDateAdapter: Cannot format invalid date.");const r=new Intl.DateTimeFormat(this.locale,{...i,timeZone:"utc"});return this._format(r,t)}addCalendarYears(t,i){return this.addCalendarMonths(t,12*i)}addCalendarMonths(t,i){let r=this._createDateWithOverflow(this.getYear(t),this.getMonth(t)+i,this.getDate(t));return this.getMonth(r)!=((this.getMonth(t)+i)%12+12)%12&&(r=this._createDateWithOverflow(this.getYear(r),this.getMonth(r),0)),r}addCalendarDays(t,i){return this._createDateWithOverflow(this.getYear(t),this.getMonth(t),this.getDate(t)+i)}toIso8601(t){return[t.getUTCFullYear(),this._2digit(t.getUTCMonth()+1),this._2digit(t.getUTCDate())].join("-")}deserialize(t){if("string"==typeof t){if(!t)return null;if(gDe.test(t)){let i=new Date(t);if(this.isValid(i))return i}}return super.deserialize(t)}isDateInstance(t){return t instanceof Date}isValid(t){return!isNaN(t.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(t,i,r){const o=new Date;return o.setFullYear(t,i,r),o.setHours(0,0,0,0),o}_2digit(t){return("00"+t).slice(-2)}_format(t,i){const r=new Date;return r.setUTCFullYear(i.getFullYear(),i.getMonth(),i.getDate()),r.setUTCHours(i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()),t.format(r)}}return n.\u0275fac=function(t){return new(t||n)(w(pDe,8),w(Qi))},n.\u0275prov=k({token:n,factory:n.\u0275fac}),n})();const yDe={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let vDe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ce({type:n}),n.\u0275inj=se({providers:[{provide:Io,useClass:_De}]}),n})(),bDe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ce({type:n}),n.\u0275inj=se({providers:[{provide:V1,useValue:yDe}],imports:[vDe]}),n})(),K6=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ce({type:n}),n.\u0275inj=se({imports:[ot,ot]}),n})();class wDe{constructor(e,t,i,r=!1){this._renderer=e,this.element=t,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const Y6=xd({passive:!0,capture:!0});class CDe{constructor(){this._events=new Map,this._delegateEventHandler=e=>{const t=Ea(e);t&&this._events.get(e.type)?.forEach((i,r)=>{(r===t||r.contains(t))&&i.forEach(o=>o.handleEvent(e))})}}addHandler(e,t,i,r){const o=this._events.get(t);if(o){const s=o.get(i);s?s.add(r):o.set(i,new Set([r]))}else this._events.set(t,new Map([[i,new Set([r])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,Y6)})}removeHandler(e,t,i){const r=this._events.get(e);if(!r)return;const o=r.get(t);o&&(o.delete(i),0===o.size&&r.delete(t),0===r.size&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,Y6)))}}const Q6={enterDuration:225,exitDuration:150},X6=xd({passive:!0,capture:!0}),Z6=["mousedown","touchstart"],J6=["mouseup","mouseleave","touchend","touchcancel"];class qb{constructor(e,t,i,r){this._target=e,this._ngZone=t,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=wd(i))}fadeInRipple(e,t,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o={...Q6,...i.animation};i.centered&&(e=r.left+r.width/2,t=r.top+r.height/2);const s=i.radius||function EDe(n,e,t){const i=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),r=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(i*i+r*r)}(e,t,r),a=e-r.left,l=t-r.top,c=o.enterDuration,u=document.createElement("div");u.classList.add("mat-ripple-element"),u.style.left=a-s+"px",u.style.top=l-s+"px",u.style.height=2*s+"px",u.style.width=2*s+"px",null!=i.color&&(u.style.backgroundColor=i.color),u.style.transitionDuration=`${c}ms`,this._containerElement.appendChild(u);const d=window.getComputedStyle(u),f=d.transitionDuration,p="none"===d.transitionProperty||"0s"===f||"0s, 0s"===f||0===r.width&&0===r.height,m=new wDe(this,u,i,p);u.style.transform="scale3d(1, 1, 1)",m.state=0,i.persistent||(this._mostRecentTransientRipple=m);let g=null;return!p&&(c||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const y=()=>this._finishRippleTransition(m),x=()=>this._destroyRipple(m);u.addEventListener("transitionend",y),u.addEventListener("transitioncancel",x),g={onTransitionEnd:y,onTransitionCancel:x}}),this._activeRipples.set(m,g),(p||!c)&&this._finishRippleTransition(m),m}fadeOutRipple(e){if(2===e.state||3===e.state)return;const t=e.element,i={...Q6,...e.config.animation};t.style.transitionDuration=`${i.exitDuration}ms`,t.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=wd(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,Z6.forEach(i=>{qb._eventManager.addHandler(this._ngZone,i,t,this)}))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{J6.forEach(t=>{this._triggerElement.addEventListener(t,this,X6)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){0===e.state?this._startFadeOutTransition(e):2===e.state&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:i}=e.config;e.state=1,!i&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,null!==t&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel)),e.element.remove()}_onMousedown(e){const t=U6(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!j6(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let i=0;i<t.length;i++)this.fadeInRipple(t[i].clientX,t[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const e=this._triggerElement;e&&(Z6.forEach(t=>qb._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&J6.forEach(t=>e.removeEventListener(t,this,X6)))}}qb._eventManager=new CDe;let e8=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ce({type:n}),n.\u0275inj=se({imports:[ot,ot]}),n})(),DDe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ce({type:n}),n.\u0275inj=se({imports:[ot]}),n})(),t8=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ce({type:n}),n.\u0275inj=se({imports:[e8,js,ot,DDe]}),n})(),HDe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ce({type:n}),n.\u0275inj=se({imports:[ot,OEe,ot]}),n})(),U1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ce({type:n}),n.\u0275inj=se({imports:[ot,e8,ot]}),n})();class j1{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class H1 extends j1{constructor(e,t,i,r,o){super(),this.component=e,this.viewContainerRef=t,this.injector=i,this.componentFactoryResolver=r,this.projectableNodes=o}}class l8 extends j1{constructor(e,t,i,r){super(),this.templateRef=e,this.viewContainerRef=t,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class WDe extends j1{constructor(e){super(),this.element=e instanceof $e?e.nativeElement:e}}class z1{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof H1?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof l8?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof WDe?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class qDe extends z1{constructor(e,t,i,r,o){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=s=>{const a=s.element,l=this._document.createComment("dom-portal");a.parentNode.insertBefore(l,a),this.outletElement.appendChild(a),this._attachedPortal=s,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(a,l)})},this._document=o}attachComponentPortal(e){const i=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let r;return e.viewContainerRef?(r=e.viewContainerRef.createComponent(i,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector,e.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=i.create(e.injector||this._defaultInjector||Ot.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=e,r}attachTemplatePortal(e){let t=e.viewContainerRef,i=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=t.indexOf(i);-1!==r&&t.remove(r)}),this._attachedPortal=e,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let $1=(()=>{class n extends z1{constructor(t,i,r){super(),this._componentFactoryResolver=t,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new nt,this.attachDomPortal=o=>{const s=o.element,a=this._document.createComment("dom-portal");o.setAttachedHost(this),s.parentNode.insertBefore(a,s),this._getRootNode().appendChild(s),this._attachedPortal=o,super.setDisposeFn(()=>{a.parentNode&&a.parentNode.replaceChild(s,a)})},this._document=r}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(t){t.setAttachedHost(this);const i=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,o=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),s=i.createComponent(o,i.length,t.injector||i.injector,t.projectableNodes||void 0);return i!==this._viewContainerRef&&this._getRootNode().appendChild(s.hostView.rootNodes[0]),super.setDisposeFn(()=>s.destroy()),this._attachedPortal=t,this._attachedRef=s,this.attached.emit(s),s}attachTemplatePortal(t){t.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return n.\u0275fac=function(t){return new(t||n)(b(Xa),b(Nn),b(ye))},n.\u0275dir=O({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[K]}),n})(),im=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ce({type:n}),n.\u0275inj=se({}),n})();const c8=w6();class KDe{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=nn(-this._previousScrollPosition.left),e.style.top=nn(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,i=e.style,r=this._document.body.style,o=i.scrollBehavior||"",s=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),c8&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),c8&&(i.scrollBehavior=o,r.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,i=this._viewportRuler.getViewportSize();return t.scrollHeight>i.height||t.scrollWidth>i.width}}class YDe{constructor(e,t,i,r){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0).pipe(ei(t=>!t||!this._overlayRef.overlayElement.contains(t.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class u8{enable(){}disable(){}attach(){}}function G1(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function d8(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class QDe{constructor(e,t,i,r){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();G1(t,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let XDe=(()=>{class n{constructor(t,i,r,o){this._scrollDispatcher=t,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new u8,this.close=s=>new YDe(this._scrollDispatcher,this._ngZone,this._viewportRuler,s),this.block=()=>new KDe(this._viewportRuler,this._document),this.reposition=s=>new QDe(this._scrollDispatcher,this._viewportRuler,this._ngZone,s),this._document=o}}return n.\u0275fac=function(t){return new(t||n)(w(Ob),w(Pb),w(ae),w(ye))},n.\u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class h8{constructor(e){if(this.scrollStrategy=new u8,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const i of t)void 0!==e[i]&&(this[i]=e[i])}}}class ZDe{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let f8=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const i=this._attachedOverlays.indexOf(t);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(t){return new(t||n)(w(ye))},n.\u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),JDe=(()=>{class n extends f8{constructor(t,i){super(t),this._ngZone=i,this._keydownListener=r=>{const o=this._attachedOverlays;for(let s=o.length-1;s>-1;s--)if(o[s]._keydownEvents.observers.length>0){const a=o[s]._keydownEvents;this._ngZone?this._ngZone.run(()=>a.next(r)):a.next(r);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(t){return new(t||n)(w(ye),w(ae,8))},n.\u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),eIe=(()=>{class n extends f8{constructor(t,i,r){super(t),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=Ea(o)},this._clickListener=o=>{const s=Ea(o),a="click"===o.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:s;this._pointerDownEventTarget=null;const l=this._attachedOverlays.slice();for(let c=l.length-1;c>-1;c--){const u=l[c];if(u._outsidePointerEvents.observers.length<1||!u.hasAttached())continue;if(u.overlayElement.contains(s)||u.overlayElement.contains(a))break;const d=u._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>d.next(o)):d.next(o)}}}add(t){if(super.add(t),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(t){return new(t||n)(w(ye),w(Qi),w(ae,8))},n.\u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Kb=(()=>{class n{constructor(t,i){this._platform=i,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||b1()){const r=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let o=0;o<r.length;o++)r[o].remove()}const i=this._document.createElement("div");i.classList.add(t),b1()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(t){return new(t||n)(w(ye),w(Qi))},n.\u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class rm{constructor(e,t,i,r,o,s,a,l,c,u=!1){this._portalOutlet=e,this._host=t,this._pane=i,this._config=r,this._ngZone=o,this._keyboardDispatcher=s,this._document=a,this._location=l,this._outsideClickDispatcher=c,this._animationsDisabled=u,this._backdropElement=null,this._backdropClick=new Ae,this._attachments=new Ae,this._detachments=new Ae,this._locationChanges=Oe.EMPTY,this._backdropClickHandler=d=>this._backdropClick.next(d),this._backdropTransitionendHandler=d=>{this._disposeBackdrop(d.target)},this._keydownEvents=new Ae,this._outsidePointerEvents=new Ae,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Ti(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof t?.onDestroy&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config={...this._config,...e},this._updateElementSize()}setDirection(e){this._config={...this._config,direction:e},this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=nn(this._config.width),e.height=nn(this._config.height),e.minWidth=nn(this._config.minWidth),e.minHeight=nn(this._config.minHeight),e.maxWidth=nn(this._config.maxWidth),e.maxHeight=nn(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(e){if(this._animationsDisabled)return void this._disposeBackdrop(e);e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,t,i){const r=Tb(t||[]).filter(o=>!!o);r.length&&(i?e.classList.add(...r):e.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(Do(p0(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const p8="cdk-overlay-connected-position-bounding-box",tIe=/([A-Za-z%]+)$/;class nIe{get positions(){return this._preferredPositions}constructor(e,t,i,r,o){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Ae,this._resizeSubscription=Oe.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}attach(e){this._validatePositions(),e.hostElement.classList.add(p8),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,i=this._viewportRect,r=this._containerRect,o=[];let s;for(let a of this._preferredPositions){let l=this._getOriginPoint(e,r,a),c=this._getOverlayPoint(l,t,a),u=this._getOverlayFit(c,t,i,a);if(u.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(a,l);this._canFitWithFlexibleDimensions(u,c,i)?o.push({position:a,origin:l,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(l,a)}):(!s||s.overlayFit.visibleArea<u.visibleArea)&&(s={overlayFit:u,overlayPoint:c,originPoint:l,position:a,overlayRect:t})}if(o.length){let a=null,l=-1;for(const c of o){const u=c.boundingBoxRect.width*c.boundingBoxRect.height*(c.position.weight||1);u>l&&(l=u,a=c)}return this._isPushed=!1,void this._applyPosition(a.position,a.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(s.position,s.originPoint);this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Xl(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(p8),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,i){let r,o;if("center"==i.originX)r=e.left+e.width/2;else{const s=this._isRtl()?e.right:e.left,a=this._isRtl()?e.left:e.right;r="start"==i.originX?s:a}return t.left<0&&(r-=t.left),o="center"==i.originY?e.top+e.height/2:"top"==i.originY?e.top:e.bottom,t.top<0&&(o-=t.top),{x:r,y:o}}_getOverlayPoint(e,t,i){let r,o;return r="center"==i.overlayX?-t.width/2:"start"===i.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,o="center"==i.overlayY?-t.height/2:"top"==i.overlayY?0:-t.height,{x:e.x+r,y:e.y+o}}_getOverlayFit(e,t,i,r){const o=g8(t);let{x:s,y:a}=e,l=this._getOffset(r,"x"),c=this._getOffset(r,"y");l&&(s+=l),c&&(a+=c);let h=0-a,f=a+o.height-i.height,p=this._subtractOverflows(o.width,0-s,s+o.width-i.width),m=this._subtractOverflows(o.height,h,f),g=p*m;return{visibleArea:g,isCompletelyWithinViewport:o.width*o.height===g,fitsInViewportVertically:m===o.height,fitsInViewportHorizontally:p==o.width}}_canFitWithFlexibleDimensions(e,t,i){if(this._hasFlexibleDimensions){const r=i.bottom-t.y,o=i.right-t.x,s=m8(this._overlayRef.getConfig().minHeight),a=m8(this._overlayRef.getConfig().minWidth);return(e.fitsInViewportVertically||null!=s&&s<=r)&&(e.fitsInViewportHorizontally||null!=a&&a<=o)}return!1}_pushOverlayOnScreen(e,t,i){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const r=g8(t),o=this._viewportRect,s=Math.max(e.x+r.width-o.width,0),a=Math.max(e.y+r.height-o.height,0),l=Math.max(o.top-i.top-e.y,0),c=Math.max(o.left-i.left-e.x,0);let u=0,d=0;return u=r.width<=o.width?c||-s:e.x<this._viewportMargin?o.left-i.left-e.x:0,d=r.height<=o.height?l||-a:e.y<this._viewportMargin?o.top-i.top-e.y:0,this._previousPushAmount={x:u,y:d},{x:e.x+u,y:e.y+d}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new ZDe(e,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=e.overlayY;i="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let o=0;o<t.length;o++)t[o].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(e,t){const i=this._viewportRect,r=this._isRtl();let o,s,a,u,d,h;if("top"===t.overlayY)s=e.y,o=i.height-s+this._viewportMargin;else if("bottom"===t.overlayY)a=i.height-e.y+2*this._viewportMargin,o=i.height-a+this._viewportMargin;else{const f=Math.min(i.bottom-e.y+i.top,e.y),p=this._lastBoundingBoxSize.height;o=2*f,s=e.y-f,o>p&&!this._isInitialRender&&!this._growAfterOpen&&(s=e.y-p/2)}if("end"===t.overlayX&&!r||"start"===t.overlayX&&r)h=i.width-e.x+this._viewportMargin,u=e.x-this._viewportMargin;else if("start"===t.overlayX&&!r||"end"===t.overlayX&&r)d=e.x,u=i.right-e.x;else{const f=Math.min(i.right-e.x+i.left,e.x),p=this._lastBoundingBoxSize.width;u=2*f,d=e.x-f,u>p&&!this._isInitialRender&&!this._growAfterOpen&&(d=e.x-p/2)}return{top:s,left:d,bottom:a,right:h,width:u,height:o}}_setBoundingBoxStyles(e,t){const i=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const o=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;r.height=nn(i.height),r.top=nn(i.top),r.bottom=nn(i.bottom),r.width=nn(i.width),r.left=nn(i.left),r.right=nn(i.right),r.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",r.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",o&&(r.maxHeight=nn(o)),s&&(r.maxWidth=nn(s))}this._lastBoundingBoxSize=i,Xl(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Xl(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Xl(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const i={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(r){const u=this._viewportRuler.getViewportScrollPosition();Xl(i,this._getExactOverlayY(t,e,u)),Xl(i,this._getExactOverlayX(t,e,u))}else i.position="static";let a="",l=this._getOffset(t,"x"),c=this._getOffset(t,"y");l&&(a+=`translateX(${l}px) `),c&&(a+=`translateY(${c}px)`),i.transform=a.trim(),s.maxHeight&&(r?i.maxHeight=nn(s.maxHeight):o&&(i.maxHeight="")),s.maxWidth&&(r?i.maxWidth=nn(s.maxWidth):o&&(i.maxWidth="")),Xl(this._pane.style,i)}_getExactOverlayY(e,t,i){let r={top:"",bottom:""},o=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),"bottom"===e.overlayY?r.bottom=this._document.documentElement.clientHeight-(o.y+this._overlayRect.height)+"px":r.top=nn(o.y),r}_getExactOverlayX(e,t,i){let s,r={left:"",right:""},o=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),s=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===s?r.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":r.left=nn(o.x),r}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:d8(e,i),isOriginOutsideView:G1(e,i),isOverlayClipped:d8(t,i),isOverlayOutsideView:G1(t,i)}}_subtractOverflows(e,...t){return t.reduce((i,r)=>i-Math.max(r,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+e-this._viewportMargin,bottom:i.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&Tb(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof $e)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,i=e.height||0;return{top:e.y,bottom:e.y+i,left:e.x,right:e.x+t,height:i,width:t}}}function Xl(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function m8(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(tIe);return t&&"px"!==t?null:parseFloat(e)}return n||null}function g8(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const _8="cdk-global-overlay-wrapper";class iIe{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(_8),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:s,maxHeight:a}=i,l=!("100%"!==r&&"100vw"!==r||s&&"100%"!==s&&"100vw"!==s),c=!("100%"!==o&&"100vh"!==o||a&&"100%"!==a&&"100vh"!==a),u=this._xPosition,d=this._xOffset,h="rtl"===this._overlayRef.getConfig().direction;let f="",p="",m="";l?m="flex-start":"center"===u?(m="center",h?p=d:f=d):h?"left"===u||"end"===u?(m="flex-end",f=d):("right"===u||"start"===u)&&(m="flex-start",p=d):"left"===u||"start"===u?(m="flex-start",f=d):("right"===u||"end"===u)&&(m="flex-end",p=d),e.position=this._cssPosition,e.marginLeft=l?"0":f,e.marginTop=c?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=l?"0":p,t.justifyContent=m,t.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,i=t.style;t.classList.remove(_8),i.justifyContent=i.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let rIe=(()=>{class n{constructor(t,i,r,o){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=o}global(){return new iIe}flexibleConnectedTo(t){return new nIe(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(t){return new(t||n)(w(Pb),w(ye),w(Qi),w(Kb))},n.\u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),oIe=0,Ds=(()=>{class n{constructor(t,i,r,o,s,a,l,c,u,d,h,f){this.scrollStrategies=t,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=o,this._keyboardDispatcher=s,this._injector=a,this._ngZone=l,this._document=c,this._directionality=u,this._location=d,this._outsideClickDispatcher=h,this._animationsModuleType=f}create(t){const i=this._createHostElement(),r=this._createPaneElement(i),o=this._createPortalOutlet(r),s=new h8(t);return s.direction=s.direction||this._directionality.value,new rm(o,i,r,s,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(t){const i=this._document.createElement("div");return i.id="cdk-overlay-"+oIe++,i.classList.add("cdk-overlay-pane"),t.appendChild(i),i}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(su)),new qDe(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(t){return new(t||n)(w(XDe),w(Kb),w(Xa),w(rIe),w(JDe),w(Ot),w(ae),w(ye),w(Yl),w(Nh),w(eIe),w(Oh,8))},n.\u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const lIe={provide:new I("cdk-connected-overlay-scroll-strategy"),deps:[Ds],useFactory:function aIe(n){return()=>n.scrollStrategies.reposition()}};let om=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ce({type:n}),n.\u0275inj=se({providers:[Ds,lIe],imports:[Kp,im,x1,x1]}),n})();class y8{}class cIe{}const Is="*";function b8(n,e=null){return{type:2,steps:n,options:e}}function rn(n){return{type:6,styles:n,offset:null}}function C8(n){Promise.resolve().then(n)}class sm{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){C8(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class x8{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0;const o=this.players.length;0==o?C8(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++t==o&&this._onFinish()}),s.onDestroy(()=>{++i==o&&this._onDestroy()}),s.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}const K1="!";let Yb=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ce({type:n}),n.\u0275inj=se({imports:[ot,js,O6,ot]}),n})();const wIe={provide:new I("mat-select-scroll-strategy"),deps:[Ds],useFactory:function bIe(n){return()=>n.scrollStrategies.reposition()}};let E8=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ce({type:n}),n.\u0275inj=se({providers:[wIe],imports:[js,om,t8,ot,Jp,Yb,t8,ot]}),n})();const DIe={provide:new I("mat-tooltip-scroll-strategy"),deps:[Ds],useFactory:function EIe(n){return()=>n.scrollStrategies.reposition({scrollThrottle:20})}};let SIe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ce({type:n}),n.\u0275inj=se({providers:[DIe],imports:[L1,js,om,ot,ot,Jp]}),n})(),Y1=(()=>{class n{constructor(){this.changes=new Ae,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(t,i,r)=>{if(0==r||0==i)return`0 of ${r}`;const o=t*i;return`${o+1} \u2013 ${o<(r=Math.max(r,0))?Math.min(o+i,r):o+i} of ${r}`}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const kIe={provide:Y1,deps:[[new ze,new Kr,Y1]],useFactory:function RIe(n){return n||new Y1}};let OIe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ce({type:n}),n.\u0275inj=se({providers:[kIe],imports:[js,U1,E8,SIe]}),n})(),PIe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ce({type:n}),n.\u0275inj=se({}),n})(),FIe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ce({type:n}),n.\u0275inj=se({imports:[ot,Yb,Yb,PIe,ot]}),n})(),BIe=(()=>{class n{constructor(){this.changes=new Ae,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year",this.startDateLabel="Start date",this.endDateLabel="End date"}formatYearRange(t,i){return`${t} \u2013 ${i}`}formatYearRangeLabel(t,i){return`${t} to ${i}`}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const YIe={provide:new I("mat-datepicker-scroll-strategy"),deps:[Ds],useFactory:function KIe(n){return()=>n.scrollStrategies.reposition()}};let nSe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ce({type:n}),n.\u0275inj=se({providers:[BIe,YIe],imports:[js,U1,om,L1,im,ot,Jp]}),n})(),xSe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ce({type:n}),n.\u0275inj=se({imports:[ot,js,ot]}),n})(),ASe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ce({type:n}),n.\u0275inj=se({imports:[ot,ot]}),n})();function MSe(n,e){}class ew{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}}let O8=(()=>{class n extends z1{constructor(t,i,r,o,s,a,l,c){super(),this._elementRef=t,this._focusTrapFactory=i,this._config=o,this._interactivityChecker=s,this._ngZone=a,this._overlayRef=l,this._focusMonitor=c,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=u=>{this._portalOutlet.hasAttached();const d=this._portalOutlet.attachDomPortal(u);return this._contentAttached(),d},this._ariaLabelledBy=this._config.ariaLabelledBy||null,this._document=r}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(t){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachComponentPortal(t);return this._contentAttached(),i}attachTemplatePortal(t){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachTemplatePortal(t);return this._contentAttached(),i}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(t,i){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{t.removeEventListener("blur",r),t.removeEventListener("mousedown",r),t.removeAttribute("tabindex")};t.addEventListener("blur",r),t.addEventListener("mousedown",r)})),t.focus(i)}_focusByCssSelector(t,i){let r=this._elementRef.nativeElement.querySelector(t);r&&this._forceFocus(r,i)}_trapFocus(){const t=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||t.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{i||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const t=this._config.restoreFocus;let i=null;if("string"==typeof t?i=this._document.querySelector(t):"boolean"==typeof t?i=t?this._elementFocusedBeforeDialogWasOpened:null:t&&(i=t),this._config.restoreFocus&&i&&"function"==typeof i.focus){const r=v1(),o=this._elementRef.nativeElement;(!r||r===this._document.body||r===o||o.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(i,this._closeInteractionType),this._closeInteractionType=null):i.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const t=this._elementRef.nativeElement,i=v1();return t===i||t.contains(i)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=v1())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}}return n.\u0275fac=function(t){return new(t||n)(b($e),b(P1),b(ye,8),b(ew),b(Gb),b(ae),b(rm),b(N1))},n.\u0275cmp=lt({type:n,selectors:[["cdk-dialog-container"]],viewQuery:function(t,i){if(1&t&&oo($1,7),2&t){let r;dn(r=hn())&&(i._portalOutlet=r.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(t,i){2&t&&Hi("id",i._config.id||null)("role",i._config.role)("aria-modal",i._config.ariaModal)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null)},features:[K],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,i){1&t&&Pn(0,MSe,0,0,"ng-template",0)},dependencies:[$1],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2}),n})();class J1{constructor(e,t){this.overlayRef=e,this.config=t,this.closed=new Ae,this.disableClose=t.disableClose,this.backdropClick=e.backdropClick(),this.keydownEvents=e.keydownEvents(),this.outsidePointerEvents=e.outsidePointerEvents(),this.id=t.id,this.keydownEvents.subscribe(i=>{27===i.keyCode&&!this.disableClose&&!$b(i)&&(i.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=e.detachments().subscribe(()=>{!1!==t.closeOnOverlayDetachments&&this.close()})}close(e,t){if(this.containerInstance){const i=this.closed;this.containerInstance._closeInteractionType=t?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),i.next(e),i.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(e="",t=""){return this.overlayRef.updateSize({width:e,height:t}),this}addPanelClass(e){return this.overlayRef.addPanelClass(e),this}removePanelClass(e){return this.overlayRef.removePanelClass(e),this}}const P8=new I("DialogScrollStrategy"),RSe=new I("DialogData"),kSe=new I("DefaultDialogConfig"),PSe={provide:P8,deps:[Ds],useFactory:function OSe(n){return()=>n.scrollStrategies.block()}};let NSe=0,N8=(()=>{class n{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(t,i,r,o,s,a){this._overlay=t,this._injector=i,this._defaultOptions=r,this._parentDialog=o,this._overlayContainer=s,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Ae,this._afterOpenedAtThisLevel=new Ae,this._ariaHiddenElements=new Map,this.afterAllClosed=E_(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(jh(void 0))),this._scrollStrategy=a}open(t,i){(i={...this._defaultOptions||new ew,...i}).id=i.id||"cdk-dialog-"+NSe++,i.id&&this.getDialogById(i.id);const o=this._getOverlayConfig(i),s=this._overlay.create(o),a=new J1(s,i),l=this._attachContainer(s,a,i);return a.containerInstance=l,this._attachDialogContent(t,a,l,i),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(a),a.closed.subscribe(()=>this._removeOpenDialog(a,!0)),this.afterOpened.next(a),a}closeAll(){eO(this.openDialogs,t=>t.close())}getDialogById(t){return this.openDialogs.find(i=>i.id===t)}ngOnDestroy(){eO(this._openDialogsAtThisLevel,t=>{!1===t.config.closeOnDestroy&&this._removeOpenDialog(t,!1)}),eO(this._openDialogsAtThisLevel,t=>t.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(t){const i=new h8({positionStrategy:t.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,width:t.width,height:t.height,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(i.backdropClass=t.backdropClass),i}_attachContainer(t,i,r){const o=r.injector||r.viewContainerRef?.injector,s=[{provide:ew,useValue:r},{provide:J1,useValue:i},{provide:rm,useValue:t}];let a;r.container?"function"==typeof r.container?a=r.container:(a=r.container.type,s.push(...r.container.providers(r))):a=O8;const l=new H1(a,r.viewContainerRef,Ot.create({parent:o||this._injector,providers:s}),r.componentFactoryResolver);return t.attach(l).instance}_attachDialogContent(t,i,r,o){if(t instanceof vn){const s=this._createInjector(o,i,r,void 0);let a={$implicit:o.data,dialogRef:i};o.templateContext&&(a={...a,..."function"==typeof o.templateContext?o.templateContext():o.templateContext}),r.attachTemplatePortal(new l8(t,null,a,s))}else{const s=this._createInjector(o,i,r,this._injector),a=r.attachComponentPortal(new H1(t,o.viewContainerRef,s,o.componentFactoryResolver));i.componentInstance=a.instance}}_createInjector(t,i,r,o){const s=t.injector||t.viewContainerRef?.injector,a=[{provide:RSe,useValue:t.data},{provide:J1,useValue:i}];return t.providers&&("function"==typeof t.providers?a.push(...t.providers(i,t,r)):a.push(...t.providers)),t.direction&&(!s||!s.get(Yl,null,{optional:!0}))&&a.push({provide:Yl,useValue:{value:t.direction,change:G()}}),Ot.create({parent:s||o,providers:a})}_removeOpenDialog(t,i){const r=this.openDialogs.indexOf(t);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((o,s)=>{o?s.setAttribute("aria-hidden",o):s.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),i&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const i=t.parentElement.children;for(let r=i.length-1;r>-1;r--){const o=i[r];o!==t&&"SCRIPT"!==o.nodeName&&"STYLE"!==o.nodeName&&!o.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}}return n.\u0275fac=function(t){return new(t||n)(w(Ds),w(Ot),w(kSe,8),w(n,12),w(Kb),w(P8))},n.\u0275prov=k({token:n,factory:n.\u0275fac}),n})();function eO(n,e){let t=n.length;for(;t--;)e(n[t])}let FSe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ce({type:n}),n.\u0275inj=se({providers:[N8,PSe],imports:[om,im,L1,im]}),n})();function LSe(n,e){}class tw{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const tO="mdc-dialog--open",F8="mdc-dialog--opening",L8="mdc-dialog--closing";let USe=(()=>{class n extends O8{constructor(t,i,r,o,s,a,l,c){super(t,i,r,o,s,a,l,c),this._animationStateChanged=new nt}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(t){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:t})}}return n.\u0275fac=function(t){return new(t||n)(b($e),b(P1),b(ye,8),b(tw),b(Gb),b(ae),b(rm),b(N1))},n.\u0275cmp=lt({type:n,selectors:[["ng-component"]],features:[K],decls:0,vars:0,template:function(t,i){},encapsulation:2}),n})();const V8="--mat-dialog-transition-duration";function B8(n){return null==n?null:"number"==typeof n?n:n.endsWith("ms")?_6(n.substring(0,n.length-2)):n.endsWith("s")?1e3*_6(n.substring(0,n.length-1)):"0"===n?0:null}let jSe=(()=>{class n extends USe{constructor(t,i,r,o,s,a,l,c,u){super(t,i,r,o,s,a,l,u),this._animationMode=c,this._animationsEnabled="NoopAnimations"!==this._animationMode,this._hostElement=this._elementRef.nativeElement,this._openAnimationDuration=this._animationsEnabled?B8(this._config.enterAnimationDuration)??150:0,this._closeAnimationDuration=this._animationsEnabled?B8(this._config.exitAnimationDuration)??75:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._openAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._closeAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}ngOnDestroy(){super.ngOnDestroy(),null!==this._animationTimer&&clearTimeout(this._animationTimer)}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._openAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(V8,`${this._openAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(F8,tO)),this._waitForAnimationToComplete(this._openAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(tO),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._closeAnimationDuration}),this._hostElement.classList.remove(tO),this._animationsEnabled?(this._hostElement.style.setProperty(V8,`${this._openAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(L8)),this._waitForAnimationToComplete(this._closeAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_clearAnimationClasses(){this._hostElement.classList.remove(F8,L8)}_waitForAnimationToComplete(t,i){null!==this._animationTimer&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(i,t)}_requestAnimationFrame(t){this._ngZone.runOutsideAngular(()=>{"function"==typeof requestAnimationFrame?requestAnimationFrame(t):t()})}}return n.\u0275fac=function(t){return new(t||n)(b($e),b(P1),b(ye,8),b(tw),b(Gb),b(ae),b(rm),b(Oh,8),b(N1))},n.\u0275cmp=lt({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:8,hostBindings:function(t,i){2&t&&(Wg("id",i._config.id),Hi("aria-modal",i._config.ariaModal)("role",i._config.role)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null),no("_mat-animation-noopable",!i._animationsEnabled))},features:[K],decls:3,vars:0,consts:[[1,"mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(t,i){1&t&&(X(0,"div",0)(1,"div",1),Pn(2,LSe,0,0,"ng-template",2),Q()())},dependencies:[$1],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-dialog,.mdc-dialog__scrim{position:fixed;top:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;width:100%;height:100%}.mdc-dialog{display:none;z-index:var(--mdc-dialog-z-index, 7)}.mdc-dialog .mdc-dialog__content{padding:20px 24px 20px 24px}.mdc-dialog .mdc-dialog__surface{min-width:280px}@media(max-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:calc(100vw - 32px)}}@media(min-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:560px}}.mdc-dialog .mdc-dialog__surface{max-height:calc(100% - 32px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-width:none}@media(max-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px;width:560px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 112px)}}@media(max-width: 720px)and (min-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:560px}}@media(max-width: 720px)and (max-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:calc(100vh - 160px)}}@media(max-width: 720px)and (min-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px}}@media(max-width: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-height: 400px),(max-width: 600px),(min-width: 720px)and (max-height: 400px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{height:100%;max-height:100vh;max-width:100vw;width:100vw;border-radius:0}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{order:-1;left:-12px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__header{padding:0 16px 9px;justify-content:flex-start}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__title{margin-left:calc(16px - 2 * 12px)}}@media(min-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 400px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}.mdc-dialog.mdc-dialog__scrim--hidden .mdc-dialog__scrim{opacity:0}.mdc-dialog__scrim{opacity:0;z-index:-1}.mdc-dialog__container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;transform:scale(0.8);opacity:0;pointer-events:none}.mdc-dialog__surface{position:relative;display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;max-width:100%;max-height:100%;pointer-events:auto;overflow-y:auto}.mdc-dialog__surface .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}[dir=rtl] .mdc-dialog__surface,.mdc-dialog__surface[dir=rtl]{text-align:right}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-dialog__surface{outline:2px solid windowText}}.mdc-dialog__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-dialog__surface::before{border-color:CanvasText}}@media screen and (-ms-high-contrast: active),screen and (-ms-high-contrast: none){.mdc-dialog__surface::before{content:none}}.mdc-dialog__title{display:block;margin-top:0;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:0 24px 9px}.mdc-dialog__title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mdc-dialog__title,.mdc-dialog__title[dir=rtl]{text-align:right}.mdc-dialog--scrollable .mdc-dialog__title{margin-bottom:1px;padding-bottom:15px}.mdc-dialog--fullscreen .mdc-dialog__header{align-items:baseline;border-bottom:1px solid rgba(0,0,0,0);display:inline-flex;justify-content:space-between;padding:0 24px 9px;z-index:1}@media screen and (forced-colors: active){.mdc-dialog--fullscreen .mdc-dialog__header{border-bottom-color:CanvasText}}.mdc-dialog--fullscreen .mdc-dialog__header .mdc-dialog__close{right:-12px}.mdc-dialog--fullscreen .mdc-dialog__title{margin-bottom:0;padding:0;border-bottom:0}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__title{border-bottom:0;margin-bottom:0}.mdc-dialog--fullscreen .mdc-dialog__close{top:5px}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--fullscreen--titleless .mdc-dialog__close{margin-top:4px}.mdc-dialog--fullscreen--titleless.mdc-dialog--scrollable .mdc-dialog__close{margin-top:0}.mdc-dialog__content{flex-grow:1;box-sizing:border-box;margin:0;overflow:auto}.mdc-dialog__content>:first-child{margin-top:0}.mdc-dialog__content>:last-child{margin-bottom:0}.mdc-dialog__title+.mdc-dialog__content,.mdc-dialog__header+.mdc-dialog__content{padding-top:0}.mdc-dialog--scrollable .mdc-dialog__title+.mdc-dialog__content{padding-top:8px;padding-bottom:8px}.mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:6px 0 0}.mdc-dialog--scrollable .mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:0}.mdc-dialog__actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--stacked .mdc-dialog__actions{flex-direction:column;align-items:flex-end}.mdc-dialog__button{margin-left:8px;margin-right:0;max-width:100%;text-align:right}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{margin-left:0;margin-right:8px}.mdc-dialog__button:first-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button:first-child,.mdc-dialog__button:first-child[dir=rtl]{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{text-align:left}.mdc-dialog--stacked .mdc-dialog__button:not(:first-child){margin-top:12px}.mdc-dialog--open,.mdc-dialog--opening,.mdc-dialog--closing{display:flex}.mdc-dialog--opening .mdc-dialog__scrim{transition:opacity 150ms linear}.mdc-dialog--opening .mdc-dialog__container{transition:opacity 75ms linear,transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-dialog--closing .mdc-dialog__scrim,.mdc-dialog--closing .mdc-dialog__container{transition:opacity 75ms linear}.mdc-dialog--closing .mdc-dialog__container{transform:none}.mdc-dialog--open .mdc-dialog__scrim{opacity:1}.mdc-dialog--open .mdc-dialog__container{transform:none;opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim{opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{transition:opacity 75ms linear}.mdc-dialog--open.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim{transition:opacity 150ms linear}.mdc-dialog__surface-scrim{display:none;opacity:0;position:absolute;width:100%;height:100%;z-index:1}.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{display:block}.mdc-dialog-scroll-lock{overflow:hidden}.mdc-dialog--no-content-padding .mdc-dialog__content{padding:0}.mdc-dialog--sheet .mdc-dialog__close{right:12px;top:9px;position:absolute;z-index:1}.mdc-dialog__scrim--removed{pointer-events:none}.mdc-dialog__scrim--removed .mdc-dialog__scrim,.mdc-dialog__scrim--removed .mdc-dialog__surface-scrim{display:none}.mat-mdc-dialog-content{max-height:65vh}.mat-mdc-dialog-container{position:static;display:block}.mat-mdc-dialog-container,.mat-mdc-dialog-container .mdc-dialog__container,.mat-mdc-dialog-container .mdc-dialog__surface{max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mat-mdc-dialog-container .mdc-dialog__surface{display:block;width:100%;height:100%}.mat-mdc-dialog-container{outline:0}.mat-mdc-dialog-container .mdc-dialog__surface{background-color:var(--mdc-dialog-container-color, white)}.mat-mdc-dialog-container .mdc-dialog__surface{box-shadow:var(--mdc-dialog-container-elevation, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12))}.mat-mdc-dialog-container .mdc-dialog__surface{border-radius:var(--mdc-dialog-container-shape, var(--mdc-shape-medium, 4px))}.mat-mdc-dialog-container.mdc-dialog--scrollable .mdc-dialog__title,.mat-mdc-dialog-container.mdc-dialog--scrollable .mdc-dialog__actions,.mat-mdc-dialog-container.mdc-dialog--scrollable.mdc-dialog-scroll-divider-footer .mdc-dialog__actions{border-color:var(--mdc-dialog-with-divider-divider-color, black)}.mat-mdc-dialog-container.mdc-dialog--scrollable .mdc-dialog__title{border-bottom-color:var(--mdc-dialog-with-divider-divider-color, black)}.mat-mdc-dialog-container .mdc-dialog__title{font-family:var(--mdc-dialog-subhead-font, "Arial");line-height:var(--mdc-dialog-subhead-line-height, 14px);font-size:var(--mdc-dialog-subhead-size, 14px);font-weight:var(--mdc-dialog-subhead-weight, 500);letter-spacing:var(--mdc-dialog-subhead-tracking, 1px)}.mat-mdc-dialog-container .mdc-dialog__title{color:var(--mdc-dialog-subhead-color, black)}.mat-mdc-dialog-container .mdc-dialog__content{font-family:var(--mdc-dialog-supporting-text-font, "Arial");line-height:var(--mdc-dialog-supporting-text-line-height, 14px);font-size:var(--mdc-dialog-supporting-text-size, 14px);font-weight:var(--mdc-dialog-supporting-text-weight, 500);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 1px)}.mat-mdc-dialog-container .mdc-dialog__content{color:var(--mdc-dialog-supporting-text-color, black)}.mat-mdc-dialog-container .mdc-dialog__container{transition-duration:var(--mat-dialog-transition-duration, 0ms)}.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__container{transition:none}.mat-mdc-dialog-content{display:block}.mat-mdc-dialog-actions{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2}),n})();class HSe{constructor(e,t,i){this._ref=e,this._containerInstance=i,this._afterOpened=new Ae,this._beforeClosed=new Ae,this._state=0,this.disableClose=t.disableClose,this.id=e.id,i._animationStateChanged.pipe(ei(r=>"opened"===r.state),Ti(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),i._animationStateChanged.pipe(ei(r=>"closed"===r.state),Ti(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),e.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),p0(this.backdropClick(),this.keydownEvents().pipe(ei(r=>27===r.keyCode&&!this.disableClose&&!$b(r)))).subscribe(r=>{this.disableClose||(r.preventDefault(),function zSe(n,e,t){n._closeInteractionType=e,n.close(t)}(this,"keydown"===r.type?"keyboard":"mouse"))})}close(e){this._result=e,this._containerInstance._animationStateChanged.pipe(ei(t=>"closing"===t.state),Ti(1)).subscribe(t=>{this._beforeClosed.next(e),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),t.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(e){let t=this._ref.config.positionStrategy;return e&&(e.left||e.right)?e.left?t.left(e.left):t.right(e.right):t.centerHorizontally(),e&&(e.top||e.bottom)?e.top?t.top(e.top):t.bottom(e.bottom):t.centerVertically(),this._ref.updatePosition(),this}updateSize(e="",t=""){return this._ref.updateSize(e,t),this}addPanelClass(e){return this._ref.addPanelClass(e),this}removePanelClass(e){return this._ref.removePanelClass(e),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}const $Se=new I("MatMdcDialogData"),GSe=new I("mat-mdc-dialog-default-options"),U8=new I("mat-mdc-dialog-scroll-strategy"),qSe={provide:U8,deps:[Ds],useFactory:function WSe(n){return()=>n.scrollStrategies.block()}};let KSe=0,YSe=(()=>{class n{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(t,i,r,o,s,a,l,c,u,d){this._overlay=t,this._defaultOptions=r,this._parentDialog=o,this._dialogRefConstructor=l,this._dialogContainerType=c,this._dialogDataToken=u,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Ae,this._afterOpenedAtThisLevel=new Ae,this._idPrefix="mat-dialog-",this.dialogConfigClass=tw,this.afterAllClosed=E_(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(jh(void 0))),this._scrollStrategy=a,this._dialog=i.get(N8)}open(t,i){let r;(i={...this._defaultOptions||new tw,...i}).id=i.id||`${this._idPrefix}${KSe++}`,i.scrollStrategy=i.scrollStrategy||this._scrollStrategy();const o=this._dialog.open(t,{...i,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:i},{provide:ew,useValue:i}]},templateContext:()=>({dialogRef:r}),providers:(s,a,l)=>(r=new this._dialogRefConstructor(s,i,l),r.updatePosition(i?.position),[{provide:this._dialogContainerType,useValue:l},{provide:this._dialogDataToken,useValue:a.data},{provide:this._dialogRefConstructor,useValue:r}])});return r.componentInstance=o.componentInstance,this.openDialogs.push(r),this.afterOpened.next(r),r.afterClosed().subscribe(()=>{const s=this.openDialogs.indexOf(r);s>-1&&(this.openDialogs.splice(s,1),this.openDialogs.length||this._getAfterAllClosed().next())}),r}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(i=>i.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(t){let i=t.length;for(;i--;)t[i].close()}}return n.\u0275fac=function(t){Pg()},n.\u0275prov=k({token:n,factory:n.\u0275fac}),n})(),QSe=(()=>{class n extends YSe{constructor(t,i,r,o,s,a,l,c){super(t,i,o,a,l,s,HSe,jSe,$Se,c),this._idPrefix="mat-mdc-dialog-"}}return n.\u0275fac=function(t){return new(t||n)(w(Ds),w(Ot),w(Nh,8),w(GSe,8),w(U8),w(n,12),w(Kb),w(Oh,8))},n.\u0275prov=k({token:n,factory:n.\u0275fac}),n})(),XSe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ce({type:n}),n.\u0275inj=se({providers:[QSe,qSe],imports:[FSe,om,im,ot,ot]}),n})(),eTe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ce({type:n}),n.\u0275inj=se({imports:[K6,ot,K6,ot]}),n})();const tTe_firebase={projectId:"labo4-saladejuegos-2023",appId:"1:266305228203:web:66855023f60a6e9c8716ee",databaseURL:"https://labo4-saladejuegos-2023-default-rtdb.firebaseio.com",storageBucket:"labo4-saladejuegos-2023.appspot.com",locationId:"southamerica-east1",apiKey:"AIzaSyCDBmywFmY3233pgr85rHRVKmhkAZUZllo",authDomain:"labo4-saladejuegos-2023.firebaseapp.com",messagingSenderId:"266305228203"},z8="@firebase/database";let nO="";class iTe{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Ln(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:sf(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class rTe{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return ts(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const G8=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new iTe(e)}}catch{}return new rTe},tc=G8("localStorage"),iO=G8("sessionStorage"),Md=new dl("@firebase/database"),W8=function(){let n=1;return function(){return n++}}(),q8=function(n){const e=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);if(r>=55296&&r<=56319){const o=r-55296;i++,L(i<n.length,"Surrogate pair missing trail surrogate."),r=65536+(o<<10)+(n.charCodeAt(i)-56320)}r<128?e[t++]=r:r<2048?(e[t++]=r>>6|192,e[t++]=63&r|128):r<65536?(e[t++]=r>>12|224,e[t++]=r>>6&63|128,e[t++]=63&r|128):(e[t++]=r>>18|240,e[t++]=r>>12&63|128,e[t++]=r>>6&63|128,e[t++]=63&r|128)}return e}(n),t=new Rce;t.update(e);const i=t.digest();return K_.encodeByteArray(i)},cm=function(...n){let e="";for(let t=0;t<n.length;t++){const i=n[t];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?e+=cm.apply(null,i):e+="object"==typeof i?Ln(i):i,e+=" "}return e};let nc=null,K8=!0;const An=function(...n){if(!0===K8&&(K8=!1,null===nc&&!0===iO.get("logging_enabled")&&function(n,e){L(!e||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(Md.logLevel=Pe.VERBOSE,nc=Md.log.bind(Md),e&&iO.set("logging_enabled",!0)):"function"==typeof n?nc=n:(nc=null,iO.remove("logging_enabled"))}(!0)),nc){const e=cm.apply(null,n);nc(e)}},um=function(n){return function(...e){An(n,...e)}},rO=function(...n){const e="FIREBASE INTERNAL ERROR: "+cm(...n);Md.error(e)},So=function(...n){const e=`FIREBASE FATAL ERROR: ${cm(...n)}`;throw Md.error(e),new Error(e)},ai=function(...n){const e="FIREBASE WARNING: "+cm(...n);Md.warn(e)},nw=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},Ia="[MIN_NAME]",Ss="[MAX_NAME]",ic=function(n,e){if(n===e)return 0;if(n===Ia||e===Ss)return-1;if(e===Ia||n===Ss)return 1;{const t=Z8(n),i=Z8(e);return null!==t?null!==i?t-i==0?n.length-e.length:t-i:-1:null!==i?1:n<e?-1:1}},aTe=function(n,e){return n===e?0:n<e?-1:1},dm=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+Ln(e))},oO=function(n){if("object"!=typeof n||null===n)return Ln(n);const e=[];for(const i in n)e.push(i);e.sort();let t="{";for(let i=0;i<e.length;i++)0!==i&&(t+=","),t+=Ln(e[i]),t+=":",t+=oO(n[e[i]]);return t+="}",t},Q8=function(n,e){const t=n.length;if(t<=e)return[n];const i=[];for(let r=0;r<t;r+=e)i.push(n.substring(r,r+e>t?t:r+e));return i};function Mn(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const X8=function(n){L(!nw(n),"Invalid JSON number");const i=1023;let r,o,s,a,l;0===n?(o=0,s=0,r=1/n==-1/0?1:0):(r=n<0,(n=Math.abs(n))>=Math.pow(2,1-i)?(a=Math.min(Math.floor(Math.log(n)/Math.LN2),i),o=a+i,s=Math.round(n*Math.pow(2,52-a)-Math.pow(2,52))):(o=0,s=Math.round(n/Math.pow(2,-1074))));const c=[];for(l=52;l;l-=1)c.push(s%2?1:0),s=Math.floor(s/2);for(l=11;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);c.push(r?1:0),c.reverse();const u=c.join("");let d="";for(l=0;l<64;l+=8){let h=parseInt(u.substr(l,8),2).toString(16);1===h.length&&(h="0"+h),d+=h}return d.toLowerCase()},dTe=new RegExp("^-?(0*)\\d{1,10}$"),Z8=function(n){if(dTe.test(n)){const e=Number(n);if(e>=-2147483648&&e<=2147483647)return e}return null},Rd=function(n){try{n()}catch(e){setTimeout(()=>{throw ai("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},pTe=function(){return("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},hm=function(n,e){const t=setTimeout(n,e);return"number"==typeof t&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(t):"object"==typeof t&&t.unref&&t.unref(),t};class mTe{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=t?.getImmediate({optional:!0}),this.appCheck||t?.get().then(i=>this.appCheck=i)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((t,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){ai(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class gTe{constructor(e,t,i){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&"auth/token-not-initialized"===t.code?(An("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',ai(e)}}let fm=(()=>{class n{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const r9=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,a9="websocket",l9="long_polling";class aO{constructor(e,t,i,r,o=!1,s="",a=!1,l=!1){this.secure=t,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=tc.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&tc.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function c9(n,e,t){let i;if(L("string"==typeof e,"typeof type must == string"),L("object"==typeof t,"typeof params must == object"),e===a9)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(e!==l9)throw new Error("Unknown connection type: "+e);i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function _Te(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(t.ns=n.namespace);const r=[];return Mn(t,(o,s)=>{r.push(o+"="+s)}),i+r.join("&")}class yTe{constructor(){this.counters_={}}incrementCounter(e,t=1){ts(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return _ce(this.counters_)}}const lO={},cO={};function uO(n){const e=n.toString();return lO[e]||(lO[e]=new yTe),lO[e]}class bTe{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&Rd(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Sa{constructor(e,t,i,r,o,s,a){this.connId=e,this.repoInfo=t,this.applicationId=i,this.appCheckToken=r,this.authToken=o,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=um(e),this.stats_=uO(t),this.urlFn=l=>(this.appCheckToken&&(l.ac=this.appCheckToken),c9(t,l9,l))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new bTe(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if(es()||"complete"===document.readyState)n();else{let e=!1;const t=function(){document.body?e||(e=!0,n()):setTimeout(t,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&t()}),window.attachEvent("onload",t))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new dO((...o)=>{const[s,a,l,c,u]=o;if(this.incrementIncomingBytes_(o),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===s)this.id=a,this.password=l;else{if("close"!==s)throw new Error("Unrecognized command received: "+s);a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_()}},(...o)=>{const[s,a]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,a)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&r9.test(location.hostname)&&(i.r="f");const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Sa.forceAllow_=!0}static forceDisallow(){Sa.forceDisallow_=!0}static isAvailable(){return!(es()||!Sa.forceAllow_&&(Sa.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=Ln(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const i=cH(t),r=Q8(i,1840);for(let o=0;o<r.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[o]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if(es())return;this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=e,i.pw=t,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=Ln(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class dO{constructor(e,t,i,r){if(this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,es())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=W8(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=dO.createIFrame_();let o="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(o='<script>document.domain="'+document.domain+'";<\/script>');const s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){An("frame writing exception"),a.stack&&An(a.stack),An(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||An("No IE domain setting required")}catch{const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const s=this.pendingSegs.shift();i=i+"&seg"+r+"="+s.seg+"&ts"+r+"="+s.ts+"&d"+r+"="+s.d,r++}return t+=i,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,i){this.pendingSegs.push({seg:e,ts:t,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const i=()=>{this.outstandingRequests.delete(t),this.newRequest_()},r=setTimeout(i,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(r),i()})}addTag(e,t){es()?this.doNodeLongPoll(e,t):setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||"loaded"===r||"complete"===r)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),t())},i.onerror=()=>{An("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}let rw=null;typeof MozWebSocket<"u"?rw=MozWebSocket:typeof WebSocket<"u"&&(rw=WebSocket);let kd=(()=>{class n{constructor(t,i,r,o,s,a,l){this.connId=t,this.applicationId=r,this.appCheckToken=o,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=um(this.connId),this.stats_=uO(i),this.connURL=n.connectionURL_(i,a,l,o,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(t,i,r,o,s){const a={v:"5"};return!es()&&typeof location<"u"&&location.hostname&&r9.test(location.hostname)&&(a.r="f"),i&&(a.s=i),r&&(a.ls=r),o&&(a.ac=o),s&&(a.p=s),c9(t,a9,a)}open(t,i){this.onDisconnect=i,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,tc.set("previous_websocket_failure",!0);try{let r;if(es()){r={headers:{"User-Agent":`Firebase/5/${nO}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);const s=process.env,a=0===this.connURL.indexOf("wss://")?s.HTTPS_PROXY||s.https_proxy:s.HTTP_PROXY||s.http_proxy;a&&(r.proxy={origin:a})}this.mySock=new rw(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const o=r.message||r.data;return o&&this.log_(o),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const o=r.message||r.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&null!==rw&&!n.forceDisallow_}static previouslyFailed(){return tc.isInMemoryStorage||!0===tc.get("previous_websocket_failure")}markConnectionHealthy(){tc.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=sf(i);this.onMessage(r)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(L(null===this.frames,"We already have a frame buffer"),t.length<=6){const i=Number(t);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(null===this.mySock)return;const i=t.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);null!==r&&this.appendFrame_(r)}}send(t){this.resetKeepAlive();const i=Ln(t);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=Q8(i,16384);r.length>1&&this.sendString_(String(r.length));for(let o=0;o<r.length;o++)this.sendString_(r[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(t){try{this.mySock.send(t)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),g9=(()=>{class n{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[Sa,kd]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const i=kd&&kd.isAvailable();let r=i&&!kd.previouslyFailed();if(t.webSocketOnly&&(i||ai("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[kd];else{const o=this.transports_=[];for(const s of n.ALL_TRANSPORTS)s&&s.isAvailable()&&o.push(s);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class x9{constructor(e,t,i,r,o,s,a,l,c,u){this.id=e,this.repoInfo_=t,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=o,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=um("c:"+this.id+":"),this.transportManager_=new g9(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,i)},Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=hm(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=dm("t",e),i=dm("d",e);if("c"===t)this.onSecondaryControl_(i);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=dm("t",e),i=dm("d",e);"c"===t?this.onControl_(i):"d"===t&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=dm("t",e);if("d"in e){const i=e.d;if("h"===t){const r=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(i):"r"===t?this.onReset_(i):"e"===t?rO("Server Error: "+i):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):rO("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,i=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==i&&ai("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,i),hm(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):hm(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(tc.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class E9{put(e,t,i,r){}merge(e,t,i,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,i){}onDisconnectMerge(e,t,i){}onDisconnectCancel(e,t){}reportStats(e){}}class D9{constructor(e){this.allowedEvents_=e,this.listeners_={},L(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,t)}}on(e,t,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:i});const r=this.getInitialEvent(e);r&&t.apply(i,r)}off(e,t,i){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let o=0;o<r.length;o++)if(r[o].callback===t&&(!i||i===r[o].context))return void r.splice(o,1)}validateEventType_(e){L(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class ow extends D9{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!GE()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new ow}getInitialEvent(e){return L("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}const I9=32,S9=768;class Ze{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function Ge(){return new Ze("")}function Ie(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Ta(n){return n.pieces_.length-n.pieceNum_}function st(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new Ze(n.pieces_,e)}function fO(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function pm(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function T9(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new Ze(e,0)}function xt(n,e){const t=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)t.push(n.pieces_[i]);if(e instanceof Ze)for(let i=e.pieceNum_;i<e.pieces_.length;i++)t.push(e.pieces_[i]);else{const i=e.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&t.push(i[r])}return new Ze(t,0)}function Se(n){return n.pieceNum_>=n.pieces_.length}function vi(n,e){const t=Ie(n),i=Ie(e);if(null===t)return e;if(t===i)return vi(st(n),st(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function pO(n,e){if(Ta(n)!==Ta(e))return!1;for(let t=n.pieceNum_,i=e.pieceNum_;t<=n.pieces_.length;t++,i++)if(n.pieces_[t]!==e.pieces_[i])return!1;return!0}function fr(n,e){let t=n.pieceNum_,i=e.pieceNum_;if(Ta(n)>Ta(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[i])return!1;++t,++i}return!0}class zTe{constructor(e,t){this.errorPrefix_=t,this.parts_=pm(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=ny(this.parts_[i]);A9(this)}}function A9(n){if(n.byteLength_>S9)throw new Error(n.errorPrefix_+"has a key path longer than "+S9+" bytes ("+n.byteLength_+").");if(n.parts_.length>I9)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+I9+") or object contains a cycle "+rc(n))}function rc(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class mO extends D9{constructor(){let e,t;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new mO}getInitialEvent(e){return L("visible"===e,"Unknown event type: "+e),[this.visible_]}}const mm=1e3;let aw,oc=(()=>{class n extends E9{constructor(t,i,r,o,s,a,l,c){if(super(),this.repoInfo_=t,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=o,this.onServerInfoUpdate_=s,this.authTokenProvider_=a,this.appCheckTokenProvider_=l,this.authOverride_=c,this.id=n.nextPersistentConnectionId_++,this.log_=um("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=mm,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,c&&!es())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");mO.getInstance().on("visible",this.onVisible_,this),-1===t.host.indexOf("fblocal")&&ow.getInstance().on("online",this.onOnline_,this)}sendRequest(t,i,r){const o=++this.requestNumber_,s={r:o,a:t,b:i};this.log_(Ln(s)),L(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[o]=r)}get(t){this.initConnection_();const i=new wu,o={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:a=>{const l=a.d;"ok"===a.s?i.resolve(l):i.reject(l)}};return this.outstandingGets_.push(o),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),i.promise}listen(t,i,r,o){this.initConnection_();const s=t._queryIdentifier,a=t._path.toString();this.log_("Listen called for "+a+" "+s),this.listens.has(a)||this.listens.set(a,new Map),L(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),L(!this.listens.get(a).has(s),"listen() called twice for same path/queryId.");const l={onComplete:o,hashFn:i,query:t,tag:r};this.listens.get(a).set(s,l),this.connected_&&this.sendListen_(l)}sendGet_(t){const i=this.outstandingGets_[t];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(t){const i=t.query,r=i._path.toString(),o=i._queryIdentifier;this.log_("Listen on "+r+" for "+o);const s={p:r};t.tag&&(s.q=i._queryObject,s.t=t.tag),s.h=t.hashFn(),this.sendRequest("q",s,l=>{const c=l.d,u=l.s;n.warnOnListenWarnings_(c,i),(this.listens.get(r)&&this.listens.get(r).get(o))===t&&(this.log_("listen response",l),"ok"!==u&&this.removeListen_(r,o),t.onComplete&&t.onComplete(u,c))})}static warnOnListenWarnings_(t,i){if(t&&"object"==typeof t&&ts(t,"w")){const r=Cu(t,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const o='".indexOn": "'+i._queryParams.getIndex().toString()+'"',s=i._path.toString();ai(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&40===t.length||function(n){const e=Z_(n).claims;return"object"==typeof e&&!0===e.admin}(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,i=function(n){const t=Z_(n).claims;return!!t&&"object"==typeof t&&t.hasOwnProperty("iat")}(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(i,r,o=>{const s=o.s,a=o.d||"error";this.authToken_===t&&("ok"===s?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const i=t.s,r=t.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(t,i){const r=t._path.toString(),o=t._queryIdentifier;this.log_("Unlisten called for "+r+" "+o),L(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,o)&&this.connected_&&this.sendUnlisten_(r,o,t._queryObject,i)}sendUnlisten_(t,i,r,o){this.log_("Unlisten on "+t+" for "+i);const s={p:t};o&&(s.q=r,s.t=o),this.sendRequest("n",s)}onDisconnectPut(t,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,i,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:i,onComplete:r})}onDisconnectMerge(t,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,i,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:i,onComplete:r})}onDisconnectCancel(t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(t,i,r,o){const s={p:i,d:r};this.log_("onDisconnect "+t,s),this.sendRequest(t,s,a=>{o&&setTimeout(()=>{o(a.s,a.d)},Math.floor(0))})}put(t,i,r,o){this.putInternal("p",t,i,r,o)}merge(t,i,r,o){this.putInternal("m",t,i,r,o)}putInternal(t,i,r,o,s){this.initConnection_();const a={p:i,d:r};void 0!==s&&(a.h=s),this.outstandingPuts_.push({action:t,request:a,onComplete:o}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(t){const i=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,o=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(i,r,s=>{this.log_(i+" response",s),delete this.outstandingPuts_[t],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),o&&o(s.s,s.d)})}reportStats(t){if(this.connected_){const i={c:t};this.log_("reportStats",i),this.sendRequest("s",i,r=>{"ok"!==r.s&&this.log_("reportStats","Error sending stats: "+r.d)})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+Ln(t));const i=t.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,i){this.log_("handleServerMessage",t,i),"d"===t?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===t?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===t?this.onListenRevoked_(i.p,i.q):"ac"===t?this.onAuthRevoked_(i.s,i.d):"apc"===t?this.onAppCheckRevoked_(i.s,i.d):"sd"===t?this.onSecurityDebugPacket_(i):rO("Unrecognized action received from server: "+Ln(t)+"\nAre you using the latest client?")}onReady_(t,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){L(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=mm,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=mm,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=mm),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const t=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-t);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var t=this;return _(function*(){if(t.shouldReconnect_()){t.log_("Making a connection attempt"),t.lastConnectionAttemptTime_=(new Date).getTime(),t.lastConnectionEstablishedTime_=null;const i=t.onDataMessage_.bind(t),r=t.onReady_.bind(t),o=t.onRealtimeDisconnect_.bind(t),s=t.id+":"+n.nextConnectionId_++,a=t.lastSessionId;let l=!1,c=null;const u=function(){c?c.close():(l=!0,o())};t.realtime_={close:u,sendRequest:function(f){L(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(f)}};const h=t.forceTokenRefresh_;t.forceTokenRefresh_=!1;try{const[f,p]=yield Promise.all([t.authTokenProvider_.getToken(h),t.appCheckTokenProvider_.getToken(h)]);l?An("getToken() completed but was canceled"):(An("getToken() completed. Creating connection."),t.authToken_=f&&f.accessToken,t.appCheckToken_=p&&p.token,c=new x9(s,t.repoInfo_,t.applicationId_,t.appCheckToken_,t.authToken_,i,r,o,m=>{ai(m+" ("+t.repoInfo_.toString()+")"),t.interrupt("server_kill")},a))}catch(f){t.log_("Failed to get token: "+f),l||(t.repoInfo_.nodeAdmin&&ai(f),u())}}})()}interrupt(t){An("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){An("Resuming connection for reason: "+t),delete this.interruptReasons_[t],KE(this.interruptReasons_)&&(this.reconnectDelay_=mm,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const i=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const i=this.outstandingPuts_[t];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(t,i){let r;r=i?i.map(s=>oO(s)).join("$"):"default";const o=this.removeListen_(t,r);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(t,i){const r=new Ze(t).toString();let o;if(this.listens.has(r)){const s=this.listens.get(r);o=s.get(i),s.delete(i),0===s.size&&this.listens.delete(r)}else o=void 0;return o}onAuthRevoked_(t,i){An("Auth token revoked: "+t+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===t||"permission_denied"===t)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,i){An("App check token revoked: "+t+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===t||"permission_denied"===t)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const i of t.values())this.sendListen_(i);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let i="js";es()&&(i=this.repoInfo_.nodeAdmin?"admin_node":"node"),t["sdk."+i+"."+nO.replace(/\./g,"-")]=1,GE()?t["framework.cordova"]=1:fH()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=ow.getInstance().currentlyOnline();return KE(this.interruptReasons_)&&t}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class Te{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new Te(e,t)}}class sw{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const i=new Te(Ia,e),r=new Te(Ia,t);return 0!==this.compare(i,r)}minPost(){return Te.MIN}}class k9 extends sw{static get __EMPTY_NODE(){return aw}static set __EMPTY_NODE(e){aw=e}compare(e,t){return ic(e.name,t.name)}isDefinedOn(e){throw bu("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return Te.MIN}maxPost(){return new Te(Ss,aw)}makePost(e,t){return L("string"==typeof e,"KeyIndex indexValue must always be a string."),new Te(e,aw)}toString(){return".key"}}const To=new k9;class lw{constructor(e,t,i,r,o=null){this.isReverse_=r,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!e.isEmpty();)if(s=t?i(e.key,t):1,r&&(s*=-1),s<0)e=this.isReverse_?e.left:e.right;else{if(0===s){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let _O,Fr=(()=>{class n{constructor(t,i,r,o,s){this.key=t,this.value=i,this.color=r??n.RED,this.left=o??Oi.EMPTY_NODE,this.right=s??Oi.EMPTY_NODE}copy(t,i,r,o,s){return new n(t??this.key,i??this.value,r??this.color,o??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let o=this;const s=r(t,o.key);return o=s<0?o.copy(null,null,null,o.left.insert(t,i,r),null):0===s?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(t,i,r)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return Oi.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,i){let r,o;if(r=this,i(t,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(t,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),0===i(t,r.key)){if(r.right.isEmpty())return Oi.EMPTY_NODE;o=r.right.min_(),r=r.copy(o.key,o.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(t,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class Oi{constructor(e,t=Oi.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new Oi(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,Fr.BLACK,null,null))}remove(e){return new Oi(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Fr.BLACK,null,null))}get(e){let t,i=this.root_;for(;!i.isEmpty();){if(t=this.comparator_(e,i.key),0===t)return i.value;t<0?i=i.left:t>0&&(i=i.right)}return null}getPredecessorKey(e){let t,i=this.root_,r=null;for(;!i.isEmpty();){if(t=this.comparator_(e,i.key),0===t){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}t<0?i=i.left:t>0&&(r=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new lw(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new lw(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new lw(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new lw(this.root_,null,this.comparator_,!0,e)}}function XTe(n,e){return ic(n.name,e.name)}function gO(n,e){return ic(n,e)}Oi.EMPTY_NODE=new class QTe{copy(e,t,i,r,o){return this}insert(e,t,i){return new Fr(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const O9=function(n){return"number"==typeof n?"number:"+X8(n):"string:"+n},P9=function(n){if(n.isLeafNode()){const e=n.val();L("string"==typeof e||"number"==typeof e||"object"==typeof e&&ts(e,".sv"),"Priority must be a string or number.")}else L(n===_O||n.isEmpty(),"priority of unexpected type.");L(n===_O||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let N9,F9,L9,Od=(()=>{class n{constructor(t,i=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=i,this.lazyHash_=null,L(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),P9(this.priorityNode_)}static set __childrenNodeConstructor(t){N9=t}static get __childrenNodeConstructor(){return N9}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new n(this.value_,t)}getImmediateChild(t){return".priority"===t?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return Se(t)?this:".priority"===Ie(t)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,i){return null}updateImmediateChild(t,i){return".priority"===t?this.updatePriority(i):i.isEmpty()&&".priority"!==t?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,i).updatePriority(this.priorityNode_)}updateChild(t,i){const r=Ie(t);return null===r?i:i.isEmpty()&&".priority"!==r?this:(L(".priority"!==r||1===Ta(t),".priority must be the last token in a path"),this.updateImmediateChild(r,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(st(t),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,i){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+O9(this.priorityNode_.val())+":");const i=typeof this.value_;t+=i+":",t+="number"===i?X8(this.value_):this.value_,this.lazyHash_=q8(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===n.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof n.__childrenNodeConstructor?-1:(L(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const i=typeof t.value_,r=typeof this.value_,o=n.VALUE_TYPE_ORDER.indexOf(i),s=n.VALUE_TYPE_ORDER.indexOf(r);return L(o>=0,"Unknown leaf type: "+i),L(s>=0,"Unknown leaf type: "+r),o===s?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:s-o}withIndex(){return this}isIndexed(){return!0}equals(t){return t===this||!!t.isLeafNode()&&(this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_))}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const dt=new class tAe extends sw{compare(e,t){const i=e.node.getPriority(),r=t.node.getPriority(),o=i.compareTo(r);return 0===o?ic(e.name,t.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return Te.MIN}maxPost(){return new Te(Ss,new Od("[PRIORITY-POST]",L9))}makePost(e,t){const i=F9(e);return new Te(t,new Od("[PRIORITY-POST]",i))}toString(){return".priority"}},nAe=Math.log(2);class iAe{constructor(e){this.count=parseInt(Math.log(e+1)/nAe,10),this.current_=this.count-1;const r=(o=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=e+1&r}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const cw=function(n,e,t,i){n.sort(e);const r=function(l,c){const u=c-l;let d,h;if(0===u)return null;if(1===u)return d=n[l],h=t?t(d):d,new Fr(h,d.node,Fr.BLACK,null,null);{const f=parseInt(u/2,10)+l,p=r(l,f),m=r(f+1,c);return d=n[f],h=t?t(d):d,new Fr(h,d.node,Fr.BLACK,p,m)}},a=function(l){let c=null,u=null,d=n.length;const h=function(p,m){const g=d-p,y=d;d-=p;const x=r(g+1,y),v=n[g],S=t?t(v):v;f(new Fr(S,v.node,m,null,x))},f=function(p){c?(c.left=p,c=p):(u=p,c=p)};for(let p=0;p<l.count;++p){const m=l.nextBitIsOne(),g=Math.pow(2,l.count-(p+1));m?h(g,Fr.BLACK):(h(g,Fr.BLACK),h(g,Fr.RED))}return u}(new iAe(n.length));return new Oi(i||e,a)};let yO;const Pd={};class Ts{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return L(Pd&&dt,"ChildrenNode.ts has not been loaded"),yO=yO||new Ts({".priority":Pd},{".priority":dt}),yO}get(e){const t=Cu(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Oi?t:null}hasIndex(e){return ts(this.indexSet_,e.toString())}addIndex(e,t){L(e!==To,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const o=t.getIterator(Te.Wrap);let a,s=o.getNext();for(;s;)r=r||e.isDefinedOn(s.node),i.push(s),s=o.getNext();a=r?cw(i,e.getCompare()):Pd;const l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;const u=Object.assign({},this.indexes_);return u[l]=a,new Ts(u,c)}addToIndexes(e,t){const i=J_(this.indexes_,(r,o)=>{const s=Cu(this.indexSet_,o);if(L(s,"Missing index implementation for "+o),r===Pd){if(s.isDefinedOn(e.node)){const a=[],l=t.getIterator(Te.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),cw(a,s.getCompare())}return Pd}{const a=t.get(e.name);let l=r;return a&&(l=l.remove(new Te(e.name,a))),l.insert(e,e.node)}});return new Ts(i,this.indexSet_)}removeFromIndexes(e,t){const i=J_(this.indexes_,r=>{if(r===Pd)return r;{const o=t.get(e.name);return o?r.remove(new Te(e.name,o)):r}});return new Ts(i,this.indexSet_)}}let gm,ge=(()=>{class n{constructor(t,i,r){this.children_=t,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&P9(this.priorityNode_),this.children_.isEmpty()&&L(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return gm||(gm=new n(new Oi(gO),null,Ts.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||gm}updatePriority(t){return this.children_.isEmpty()?this:new n(this.children_,t,this.indexMap_)}getImmediateChild(t){if(".priority"===t)return this.getPriority();{const i=this.children_.get(t);return null===i?gm:i}}getChild(t){const i=Ie(t);return null===i?this:this.getImmediateChild(i).getChild(st(t))}hasChild(t){return null!==this.children_.get(t)}updateImmediateChild(t,i){if(L(i,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(i);{const r=new Te(t,i);let o,s;i.isEmpty()?(o=this.children_.remove(t),s=this.indexMap_.removeFromIndexes(r,this.children_)):(o=this.children_.insert(t,i),s=this.indexMap_.addToIndexes(r,this.children_));const a=o.isEmpty()?gm:this.priorityNode_;return new n(o,a,s)}}updateChild(t,i){const r=Ie(t);if(null===r)return i;{L(".priority"!==Ie(t)||1===Ta(t),".priority must be the last token in a path");const o=this.getImmediateChild(r).updateChild(st(t),i);return this.updateImmediateChild(r,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const i={};let r=0,o=0,s=!0;if(this.forEachChild(dt,(a,l)=>{i[a]=l.val(t),r++,s&&n.INTEGER_REGEXP_.test(a)?o=Math.max(o,Number(a)):s=!1}),!t&&s&&o<2*r){const a=[];for(const l in i)a[l]=i[l];return a}return t&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let t="";this.getPriority().isEmpty()||(t+="priority:"+O9(this.getPriority().val())+":"),this.forEachChild(dt,(i,r)=>{const o=r.hash();""!==o&&(t+=":"+i+":"+o)}),this.lazyHash_=""===t?"":q8(t)}return this.lazyHash_}getPredecessorChildName(t,i,r){const o=this.resolveIndex_(r);if(o){const s=o.getPredecessorKey(new Te(t,i));return s?s.name:null}return this.children_.getPredecessorKey(t)}getFirstChildName(t){const i=this.resolveIndex_(t);if(i){const r=i.minKey();return r&&r.name}return this.children_.minKey()}getFirstChild(t){const i=this.getFirstChildName(t);return i?new Te(i,this.children_.get(i)):null}getLastChildName(t){const i=this.resolveIndex_(t);if(i){const r=i.maxKey();return r&&r.name}return this.children_.maxKey()}getLastChild(t){const i=this.getLastChildName(t);return i?new Te(i,this.children_.get(i)):null}forEachChild(t,i){const r=this.resolveIndex_(t);return r?r.inorderTraversal(o=>i(o.name,o.node)):this.children_.inorderTraversal(i)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(t,o=>o);{const o=this.children_.getIteratorFrom(t.name,Te.Wrap);let s=o.peek();for(;null!=s&&i.compare(s,t)<0;)o.getNext(),s=o.peek();return o}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(t,o=>o);{const o=this.children_.getReverseIteratorFrom(t.name,Te.Wrap);let s=o.peek();for(;null!=s&&i.compare(s,t)>0;)o.getNext(),s=o.peek();return o}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===_m?-1:0}withIndex(t){if(t===To||this.indexMap_.hasIndex(t))return this;{const i=this.indexMap_.addIndex(t,this.children_);return new n(this.children_,this.priorityNode_,i)}}isIndexed(t){return t===To||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const i=t;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const r=this.getIterator(dt),o=i.getIterator(dt);let s=r.getNext(),a=o.getNext();for(;s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=r.getNext(),a=o.getNext()}return null===s&&null===a}return!1}return!1}}resolveIndex_(t){return t===To?null:this.indexMap_.get(t.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const _m=new class rAe extends ge{constructor(){super(new Oi(gO),ge.EMPTY_NODE,Ts.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return ge.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(Te,{MIN:{value:new Te(Ia,ge.EMPTY_NODE)},MAX:{value:new Te(Ss,_m)}}),k9.__EMPTY_NODE=ge.EMPTY_NODE,Od.__childrenNodeConstructor=ge,function ZTe(n){_O=n}(_m),function eAe(n){L9=n}(_m);const oAe=!0;function Tt(n,e=null){if(null===n)return ge.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(e=n[".priority"]),L(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new Od(n,Tt(e));if(n instanceof Array||!oAe){let t=ge.EMPTY_NODE;return Mn(n,(i,r)=>{if(ts(n,i)&&"."!==i.substring(0,1)){const o=Tt(r);(o.isLeafNode()||!o.isEmpty())&&(t=t.updateImmediateChild(i,o))}}),t.updatePriority(Tt(e))}{const t=[];let i=!1;if(Mn(n,(s,a)=>{if("."!==s.substring(0,1)){const l=Tt(a);l.isEmpty()||(i=i||!l.getPriority().isEmpty(),t.push(new Te(s,l)))}}),0===t.length)return ge.EMPTY_NODE;const o=cw(t,XTe,s=>s.name,gO);if(i){const s=cw(t,dt.getCompare());return new ge(o,Tt(e),new Ts({".priority":s},{".priority":dt}))}return new ge(o,Tt(e),Ts.Default)}}!function JTe(n){F9=n}(Tt);class vO extends sw{constructor(e){super(),this.indexPath_=e,L(!Se(e)&&".priority"!==Ie(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const i=this.extractChild(e.node),r=this.extractChild(t.node),o=i.compareTo(r);return 0===o?ic(e.name,t.name):o}makePost(e,t){const i=Tt(e),r=ge.EMPTY_NODE.updateChild(this.indexPath_,i);return new Te(t,r)}maxPost(){const e=ge.EMPTY_NODE.updateChild(this.indexPath_,_m);return new Te(Ss,e)}toString(){return pm(this.indexPath_,0).join("/")}}const bO=new class sAe extends sw{compare(e,t){const i=e.node.compareTo(t.node);return 0===i?ic(e.name,t.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return Te.MIN}maxPost(){return Te.MAX}makePost(e,t){const i=Tt(e);return new Te(t,i)}toString(){return".value"}};function vm(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}class CO{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=dt}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return L(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return L(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ia}hasEnd(){return this.endSet_}getIndexEndValue(){return L(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return L(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ss}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return L(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===dt}copy(){const e=new CO;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function B9(n){const e={};if(n.isDefault())return e;let t;if(n.index_===dt?t="$priority":n.index_===bO?t="$value":n.index_===To?t="$key":(L(n.index_ instanceof vO,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=Ln(t),n.startSet_){const i=n.startAfterSet_?"startAfter":"startAt";e[i]=Ln(n.indexStartValue_),n.startNameSet_&&(e[i]+=","+Ln(n.indexStartName_))}if(n.endSet_){const i=n.endBeforeSet_?"endBefore":"endAt";e[i]=Ln(n.indexEndValue_),n.endNameSet_&&(e[i]+=","+Ln(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function U9(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_),e.sin=!n.startAfterSet_),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_),e.ein=!n.endBeforeSet_),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;""===t&&(t=n.isViewFromLeft()?"l":"r"),e.vf=t}return n.index_!==dt&&(e.i=n.index_.toString()),e}class dw extends E9{constructor(e,t,i,r){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=um("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:(L(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,i,r){const o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);const s=dw.getListenId_(e,i),a={};this.listens_[s]=a;const l=B9(e._queryParams);this.restRequest_(o+".json",l,(c,u)=>{let d=u;if(404===c&&(d=null,c=null),null===c&&this.onDataUpdate_(o,d,!1,i),Cu(this.listens_,s)===a){let h;h=c?401===c?"permission_denied":"rest_error:"+c:"ok",r(h,null)}})}unlisten(e,t){const i=dw.getListenId_(e,t);delete this.listens_[i]}get(e){const t=B9(e._queryParams),i=e._path.toString(),r=new wu;return this.restRequest_(i+".json",t,(o,s)=>{let a=s;404===o&&(a=null,o=null),null===o?(this.onDataUpdate_(i,a,!1,null),r.resolve(a)):r.reject(new Error(a))}),r.promise}refreshAuthToken(e){}restRequest_(e,t={},i){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,o])=>{r&&r.accessToken&&(t.auth=r.accessToken),o&&o.token&&(t.ac=o.token);const s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+af(t);this.log_("Sending REST request for "+s);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(i&&4===a.readyState){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=sf(a.responseText)}catch{ai("Failed to parse JSON response for "+s+": "+a.responseText)}i(null,l)}else 401!==a.status&&404!==a.status&&ai("Got unsuccessful REST response for "+s+" Status: "+a.status),i(a.status);i=null}},a.open("GET",s,!0),a.send()})}}class pAe{constructor(){this.rootNode_=ge.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function hw(){return{value:null,children:new Map}}function Fd(n,e,t){if(Se(e))n.value=t,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(e,t);else{const i=Ie(e);n.children.has(i)||n.children.set(i,hw()),Fd(n.children.get(i),e=st(e),t)}}function IO(n,e,t){null!==n.value?t(e,n.value):function mAe(n,e){n.children.forEach((t,i)=>{e(i,t)})}(n,(i,r)=>{IO(r,new Ze(e.toString()+"/"+i),t)})}class gAe{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&Mn(this.last_,(i,r)=>{t[i]=t[i]-r}),this.last_=e,t}}class vAe{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new gAe(e);const i=1e4+2e4*Math.random();hm(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),t={};let i=!1;Mn(e,(r,o)=>{o>0&&ts(this.statsToReport_,r)&&(t[r]=o,i=!0)}),i&&this.server_.reportStats(t),hm(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var pr=(()=>(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(pr||(pr={})),pr))();function AO(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class fw{constructor(e,t,i){this.path=e,this.affectedTree=t,this.revert=i,this.type=pr.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(Se(this.path)){if(null!=this.affectedTree.value)return L(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new Ze(e));return new fw(Ge(),t,this.revert)}}return L(Ie(this.path)===e,"operationForChild called for unrelated child."),new fw(st(this.path),this.affectedTree,this.revert)}}class sc{constructor(e,t,i){this.source=e,this.path=t,this.snap=i,this.type=pr.OVERWRITE}operationForChild(e){return Se(this.path)?new sc(this.source,Ge(),this.snap.getImmediateChild(e)):new sc(this.source,st(this.path),this.snap)}}class Ld{constructor(e,t,i){this.source=e,this.path=t,this.children=i,this.type=pr.MERGE}operationForChild(e){if(Se(this.path)){const t=this.children.subtree(new Ze(e));return t.isEmpty()?null:t.value?new sc(this.source,Ge(),t.value):new Ld(this.source,Ge(),t)}return L(Ie(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Ld(this.source,st(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Aa{constructor(e,t,i){this.node_=e,this.fullyInitialized_=t,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Se(e))return this.isFullyInitialized()&&!this.filtered_;const t=Ie(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function Cm(n,e,t,i,r,o){const s=i.filter(a=>a.type===t);s.sort((a,l)=>function xAe(n,e,t){if(null==e.childName||null==t.childName)throw bu("Should only compare child_ events.");const i=new Te(e.childName,e.snapshotNode),r=new Te(t.childName,t.snapshotNode);return n.index_.compare(i,r)}(n,a,l)),s.forEach(a=>{const l=function CAe(n,e,t){return"value"===e.type||"child_removed"===e.type||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}(n,a,o);r.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,n.query_))})})}function pw(n,e){return{eventCache:n,serverCache:e}}function xm(n,e,t,i){return pw(new Aa(e,t,i),n.serverCache)}function H9(n,e,t,i){return pw(n.eventCache,new Aa(e,t,i))}function mw(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function ac(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let MO;class ht{constructor(e,t=(()=>(MO||(MO=new Oi(aTe)),MO))()){this.value=e,this.children=t}static fromObject(e){let t=new ht(null);return Mn(e,(i,r)=>{t=t.set(new Ze(i),r)}),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:Ge(),value:this.value};if(Se(e))return null;{const i=Ie(e),r=this.children.get(i);if(null!==r){const o=r.findRootMostMatchingPathAndValue(st(e),t);return null!=o?{path:xt(new Ze(i),o.path),value:o.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Se(e))return this;{const t=Ie(e),i=this.children.get(t);return null!==i?i.subtree(st(e)):new ht(null)}}set(e,t){if(Se(e))return new ht(t,this.children);{const i=Ie(e),o=(this.children.get(i)||new ht(null)).set(st(e),t),s=this.children.insert(i,o);return new ht(this.value,s)}}remove(e){if(Se(e))return this.children.isEmpty()?new ht(null):new ht(null,this.children);{const t=Ie(e),i=this.children.get(t);if(i){const r=i.remove(st(e));let o;return o=r.isEmpty()?this.children.remove(t):this.children.insert(t,r),null===this.value&&o.isEmpty()?new ht(null):new ht(this.value,o)}return this}}get(e){if(Se(e))return this.value;{const t=Ie(e),i=this.children.get(t);return i?i.get(st(e)):null}}setTree(e,t){if(Se(e))return t;{const i=Ie(e),o=(this.children.get(i)||new ht(null)).setTree(st(e),t);let s;return s=o.isEmpty()?this.children.remove(i):this.children.insert(i,o),new ht(this.value,s)}}fold(e){return this.fold_(Ge(),e)}fold_(e,t){const i={};return this.children.inorderTraversal((r,o)=>{i[r]=o.fold_(xt(e,r),t)}),t(e,this.value,i)}findOnPath(e,t){return this.findOnPath_(e,Ge(),t)}findOnPath_(e,t,i){const r=!!this.value&&i(t,this.value);if(r)return r;if(Se(e))return null;{const o=Ie(e),s=this.children.get(o);return s?s.findOnPath_(st(e),xt(t,o),i):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,Ge(),t)}foreachOnPath_(e,t,i){if(Se(e))return this;{this.value&&i(t,this.value);const r=Ie(e),o=this.children.get(r);return o?o.foreachOnPath_(st(e),xt(t,r),i):new ht(null)}}foreach(e){this.foreach_(Ge(),e)}foreach_(e,t){this.children.inorderTraversal((i,r)=>{r.foreach_(xt(e,i),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,i)=>{i.value&&e(t,i.value)})}}class Lr{constructor(e){this.writeTree_=e}static empty(){return new Lr(new ht(null))}}function Em(n,e,t){if(Se(e))return new Lr(new ht(t));{const i=n.writeTree_.findRootMostValueAndPath(e);if(null!=i){const r=i.path;let o=i.value;const s=vi(r,e);return o=o.updateChild(s,t),new Lr(n.writeTree_.set(r,o))}{const r=new ht(t),o=n.writeTree_.setTree(e,r);return new Lr(o)}}}function RO(n,e,t){let i=n;return Mn(t,(r,o)=>{i=Em(i,xt(e,r),o)}),i}function z9(n,e){if(Se(e))return Lr.empty();{const t=n.writeTree_.setTree(e,new ht(null));return new Lr(t)}}function kO(n,e){return null!=lc(n,e)}function lc(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return null!=t?n.writeTree_.get(t.path).getChild(vi(t.path,e)):null}function $9(n){const e=[],t=n.writeTree_.value;return null!=t?t.isLeafNode()||t.forEachChild(dt,(i,r)=>{e.push(new Te(i,r))}):n.writeTree_.children.inorderTraversal((i,r)=>{null!=r.value&&e.push(new Te(i,r.value))}),e}function Ma(n,e){if(Se(e))return n;{const t=lc(n,e);return new Lr(null!=t?new ht(t):n.writeTree_.subtree(e))}}function OO(n){return n.writeTree_.isEmpty()}function Vd(n,e){return G9(Ge(),n.writeTree_,e)}function G9(n,e,t){if(null!=e.value)return t.updateChild(n,e.value);{let i=null;return e.children.inorderTraversal((r,o)=>{".priority"===r?(L(null!==o.value,"Priority writes must always be leaf nodes"),i=o.value):t=G9(xt(n,r),o,t)}),!t.getChild(n).isEmpty()&&null!==i&&(t=t.updateChild(xt(n,".priority"),i)),t}}function gw(n,e){return Q9(e,n)}function AAe(n,e){if(n.snap)return fr(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&fr(xt(n.path,t),e))return!0;return!1}function RAe(n){return n.visible}function W9(n,e,t){let i=Lr.empty();for(let r=0;r<n.length;++r){const o=n[r];if(e(o)){const s=o.path;let a;if(o.snap)fr(t,s)?(a=vi(t,s),i=Em(i,a,o.snap)):fr(s,t)&&(a=vi(s,t),i=Em(i,Ge(),o.snap.getChild(a)));else{if(!o.children)throw bu("WriteRecord should have .snap or .children");if(fr(t,s))a=vi(t,s),i=RO(i,a,o.children);else if(fr(s,t))if(a=vi(s,t),Se(a))i=RO(i,Ge(),o.children);else{const l=Cu(o.children,Ie(a));if(l){const c=l.getChild(st(a));i=Em(i,Ge(),c)}}}}}return i}function q9(n,e,t,i,r){if(i||r){const o=Ma(n.visibleWrites,e);return!r&&OO(o)?t:r||null!=t||kO(o,Ge())?Vd(W9(n.allWrites,function(c){return(c.visible||r)&&(!i||!~i.indexOf(c.writeId))&&(fr(c.path,e)||fr(e,c.path))},e),t||ge.EMPTY_NODE):null}{const o=lc(n.visibleWrites,e);if(null!=o)return o;{const s=Ma(n.visibleWrites,e);return OO(s)?t:null!=t||kO(s,Ge())?Vd(s,t||ge.EMPTY_NODE):null}}}function _w(n,e,t,i){return q9(n.writeTree,n.treePath,e,t,i)}function PO(n,e){return function kAe(n,e,t){let i=ge.EMPTY_NODE;const r=lc(n.visibleWrites,e);if(r)return r.isLeafNode()||r.forEachChild(dt,(o,s)=>{i=i.updateImmediateChild(o,s)}),i;if(t){const o=Ma(n.visibleWrites,e);return t.forEachChild(dt,(s,a)=>{const l=Vd(Ma(o,new Ze(s)),a);i=i.updateImmediateChild(s,l)}),$9(o).forEach(s=>{i=i.updateImmediateChild(s.name,s.node)}),i}return $9(Ma(n.visibleWrites,e)).forEach(s=>{i=i.updateImmediateChild(s.name,s.node)}),i}(n.writeTree,n.treePath,e)}function K9(n,e,t,i){return function OAe(n,e,t,i,r){L(i||r,"Either existingEventSnap or existingServerSnap must exist");const o=xt(e,t);if(kO(n.visibleWrites,o))return null;{const s=Ma(n.visibleWrites,o);return OO(s)?r.getChild(t):Vd(s,r.getChild(t))}}(n.writeTree,n.treePath,e,t,i)}function yw(n,e){return function NAe(n,e){return lc(n.visibleWrites,e)}(n.writeTree,xt(n.treePath,e))}function NO(n,e,t){return function PAe(n,e,t,i){const r=xt(e,t),o=lc(n.visibleWrites,r);return null!=o?o:i.isCompleteForChild(t)?Vd(Ma(n.visibleWrites,r),i.getNode().getImmediateChild(t)):null}(n.writeTree,n.treePath,e,t)}function Y9(n,e){return Q9(xt(n.treePath,e),n.writeTree)}function Q9(n,e){return{treePath:n,writeTree:e}}class BAe{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,i=e.childName;L("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),L(".priority"!==i,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const o=r.type;if("child_added"===t&&"child_removed"===o)this.changeMap.set(i,vm(i,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===o)this.changeMap.delete(i);else if("child_removed"===t&&"child_changed"===o)this.changeMap.set(i,function ym(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}(i,r.oldSnap));else if("child_changed"===t&&"child_added"===o)this.changeMap.set(i,function Nd(n,e){return{type:"child_added",snapshotNode:e,childName:n}}(i,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==o)throw bu("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(i,vm(i,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}const X9=new class UAe{getCompleteChild(e){return null}getChildAfterChild(e,t,i){return null}};class FO{constructor(e,t,i=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=i}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const i=null!=this.optCompleteServerCache_?new Aa(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return NO(this.writes_,e,i)}}getChildAfterChild(e,t,i){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:ac(this.viewCache_),o=function VAe(n,e,t,i,r,o){return function FAe(n,e,t,i,r,o,s){let a;const l=Ma(n.visibleWrites,e),c=lc(l,Ge());if(null!=c)a=c;else{if(null==t)return[];a=Vd(l,t)}if(a=a.withIndex(s),a.isEmpty()||a.isLeafNode())return[];{const u=[],d=s.getCompare(),h=o?a.getReverseIteratorFrom(i,s):a.getIteratorFrom(i,s);let f=h.getNext();for(;f&&u.length<r;)0!==d(f,i)&&u.push(f),f=h.getNext();return u}}(n.writeTree,n.treePath,e,t,i,r,o)}(this.writes_,r,t,1,i,e);return 0===o.length?null:o[0]}}function Z9(n,e,t,i,r,o){const s=e.eventCache;if(null!=yw(i,t))return e;{let a,l;if(Se(t))if(L(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=ac(e),d=PO(i,c instanceof ge?c:ge.EMPTY_NODE);a=n.filter.updateFullNode(e.eventCache.getNode(),d,o)}else{const c=_w(i,ac(e));a=n.filter.updateFullNode(e.eventCache.getNode(),c,o)}else{const c=Ie(t);if(".priority"===c){L(1===Ta(t),"Can't have a priority with additional path components");const u=s.getNode();l=e.serverCache.getNode();const d=K9(i,t,u,l);a=null!=d?n.filter.updatePriority(u,d):s.getNode()}else{const u=st(t);let d;if(s.isCompleteForChild(c)){l=e.serverCache.getNode();const h=K9(i,t,s.getNode(),l);d=null!=h?s.getNode().getImmediateChild(c).updateChild(u,h):s.getNode().getImmediateChild(c)}else d=NO(i,c,e.serverCache);a=null!=d?n.filter.updateChild(s.getNode(),c,d,u,r,o):s.getNode()}}return xm(e,a,s.isFullyInitialized()||Se(t),n.filter.filtersNodes())}}function vw(n,e,t,i,r,o,s,a){const l=e.serverCache;let c;const u=s?n.filter:n.filter.getIndexedFilter();if(Se(t))c=u.updateFullNode(l.getNode(),i,null);else if(u.filtersNodes()&&!l.isFiltered()){const f=l.getNode().updateChild(t,i);c=u.updateFullNode(l.getNode(),f,null)}else{const f=Ie(t);if(!l.isCompleteForPath(t)&&Ta(t)>1)return e;const p=st(t),g=l.getNode().getImmediateChild(f).updateChild(p,i);c=".priority"===f?u.updatePriority(l.getNode(),g):u.updateChild(l.getNode(),f,g,p,X9,null)}const d=H9(e,c,l.isFullyInitialized()||Se(t),u.filtersNodes());return Z9(n,d,t,r,new FO(r,d,o),a)}function LO(n,e,t,i,r,o,s){const a=e.eventCache;let l,c;const u=new FO(r,e,o);if(Se(t))c=n.filter.updateFullNode(e.eventCache.getNode(),i,s),l=xm(e,c,!0,n.filter.filtersNodes());else{const d=Ie(t);if(".priority"===d)c=n.filter.updatePriority(e.eventCache.getNode(),i),l=xm(e,c,a.isFullyInitialized(),a.isFiltered());else{const h=st(t),f=a.getNode().getImmediateChild(d);let p;if(Se(h))p=i;else{const m=u.getCompleteChild(d);p=null!=m?".priority"===fO(h)&&m.getChild(T9(h)).isEmpty()?m:m.updateChild(h,i):ge.EMPTY_NODE}l=f.equals(p)?e:xm(e,n.filter.updateChild(a.getNode(),d,p,h,u,s),a.isFullyInitialized(),n.filter.filtersNodes())}}return l}function J9(n,e){return n.eventCache.isCompleteForChild(e)}function e7(n,e,t){return t.foreach((i,r)=>{e=e.updateChild(i,r)}),e}function VO(n,e,t,i,r,o,s,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let c,l=e;c=Se(t)?i:new ht(null).setTree(t,i);const u=e.serverCache.getNode();return c.children.inorderTraversal((d,h)=>{if(u.hasChild(d)){const p=e7(0,e.serverCache.getNode().getImmediateChild(d),h);l=vw(n,l,new Ze(d),p,r,o,s,a)}}),c.children.inorderTraversal((d,h)=>{const f=!e.serverCache.isCompleteForChild(d)&&null===h.value;if(!u.hasChild(d)&&!f){const m=e7(0,e.serverCache.getNode().getImmediateChild(d),h);l=vw(n,l,new Ze(d),m,r,o,s,a)}}),l}function ZAe(n,e){const t=ac(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!Se(e)&&!t.getImmediateChild(Ie(e)).isEmpty())?t.getChild(e):null}function r7(n,e,t,i){e.type===pr.MERGE&&null!==e.source.queryId&&(L(ac(n.viewCache_),"We should always have a full cache before handling merges"),L(mw(n.viewCache_),"Missing event cache, even though we have a server cache"));const r=n.viewCache_,o=function zAe(n,e,t,i,r){const o=new BAe;let s,a;if(t.type===pr.OVERWRITE){const c=t;c.source.fromUser?s=LO(n,e,c.path,c.snap,i,r,o):(L(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!Se(c.path),s=vw(n,e,c.path,c.snap,i,r,a,o))}else if(t.type===pr.MERGE){const c=t;c.source.fromUser?s=function GAe(n,e,t,i,r,o,s){let a=e;return i.foreach((l,c)=>{const u=xt(t,l);J9(e,Ie(u))&&(a=LO(n,a,u,c,r,o,s))}),i.foreach((l,c)=>{const u=xt(t,l);J9(e,Ie(u))||(a=LO(n,a,u,c,r,o,s))}),a}(n,e,c.path,c.children,i,r,o):(L(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),s=VO(n,e,c.path,c.children,i,r,a,o))}else if(t.type===pr.ACK_USER_WRITE){const c=t;s=c.revert?function KAe(n,e,t,i,r,o){let s;if(null!=yw(i,t))return e;{const a=new FO(i,e,r),l=e.eventCache.getNode();let c;if(Se(t)||".priority"===Ie(t)){let u;if(e.serverCache.isFullyInitialized())u=_w(i,ac(e));else{const d=e.serverCache.getNode();L(d instanceof ge,"serverChildren would be complete if leaf node"),u=PO(i,d)}c=n.filter.updateFullNode(l,u,o)}else{const u=Ie(t);let d=NO(i,u,e.serverCache);null==d&&e.serverCache.isCompleteForChild(u)&&(d=l.getImmediateChild(u)),c=null!=d?n.filter.updateChild(l,u,d,st(t),a,o):e.eventCache.getNode().hasChild(u)?n.filter.updateChild(l,u,ge.EMPTY_NODE,st(t),a,o):l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(s=_w(i,ac(e)),s.isLeafNode()&&(c=n.filter.updateFullNode(c,s,o)))}return s=e.serverCache.isFullyInitialized()||null!=yw(i,Ge()),xm(e,c,s,n.filter.filtersNodes())}}(n,e,c.path,i,r,o):function WAe(n,e,t,i,r,o,s){if(null!=yw(r,t))return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(null!=i.value){if(Se(t)&&l.isFullyInitialized()||l.isCompleteForPath(t))return vw(n,e,t,l.getNode().getChild(t),r,o,a,s);if(Se(t)){let c=new ht(null);return l.getNode().forEachChild(To,(u,d)=>{c=c.set(new Ze(u),d)}),VO(n,e,t,c,r,o,a,s)}return e}{let c=new ht(null);return i.foreach((u,d)=>{const h=xt(t,u);l.isCompleteForPath(h)&&(c=c.set(u,l.getNode().getChild(h)))}),VO(n,e,t,c,r,o,a,s)}}(n,e,c.path,c.affectedTree,i,r,o)}else{if(t.type!==pr.LISTEN_COMPLETE)throw bu("Unknown operation type: "+t.type);s=function qAe(n,e,t,i,r){const o=e.serverCache;return Z9(n,H9(e,o.getNode(),o.isFullyInitialized()||Se(t),o.isFiltered()),t,i,X9,r)}(n,e,t.path,i,o)}const l=o.getChanges();return function $Ae(n,e,t){const i=e.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),o=mw(n);(t.length>0||!n.eventCache.isFullyInitialized()||r&&!i.getNode().equals(o)||!i.getNode().getPriority().equals(o.getPriority()))&&t.push(function V9(n){return{type:"value",snapshotNode:n}}(mw(e)))}}(e,s,l),{viewCache:s,changes:l}}(n.processor_,r,e,t,i);return function HAe(n,e){L(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),L(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,o.viewCache),L(o.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=o.viewCache,function o7(n,e,t,i){return function wAe(n,e,t,i){const r=[],o=[];return e.forEach(s=>{"child_changed"===s.type&&n.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(function aAe(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}(s.childName,s.snapshotNode))}),Cm(n,r,"child_removed",e,i,t),Cm(n,r,"child_added",e,i,t),Cm(n,r,"child_moved",o,i,t),Cm(n,r,"child_changed",e,i,t),Cm(n,r,"value",e,i,t),r}(n.eventGenerator_,e,t,i?[i]:n.eventRegistrations_)}(n,o.changes,o.viewCache.eventCache.getNode(),null)}let bw,Cw;function BO(n,e,t,i){const r=e.source.queryId;if(null!==r){const o=n.views.get(r);return L(null!=o,"SyncTree gave us an op for an invalid query."),r7(o,e,t,i)}{let o=[];for(const s of n.views.values())o=o.concat(r7(s,e,t,i));return o}}function Ra(n,e){let t=null;for(const i of n.views.values())t=t||ZAe(i,e);return t}class d7{constructor(e){this.listenProvider_=e,this.syncPointTree_=new ht(null),this.pendingWriteTree_=function LAe(){return{visibleWrites:Lr.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function UO(n,e,t,i,r){return function DAe(n,e,t,i,r){L(i>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),n.allWrites.push({path:e,snap:t,writeId:i,visible:r}),r&&(n.visibleWrites=Em(n.visibleWrites,e,t)),n.lastWriteId=i}(n.pendingWriteTree_,e,t,i,r),r?Bd(n,new sc({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,t)):[]}function Oa(n,e,t=!1){const i=function SAe(n,e){for(let t=0;t<n.allWrites.length;t++){const i=n.allWrites[t];if(i.writeId===e)return i}return null}(n.pendingWriteTree_,e);if(function TAe(n,e){const t=n.allWrites.findIndex(a=>a.writeId===e);L(t>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[t];n.allWrites.splice(t,1);let r=i.visible,o=!1,s=n.allWrites.length-1;for(;r&&s>=0;){const a=n.allWrites[s];a.visible&&(s>=t&&AAe(a,i.path)?r=!1:fr(i.path,a.path)&&(o=!0)),s--}return!!r&&(o?(function MAe(n){n.visibleWrites=W9(n.allWrites,RAe,Ge()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(i.snap?n.visibleWrites=z9(n.visibleWrites,i.path):Mn(i.children,l=>{n.visibleWrites=z9(n.visibleWrites,xt(i.path,l))}),!0))}(n.pendingWriteTree_,e)){let o=new ht(null);return null!=i.snap?o=o.set(Ge(),!0):Mn(i.children,s=>{o=o.set(new Ze(s),!0)}),Bd(n,new fw(i.path,o,t))}return[]}function Dm(n,e,t){return Bd(n,new sc({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,t))}function Ew(n,e,t){const r=n.pendingWriteTree_,o=n.syncPointTree_.findOnPath(e,(s,a)=>{const c=Ra(a,vi(s,e));if(c)return c});return q9(r,e,o,t,!0)}function Bd(n,e){return f7(e,n.syncPointTree_,null,gw(n.pendingWriteTree_,Ge()))}function f7(n,e,t,i){if(Se(n.path))return p7(n,e,t,i);{const r=e.get(Ge());null==t&&null!=r&&(t=Ra(r,Ge()));let o=[];const s=Ie(n.path),a=n.operationForChild(s),l=e.children.get(s);if(l&&a){const c=t?t.getImmediateChild(s):null,u=Y9(i,s);o=o.concat(f7(a,l,c,u))}return r&&(o=o.concat(BO(r,n,i,t))),o}}function p7(n,e,t,i){const r=e.get(Ge());null==t&&null!=r&&(t=Ra(r,Ge()));let o=[];return e.children.inorderTraversal((s,a)=>{const l=t?t.getImmediateChild(s):null,c=Y9(i,s),u=n.operationForChild(s);u&&(o=o.concat(p7(u,a,l,c)))}),r&&(o=o.concat(BO(r,n,i,t))),o}function HO(n,e){return n.tagToQueryMap.get(e)}function zO(n){const e=n.indexOf("$");return L(-1!==e&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new Ze(n.substr(0,e))}}function $O(n,e,t){const i=n.syncPointTree_.get(e);return L(i,"Missing sync point for query tag that we're tracking"),BO(i,t,gw(n.pendingWriteTree_,e),null)}class GO{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new GO(t)}node(){return this.node_}}class WO{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=xt(this.path_,e);return new WO(this.syncTree_,t)}node(){return Ew(this.syncTree_,this.path_)}}const vMe=function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n},g7=function(n,e,t){return n&&"object"==typeof n?(L(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?bMe(n[".sv"],e,t):"object"==typeof n[".sv"]?wMe(n[".sv"],e):void L(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},bMe=function(n,e,t){if("timestamp"===n)return t.timestamp;L(!1,"Unexpected server value: "+n)},wMe=function(n,e,t){n.hasOwnProperty("increment")||L(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;"number"!=typeof i&&L(!1,"Unexpected increment value: "+i);const r=e.node();if(L(null!==r&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const s=r.getValue();return"number"!=typeof s?i:s+i},_7=function(n,e,t,i){return KO(e,new WO(t,n),i)},qO=function(n,e,t){return KO(n,new GO(e),t)};function KO(n,e,t){const i=n.getPriority().val(),r=g7(i,e.getImmediateChild(".priority"),t);let o;if(n.isLeafNode()){const s=n,a=g7(s.getValue(),e,t);return a!==s.getValue()||r!==s.getPriority().val()?new Od(a,Tt(r)):n}{const s=n;return o=s,r!==s.getPriority().val()&&(o=o.updatePriority(new Od(r))),s.forEachChild(dt,(a,l)=>{const c=KO(l,e.getImmediateChild(a),t);c!==l&&(o=o.updateImmediateChild(a,c))}),o}}class YO{constructor(e="",t=null,i={children:{},childCount:0}){this.name=e,this.parent=t,this.node=i}}function Iw(n,e){let t=e instanceof Ze?e:new Ze(e),i=n,r=Ie(t);for(;null!==r;){const o=Cu(i.node.children,r)||{children:{},childCount:0};i=new YO(r,i,o),t=st(t),r=Ie(t)}return i}function cc(n){return n.node.value}function QO(n,e){n.node.value=e,XO(n)}function y7(n){return n.node.childCount>0}function Sw(n,e){Mn(n.node.children,(t,i)=>{e(new YO(t,n,i))})}function v7(n,e,t,i){t&&!i&&e(n),Sw(n,r=>{v7(r,e,!0,i)}),t&&i&&e(n)}function Tm(n){return new Ze(null===n.parent?n.name:Tm(n.parent)+"/"+n.name)}function XO(n){null!==n.parent&&function EMe(n,e,t){const i=function CMe(n){return void 0===cc(n)&&!y7(n)}(t),r=ts(n.node.children,e);i&&r?(delete n.node.children[e],n.node.childCount--,XO(n)):!i&&!r&&(n.node.children[e]=t.node,n.node.childCount++,XO(n))}(n.parent,n.name,n)}const DMe=/[\[\].#$\/\u0000-\u001F\u007F]/,IMe=/[\[\].#$\u0000-\u001F\u007F]/,ZO=10485760,Tw=function(n){return"string"==typeof n&&0!==n.length&&!DMe.test(n)},Mm=function(n,e,t){const i=t instanceof Ze?new zTe(t,n):t;if(void 0===e)throw new Error(n+"contains undefined "+rc(i));if("function"==typeof e)throw new Error(n+"contains a function "+rc(i)+" with contents = "+e.toString());if(nw(e))throw new Error(n+"contains "+e.toString()+" "+rc(i));if("string"==typeof e&&e.length>ZO/3&&ny(e)>ZO)throw new Error(n+"contains a string greater than "+ZO+" utf8 bytes "+rc(i)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){let r=!1,o=!1;if(Mn(e,(s,a)=>{if(".value"===s)r=!0;else if(".priority"!==s&&".sv"!==s&&(o=!0,!Tw(s)))throw new Error(n+" contains an invalid key ("+s+") "+rc(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function $Te(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=ny(e),A9(n)})(i,s),Mm(n,a,i),function GTe(n){const e=n.parts_.pop();n.byteLength_-=ny(e),n.parts_.length>0&&(n.byteLength_-=1)}(i)}),r&&o)throw new Error(n+' contains ".value" child '+rc(i)+" in addition to actual children.")}},C7=function(n,e){const t=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!Tw(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==t.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),function(n){return"string"==typeof n&&0!==n.length&&!IMe.test(n)}(n)}(t))throw new Error(function ty(n,e){return`${n} failed: ${e} argument `}(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class MMe{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Xi(n,e,t){(function Aw(n,e){let t=null;for(let i=0;i<e.length;i++){const r=e[i],o=r.getPath();null!==t&&!pO(o,t.path)&&(n.eventLists_.push(t),t=null),null===t&&(t={events:[],path:o}),t.events.push(r)}t&&n.eventLists_.push(t)})(n,t),function E7(n,e){n.recursionDepth_++;let t=!0;for(let i=0;i<n.eventLists_.length;i++){const r=n.eventLists_[i];r&&(e(r.path)?(RMe(n.eventLists_[i]),n.eventLists_[i]=null):t=!1)}t&&(n.eventLists_=[]),n.recursionDepth_--}(n,i=>fr(i,e)||fr(e,i))}function RMe(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(null!==t){n.events[e]=null;const i=t.getEventRunner();nc&&An("event: "+t.toString()),Rd(i)}}}const D7="repo_interrupt",kMe=25;class OMe{constructor(e,t,i,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new MMe,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=hw(),this.transactionQueueTree_=new YO,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function I7(n){const t=n.infoData_.getNode(new Ze(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function km(n){return vMe({timestamp:I7(n)})}function S7(n,e,t,i,r){n.dataUpdateCount++;const o=new Ze(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let s=[];if(r)if(i){const l=J_(t,c=>Tt(c));s=function fMe(n,e,t,i){const r=HO(n,i);if(r){const o=zO(r),s=o.path,a=o.queryId,l=vi(s,e),c=ht.fromObject(t);return $O(n,s,new Ld(AO(a),l,c))}return[]}(n.serverSyncTree_,o,l,r)}else{const l=Tt(t);s=function h7(n,e,t,i){const r=HO(n,i);if(null!=r){const o=zO(r),s=o.path,a=o.queryId,l=vi(s,e);return $O(n,s,new sc(AO(a),l,t))}return[]}(n.serverSyncTree_,o,l,r)}else if(i){const l=J_(t,c=>Tt(c));s=function uMe(n,e,t){const i=ht.fromObject(t);return Bd(n,new Ld({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,i))}(n.serverSyncTree_,o,l)}else{const l=Tt(t);s=Dm(n.serverSyncTree_,o,l)}let a=o;s.length>0&&(a=jd(n,o)),Xi(n.eventQueue_,a,s)}function T7(n,e){tP(n,"connected",e),!1===e&&function VMe(n){Ud(n,"onDisconnectEvents");const e=km(n),t=hw();IO(n.onDisconnect_,Ge(),(r,o)=>{const s=_7(r,o,n.serverSyncTree_,e);Fd(t,r,s)});let i=[];IO(t,Ge(),(r,o)=>{i=i.concat(Dm(n.serverSyncTree_,r,o));const s=function oP(n,e){const t=Tm(R7(n,e)),i=Iw(n.transactionQueueTree_,e);return function xMe(n,e,t){let i=t?n:n.parent;for(;null!==i;){if(e(i))return!0;i=i.parent}}(i,r=>{sP(n,r)}),sP(n,i),v7(i,r=>{sP(n,r)}),t}(n,r);jd(n,s)}),n.onDisconnect_=hw(),Xi(n.eventQueue_,Ge(),i)}(n)}function tP(n,e,t){const i=new Ze("/.info/"+e),r=Tt(t);n.infoData_.updateSnapshot(i,r);const o=Dm(n.infoSyncTree_,i,r);Xi(n.eventQueue_,i,o)}function Mw(n){return n.nextWriteId_++}function Ud(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),An(t,...e)}function rP(n,e,t){return Ew(n.serverSyncTree_,e,t)||ge.EMPTY_NODE}function Rw(n,e=n.transactionQueueTree_){if(e||kw(n,e),cc(e)){const t=k7(n,e);L(t.length>0,"Sending zero length transaction queue"),t.every(r=>0===r.status)&&function GMe(n,e,t){const i=t.map(c=>c.currentWriteId),r=rP(n,e,i);let o=r;const s=r.hash();for(let c=0;c<t.length;c++){const u=t[c];L(0===u.status,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const d=vi(e,u.path);o=o.updateChild(d,u.currentOutputSnapshotRaw)}const a=o.val(!0),l=e;n.server_.put(l.toString(),a,c=>{Ud(n,"transaction put response",{path:l.toString(),status:c});let u=[];if("ok"===c){const d=[];for(let h=0;h<t.length;h++)t[h].status=2,u=u.concat(Oa(n.serverSyncTree_,t[h].currentWriteId)),t[h].onComplete&&d.push(()=>t[h].onComplete(null,!0,t[h].currentOutputSnapshotResolved)),t[h].unwatcher();kw(n,Iw(n.transactionQueueTree_,e)),Rw(n,n.transactionQueueTree_),Xi(n.eventQueue_,e,u);for(let h=0;h<d.length;h++)Rd(d[h])}else{if("datastale"===c)for(let d=0;d<t.length;d++)t[d].status=3===t[d].status?4:0;else{ai("transaction at "+l.toString()+" failed: "+c);for(let d=0;d<t.length;d++)t[d].status=4,t[d].abortReason=c}jd(n,e)}},s)}(n,Tm(e),t)}else y7(e)&&Sw(e,t=>{Rw(n,t)})}function jd(n,e){const t=R7(n,e),i=Tm(t);return function WMe(n,e,t){if(0===e.length)return;const i=[];let r=[];const s=e.filter(a=>0===a.status).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],c=vi(t,l.path);let d,u=!1;if(L(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),4===l.status)u=!0,d=l.abortReason,r=r.concat(Oa(n.serverSyncTree_,l.currentWriteId,!0));else if(0===l.status)if(l.retryCount>=kMe)u=!0,d="maxretry",r=r.concat(Oa(n.serverSyncTree_,l.currentWriteId,!0));else{const h=rP(n,l.path,s);l.currentInputSnapshot=h;const f=e[a].update(h.val());if(void 0!==f){Mm("transaction failed: Data returned ",f,l.path);let p=Tt(f);"object"==typeof f&&null!=f&&ts(f,".priority")||(p=p.updatePriority(h.getPriority()));const g=l.currentWriteId,y=km(n),x=qO(p,h,y);l.currentOutputSnapshotRaw=p,l.currentOutputSnapshotResolved=x,l.currentWriteId=Mw(n),s.splice(s.indexOf(g),1),r=r.concat(UO(n.serverSyncTree_,l.path,x,l.currentWriteId,l.applyLocally)),r=r.concat(Oa(n.serverSyncTree_,g,!0))}else u=!0,d="nodata",r=r.concat(Oa(n.serverSyncTree_,l.currentWriteId,!0))}Xi(n.eventQueue_,t,r),r=[],u&&(e[a].status=2,setTimeout(e[a].unwatcher,Math.floor(0)),e[a].onComplete&&i.push("nodata"===d?()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot):()=>e[a].onComplete(new Error(d),!1,null)))}kw(n,n.transactionQueueTree_);for(let a=0;a<i.length;a++)Rd(i[a]);Rw(n,n.transactionQueueTree_)}(n,k7(n,t),i),i}function R7(n,e){let t,i=n.transactionQueueTree_;for(t=Ie(e);null!==t&&void 0===cc(i);)i=Iw(i,t),t=Ie(e=st(e));return i}function k7(n,e){const t=[];return O7(n,e,t),t.sort((i,r)=>i.order-r.order),t}function O7(n,e,t){const i=cc(e);if(i)for(let r=0;r<i.length;r++)t.push(i[r]);Sw(e,r=>{O7(n,r,t)})}function kw(n,e){const t=cc(e);if(t){let i=0;for(let r=0;r<t.length;r++)2!==t[r].status&&(t[i]=t[r],i++);t.length=i,QO(e,t.length>0?t:void 0)}Sw(e,i=>{kw(n,i)})}function sP(n,e){const t=cc(e);if(t){const i=[];let r=[],o=-1;for(let s=0;s<t.length;s++)3===t[s].status||(1===t[s].status?(L(o===s-1,"All SENT items should be at beginning of queue."),o=s,t[s].status=3,t[s].abortReason="set"):(L(0===t[s].status,"Unexpected transaction status in abort"),t[s].unwatcher(),r=r.concat(Oa(n.serverSyncTree_,t[s].currentWriteId,!0)),t[s].onComplete&&i.push(t[s].onComplete.bind(null,new Error("set"),!1,null))));-1===o?QO(e,void 0):t.length=o+1,Xi(n.eventQueue_,Tm(e),r);for(let s=0;s<i.length;s++)Rd(i[s])}}const aP=function(n,e){const t=YMe(n),i=t.namespace;return"firebase.com"===t.domain&&So(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==t.domain&&So("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&ai("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new aO(t.host,t.secure,i,"ws"===t.scheme||"wss"===t.scheme,e,"",i!==t.subdomain),path:new Ze(t.pathString)}},YMe=function(n){let e="",t="",i="",r="",o="",s=!0,a="https",l=443;if("string"==typeof n){let c=n.indexOf("//");c>=0&&(a=n.substring(0,c-1),n=n.substring(c+2));let u=n.indexOf("/");-1===u&&(u=n.length);let d=n.indexOf("?");-1===d&&(d=n.length),e=n.substring(0,Math.min(u,d)),u<d&&(r=function qMe(n){let e="";const t=n.split("/");for(let i=0;i<t.length;i++)if(t[i].length>0){let r=t[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}e+="/"+r}return e}(n.substring(u,d)));const h=function KMe(n){const e={};"?"===n.charAt(0)&&(n=n.substring(1));for(const t of n.split("&")){if(0===t.length)continue;const i=t.split("=");2===i.length?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):ai(`Invalid query segment '${t}' in query '${n}'`)}return e}(n.substring(Math.min(n.length,d)));c=e.indexOf(":"),c>=0?(s="https"===a||"wss"===a,l=parseInt(e.substring(c+1),10)):c=e.length;const f=e.slice(0,c);if("localhost"===f.toLowerCase())t="localhost";else if(f.split(".").length<=2)t=f;else{const p=e.indexOf(".");i=e.substring(0,p).toLowerCase(),t=e.substring(p+1),o=i}"ns"in h&&(o=h.ns)}return{host:e,port:l,domain:t,subdomain:i,secure:s,scheme:a,pathString:r,namespace:o}};class Zi{constructor(e,t,i,r){this._repo=e,this._path=t,this._queryParams=i,this._orderByCalled=r}get key(){return Se(this._path)?null:fO(this._path)}get ref(){return new Vr(this._repo,this._path)}get _queryIdentifier(){const e=U9(this._queryParams),t=oO(e);return"{}"===t?"default":t}get _queryObject(){return U9(this._queryParams)}isEqual(e){if(!((e=Nt(e))instanceof Zi))return!1;const t=this._repo===e._repo,i=pO(this._path,e._path);return t&&i&&this._queryIdentifier===e._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function jTe(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)""!==n.pieces_[t]&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}(this._path)}}class Vr extends Zi{constructor(e,t){super(e,t,new CO,!1)}get parent(){const e=T9(this._path);return null===e?null:new Vr(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}(function tMe(n){L(!bw,"__referenceConstructor has already been defined"),bw=n})(Vr),function sMe(n){L(!Cw,"__referenceConstructor has already been defined"),Cw=n}(Vr);const cRe="FIREBASE_DATABASE_EMULATOR_HOST",cP={};let U7=!1;class mRe{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function PMe(n,e,t){if(n.stats_=uO(n.repoInfo_),n.forceRestClient_||pTe())n.server_=new dw(n.repoInfo_,(i,r,o,s)=>{S7(n,i,r,o,s)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>T7(n,!0),0);else{if(typeof t<"u"&&null!==t){if("object"!=typeof t)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ln(t)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new oc(n.repoInfo_,e,(i,r,o,s)=>{S7(n,i,r,o,s)},i=>{T7(n,i)},i=>{!function NMe(n,e){Mn(e,(t,i)=>{tP(n,t,i)})}(n,i)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=function vTe(n,e){const t=n.toString();return cO[t]||(cO[t]=e()),cO[t]}(n.repoInfo_,()=>new vAe(n.stats_,n.server_)),n.infoData_=new pAe,n.infoSyncTree_=new d7({startListening:(i,r,o,s)=>{let a=[];const l=n.infoData_.getNode(i._path);return l.isEmpty()||(a=Dm(n.infoSyncTree_,i._path,l),setTimeout(()=>{s("ok")},0)),a},stopListening:()=>{}}),tP(n,"connected",!1),n.serverSyncTree_=new d7({startListening:(i,r,o,s)=>(n.server_.listen(i,o,r,(a,l)=>{const c=s(a,l);Xi(n.eventQueue_,i._path,c)}),[]),stopListening:(i,r)=>{n.server_.unlisten(i,r)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Vr(this._repo,Ge())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function hRe(n,e){const t=cP[e];(!t||t[n.key]!==n)&&So(`Database ${e}(${n.repoInfo_}) has already been deleted.`),function M7(n){n.persistentConnection_&&n.persistentConnection_.interrupt(D7)}(n),delete t[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&So("Cannot call "+e+" on a deleted database.")}}function gRe(n=uf(),e){const t=Ys(n,"database").getImmediate({identifier:e});if(!t._instanceStarted){const i=zE("database");i&&function _Re(n,e,t,i={}){(n=Nt(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&So("Cannot call useEmulator() after instance has already been initialized.");const r=n._repoInternal;let o;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&So('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new fm(fm.OWNER);else if(i.mockUserToken){const s="string"==typeof i.mockUserToken?i.mockUserToken:$E(i.mockUserToken,n.app.options.projectId);o=new fm(s)}!function uRe(n,e,t,i){n.repoInfo_=new aO(`${e}:${t}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0),i&&(n.authTokenProvider_=i)}(r,e,t,o)}(t,...i)}return t}oc.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)},oc.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)},function yRe(n){(function nTe(n){nO=n})(is),Vn(new wn("database",(e,{instanceIdentifier:t})=>function dRe(n,e,t,i,r){let o=i||n.options.databaseURL;void 0===o&&(n.options.projectId||So("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),An("Using default host for project ",n.options.projectId),o=`${n.options.projectId}-default-rtdb.firebaseio.com`);let l,c,s=aP(o,r),a=s.repoInfo;typeof process<"u"&&process.env&&(c=process.env[cRe]),c?(l=!0,o=`http://${c}?ns=${a.namespace}`,s=aP(o,r),a=s.repoInfo):l=!s.repoInfo.secure;const u=r&&l?new fm(fm.OWNER):new gTe(n.name,n.options,e);C7("Invalid Firebase Database URL",s),Se(s.path)||So("Database URL must point to the root of a Firebase Database (not including a child path).");const d=function fRe(n,e,t,i){let r=cP[e.name];r||(r={},cP[e.name]=r);let o=r[n.toURLString()];return o&&So("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new OMe(n,U7,t,i),r[n.toURLString()]=o,o}(a,n,u,new mTe(n.name,t));return new mRe(d,n)}(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),t),"PUBLIC").setMultipleInstances(!0)),it(z8,"0.14.4",n),it(z8,"0.14.4","esm2017")}();class uP{constructor(e){return e}}const H7="database",dP=new I("angularfire2.database-instances");function xRe(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new uP(i)}}const ERe={provide:class wRe{constructor(){return Tf(H7)}},deps:[[new ze,dP]]},DRe={provide:uP,useFactory:function CRe(n,e){const t=Sf(H7,n,e);return t&&new uP(t)},deps:[[new ze,dP],ta]};let IRe=(()=>{class n{constructor(){it("angularfire",Mu.full,"rtdb")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ce({type:n}),n.\u0275inj=se({providers:[DRe,ERe]}),n})();function SRe(n,...e){return{ngModule:IRe,providers:[{provide:dP,useFactory:xRe(n),multi:!0,deps:[ae,Ot,Af,Mf,[new ze,Vy],[new ze,Of],...e]}]}}const TRe=Ar(gRe,!0),z7="firebasestorage.googleapis.com",$7="storageBucket";class At extends Wi{constructor(e,t,i=0){super(hP(e),`Firebase Storage: ${t} (${hP(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,At.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return hP(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var ft=(()=>(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(ft||(ft={})),ft))();function hP(n){return"storage/"+n}function pP(n){return new At(ft.INVALID_ARGUMENT,n)}function K7(){return new At(ft.APP_DELETED,"The Firebase app was deleted.")}class bi{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=bi.makeFromUrl(e,t)}catch{return new bi(e,"")}if(""===i.path)return i;throw function VRe(n){return new At(ft.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let i=null;const r="([A-Za-z0-9.\\-_]+)",a=new RegExp("^gs://"+r+"(/(.*))?$","i");function c(S){S.path_=decodeURIComponent(S.path)}const d=t.replace(/[.]/g,"\\."),v=[{regex:a,indices:{bucket:1,path:3},postModify:function o(S){"/"===S.path.charAt(S.path.length-1)&&(S.path_=S.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${d}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:c},{regex:new RegExp(`^https?://${t===z7?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:c}];for(let S=0;S<v.length;S++){const j=v[S],z=j.regex.exec(e);if(z){let pt=z[j.indices.path];pt||(pt=""),i=new bi(z[j.indices.bucket],pt),j.postModify(i);break}}if(null==i)throw function LRe(n){return new At(ft.INVALID_URL,"Invalid URL '"+n+"'.")}(e);return i}}class $Re{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function gP(n,e,t,i){if(i<e)throw pP(`Invalid value for '${n}'. Expected ${e} or greater.`);if(i>t)throw pP(`Invalid value for '${n}'. Expected ${t} or less.`)}var Fa=(()=>(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"}(Fa||(Fa={})),Fa))();class QRe{constructor(e,t,i,r,o,s,a,l,c,u,d,h=!0){this.url_=e,this.method_=t,this.headers_=i,this.body_=r,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=u,this.connectionFactory_=d,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((f,p)=>{this.resolve_=f,this.reject_=p,this.start_()})}start_(){const t=(i,r)=>{const o=this.resolve_,s=this.reject_,a=r.connection;if(r.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());!function qRe(n){return void 0!==n}(l)?o():o(l)}catch(l){s(l)}else if(null!==a){const l=function fP(){return new At(ft.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}();l.serverResponse=a.getErrorText(),s(this.errorCallback_?this.errorCallback_(a,l):l)}else s(r.canceled?this.appDelete_?K7():function W7(){return new At(ft.CANCELED,"User canceled the upload/download.")}():function G7(){return new At(ft.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}())};this.canceled_?t(0,new Lw(!1,null,!0)):this.backoffId_=function GRe(n,e,t){let i=1,r=null,o=null,s=!1,a=0;function l(){return 2===a}let c=!1;function u(...g){c||(c=!0,e.apply(null,g))}function d(g){r=setTimeout(()=>{r=null,n(f,l())},g)}function h(){o&&clearTimeout(o)}function f(g,...y){if(c)return void h();if(g)return h(),void u.call(null,g,...y);if(l()||s)return h(),void u.call(null,g,...y);let v;i<64&&(i*=2),1===a?(a=2,v=0):v=1e3*(i+Math.random()),d(v)}let p=!1;function m(g){p||(p=!0,h(),!c&&(null!==r?(g||(a=2),clearTimeout(r),d(0)):g||(a=1)))}return d(0),o=setTimeout(()=>{s=!0,m(!0)},t),m}((i,r)=>{if(r)return void i(!1,new Lw(!1,null,!0));const o=this.connectionFactory_();this.pendingConnection_=o;const s=a=>{null!==this.progressCallback_&&this.progressCallback_(a.loaded,a.lengthComputable?a.total:-1)};null!==this.progressCallback_&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&o.removeUploadProgressListener(s),this.pendingConnection_=null;const a=o.getErrorCode()===Fa.NO_ERROR,l=o.getStatus();if(!a||function X7(n,e){const t=n>=500&&n<600,r=-1!==[408,429].indexOf(n),o=-1!==e.indexOf(n);return t||r||o}(l,this.additionalRetryCodes_)&&this.retry){const u=o.getErrorCode()===Fa.ABORT;return void i(!1,new Lw(!1,null,u))}const c=-1!==this.successCodes_.indexOf(l);i(!0,new Lw(c,o))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function WRe(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Lw{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}}class dc{constructor(e,t){this._service=e,this._location=t instanceof bi?t:bi.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new dc(e,t)}get root(){const e=new bi(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return function nK(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}(this._location.path)}get storage(){return this._service}get parent(){const e=function uke(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new bi(this._location.bucket,e);return new dc(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function zRe(n){return new At(ft.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function _K(n,e){const t=e?.[$7];return null==t?null:bi.makeFromBucketSpec(t,n)}class xP{constructor(e,t,i,r,o){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=r,this._firebaseVersion=o,this._bucket=null,this._host=z7,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?bi.makeFromBucketSpec(r,this._host):_K(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?bi.makeFromBucketSpec(this._url,e):_K(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){gP("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){gP("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return _(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const i=yield t.getToken();if(null!==i)return i.accessToken}return null})()}_getAppCheckToken(){var e=this;return _(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new dc(this,e)}_makeRequest(e,t,i,r,o=!0){if(this._deleted)return new $Re(K7());{const s=function tke(n,e,t,i,r,o,s=!0){const a=function Q7(n){const e=encodeURIComponent;let t="?";for(const i in n)n.hasOwnProperty(i)&&(t=t+(e(i)+"=")+e(n[i])+"&");return t=t.slice(0,-1),t}(n.urlParams),l=n.url+a,c=Object.assign({},n.headers);return function JRe(n,e){e&&(n["X-Firebase-GMPID"]=e)}(c,e),function XRe(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(c,t),function ZRe(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(c,o),function eke(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(c,i),new QRe(l,n.method,c,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r,s)}(e,this._appId,i,r,t,this._firebaseVersion,o);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}makeRequestWithTokens(e,t){var i=this;return _(function*(){const[r,o]=yield Promise.all([i._getAuthToken(),i._getAppCheckToken()]);return i._makeRequest(e,t,r,o).getPromise()})()}}const yK="@firebase/storage",bK="storage";function Yke(n=uf(),e){const i=Ys(n=Nt(n),bK).getImmediate({identifier:e}),r=zE("storage");return r&&function Qke(n,e,t,i={}){!function Kke(n,e,t,i={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:r}=i;r&&(n._overrideAuthToken="string"==typeof r?r:$E(r,n.app.options.projectId))}(n,e,t,i)}(i,...r),i}function Xke(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new xP(t,i,r,e,is)}!function Zke(){Vn(new wn(bK,Xke,"PUBLIC").setMultipleInstances(!0)),it(yK,"0.11.2",""),it(yK,"0.11.2","esm2017")}();class EP{constructor(e){return e}}const wK="storage",DP=new I("angularfire2.storage-instances");function t1e(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new EP(i)}}const n1e={provide:class Jke{constructor(){return Tf(wK)}},deps:[[new ze,DP]]},i1e={provide:EP,useFactory:function e1e(n,e){const t=Sf(wK,n,e);return t&&new EP(t)},deps:[[new ze,DP],ta]};let r1e=(()=>{class n{constructor(){it("angularfire",Mu.full,"gcs")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ce({type:n}),n.\u0275inj=se({providers:[i1e,n1e]}),n})();function o1e(n,...e){return{ngModule:r1e,providers:[{provide:DP,useFactory:t1e(n),multi:!0,deps:[ae,Ot,Af,Mf,[new ze,Vy],[new ze,Of],...e]}]}}const s1e=Ar(Yke,!0);function CK(n){return new D(3e3,!1)}function j1e(){return typeof window<"u"&&typeof window.document<"u"}function IP(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function La(n){switch(n.length){case 0:return new sm;case 1:return n[0];default:return new x8(n)}}function xK(n,e,t,i,r=new Map,o=new Map){const s=[],a=[];let l=-1,c=null;if(i.forEach(u=>{const d=u.get("offset"),h=d==l,f=h&&c||new Map;u.forEach((p,m)=>{let g=m,y=p;if("offset"!==m)switch(g=e.normalizePropertyName(g,s),y){case K1:y=r.get(m);break;case Is:y=o.get(m);break;default:y=e.normalizeStyleValue(m,g,y,s)}f.set(g,y)}),h||a.push(f),c=f,l=d}),s.length)throw function A1e(n){return new D(3502,!1)}();return a}function SP(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&TP(t,"start",n)));break;case"done":n.onDone(()=>i(t&&TP(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&TP(t,"destroy",n)))}}function TP(n,e,t){const o=AP(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),s=n._data;return null!=s&&(o._data=s),o}function AP(n,e,t,i,r="",o=0,s){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:o,disabled:!!s}}function Ji(n,e,t){let i=n.get(e);return i||n.set(e,i=t),i}function EK(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let MP=(n,e)=>!1,DK=(n,e,t)=>[],IK=null;function RP(n){const e=n.parentNode||n.host;return e===IK?null:e}(IP()||typeof Element<"u")&&(j1e()?(IK=(()=>document.documentElement)(),MP=(n,e)=>{for(;e;){if(e===n)return!0;e=RP(e)}return!1}):MP=(n,e)=>n.contains(e),DK=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const i=n.querySelector(e);return i?[i]:[]});let hc=null,SK=!1;const TK=MP,AK=DK;let MK=(()=>{class n{validateStyleProperty(t){return function z1e(n){hc||(hc=function $1e(){return typeof document<"u"?document.body:null}()||{},SK=!!hc.style&&"WebkitAppearance"in hc.style);let e=!0;return hc.style&&!function H1e(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in hc.style,!e&&SK&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in hc.style)),e}(t)}matchesElement(t,i){return!1}containsElement(t,i){return TK(t,i)}getParentElement(t){return RP(t)}query(t,i,r){return AK(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,o,s,a=[],l){return new sm(r,o)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=k({token:n,factory:n.\u0275fac}),n})(),kP=(()=>{class n{}return n.NOOP=new MK,n})();const G1e=1e3,OP="ng-enter",jw="ng-leave",Hw="ng-trigger",zw=".ng-trigger",kK="ng-animating",PP=".ng-animating";function Rs(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:NP(parseFloat(e[1]),e[2])}function NP(n,e){return"s"===e?n*G1e:n}function $w(n,e,t){return n.hasOwnProperty("duration")?n:function q1e(n,e,t){let r,o=0,s="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(CK()),{duration:0,delay:0,easing:""};r=NP(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(o=NP(parseFloat(l),a[4]));const c=a[5];c&&(s=c)}else r=n;if(!t){let a=!1,l=e.length;r<0&&(e.push(function a1e(){return new D(3100,!1)}()),a=!0),o<0&&(e.push(function l1e(){return new D(3101,!1)}()),a=!0),a&&e.splice(l,0,CK())}return{duration:r,delay:o,easing:s}}(n,e,t)}function Bm(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function OK(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function Va(n,e=new Map,t){if(t)for(let[i,r]of t)e.set(i,r);for(let[i,r]of n)e.set(i,r);return e}function NK(n,e,t){return t?e+":"+t+";":""}function FK(n){let e="";for(let t=0;t<n.style.length;t++){const i=n.style.item(t);e+=NK(0,i,n.style.getPropertyValue(i))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=NK(0,X1e(t),n.style[t]));n.setAttribute("style",e)}function Oo(n,e,t){n.style&&(e.forEach((i,r)=>{const o=LP(r);t&&!t.has(r)&&t.set(r,n.style[o]),n.style[o]=i}),IP()&&FK(n))}function fc(n,e){n.style&&(e.forEach((t,i)=>{const r=LP(i);n.style[r]=""}),IP()&&FK(n))}function Um(n){return Array.isArray(n)?1==n.length?n[0]:b8(n):n}const FP=new RegExp("{{\\s*(.+?)\\s*}}","g");function LK(n){let e=[];if("string"==typeof n){let t;for(;t=FP.exec(n);)e.push(t[1]);FP.lastIndex=0}return e}function jm(n,e,t){const i=n.toString(),r=i.replace(FP,(o,s)=>{let a=e[s];return null==a&&(t.push(function u1e(n){return new D(3003,!1)}()),a=""),a.toString()});return r==i?n:r}function Gw(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const Q1e=/-+([a-z0-9])/g;function LP(n){return n.replace(Q1e,(...e)=>e[1].toUpperCase())}function X1e(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function er(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function d1e(n){return new D(3004,!1)}()}}function VK(n,e){return window.getComputedStyle(n)[e]}const Kw="*";function iOe(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function rOe(n,e,t){if(":"==n[0]){const l=function oOe(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(function D1e(n){return new D(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof l)return void e.push(l);n=l}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function E1e(n){return new D(3015,!1)}()),e;const r=i[1],o=i[2],s=i[3];e.push(BK(r,s));"<"==o[0]&&!(r==Kw&&s==Kw)&&e.push(BK(s,r))}(i,t,e)):t.push(n),t}const Yw=new Set(["true","1"]),Qw=new Set(["false","0"]);function BK(n,e){const t=Yw.has(n)||Qw.has(n),i=Yw.has(e)||Qw.has(e);return(r,o)=>{let s=n==Kw||n==r,a=e==Kw||e==o;return!s&&t&&"boolean"==typeof r&&(s=r?Yw.has(n):Qw.has(n)),!a&&i&&"boolean"==typeof o&&(a=o?Yw.has(e):Qw.has(e)),s&&a}}const sOe=new RegExp("s*:selfs*,?","g");function VP(n,e,t,i){return new aOe(n).build(e,t,i)}class aOe{constructor(e){this._driver=e}build(e,t,i){const r=new uOe(t);return this._resetContextStyleTimingState(r),er(this,Um(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0;const o=[],s=[];return"@"==e.name.charAt(0)&&t.errors.push(function f1e(){return new D(3006,!1)}()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),0==a.type){const l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(u=>{l.name=u,o.push(this.visitState(l,t))}),l.name=c}else if(1==a.type){const l=this.visitTransition(a,t);i+=l.queryCount,r+=l.depCount,s.push(l)}else t.errors.push(function p1e(){return new D(3007,!1)}())}),{type:7,name:e.name,states:o,transitions:s,queryCount:i,depCount:r,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){const o=new Set,s=r||{};i.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{LK(l).forEach(c=>{s.hasOwnProperty(c)||o.add(c)})})}),o.size&&(Gw(o.values()),t.errors.push(function m1e(n,e){return new D(3008,!1)}()))}return{type:0,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=er(this,Um(e.animation),t);return{type:1,matchers:iOe(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:pc(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(i=>er(this,i,t)),options:pc(e.options)}}visitGroup(e,t){const i=t.currentTime;let r=0;const o=e.steps.map(s=>{t.currentTime=i;const a=er(this,s,t);return r=Math.max(r,t.currentTime),a});return t.currentTime=r,{type:3,steps:o,options:pc(e.options)}}visitAnimate(e,t){const i=function hOe(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return BP($w(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=BP(0,0,"");return o.dynamic=!0,o.strValue=t,o}const r=$w(t,e);return BP(r.duration,r.delay,r.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let r,o=e.styles?e.styles:rn({});if(5==o.type)r=this.visitKeyframes(o,t);else{let s=e.styles,a=!1;if(!s){a=!0;const c={};i.easing&&(c.easing=i.easing),s=rn(c)}t.currentTime+=i.duration+i.delay;const l=this.visitStyle(s,t);l.isEmptyStep=a,r=l}return t.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of r)"string"==typeof a?a===Is?i.push(a):t.errors.push(new D(3002,!1)):i.push(OK(a));let o=!1,s=null;return i.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o))for(let l of a.values())if(l.toString().indexOf("{{")>=0){o=!0;break}}),{type:6,styles:i,easing:s,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let r=t.currentTime,o=t.currentTime;i&&o>0&&(o-=i.duration+i.delay),e.styles.forEach(s=>{"string"!=typeof s&&s.forEach((a,l)=>{const c=t.collectedStyles.get(t.currentQuerySelector),u=c.get(l);let d=!0;u&&(o!=r&&o>=u.startTime&&r<=u.endTime&&(t.errors.push(function _1e(n,e,t,i,r){return new D(3010,!1)}()),d=!1),o=u.startTime),d&&c.set(l,{startTime:o,endTime:r}),t.options&&function Y1e(n,e,t){const i=e.params||{},r=LK(n);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||t.push(function c1e(n){return new D(3001,!1)}())})}(a,t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function y1e(){return new D(3011,!1)}()),i;let o=0;const s=[];let a=!1,l=!1,c=0;const u=e.steps.map(y=>{const x=this._makeStyleAst(y,t);let v=null!=x.offset?x.offset:function dOe(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const i=t;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(x.styles),S=0;return null!=v&&(o++,S=x.offset=v),l=l||S<0||S>1,a=a||S<c,c=S,s.push(S),x});l&&t.errors.push(function v1e(){return new D(3012,!1)}()),a&&t.errors.push(function b1e(){return new D(3200,!1)}());const d=e.steps.length;let h=0;o>0&&o<d?t.errors.push(function w1e(){return new D(3202,!1)}()):0==o&&(h=1/(d-1));const f=d-1,p=t.currentTime,m=t.currentAnimateTimings,g=m.duration;return u.forEach((y,x)=>{const v=h>0?x==f?1:h*x:s[x],S=v*g;t.currentTime=p+m.delay+S,m.duration=S,this._validateStyleAst(y,t),y.offset=v,i.styles.push(y)}),i}visitReference(e,t){return{type:8,animation:er(this,Um(e.animation),t),options:pc(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:pc(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:pc(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[o,s]=function lOe(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(sOe,"")),n=n.replace(/@\*/g,zw).replace(/@\w+/g,t=>zw+"-"+t.slice(1)).replace(/:animating/g,PP),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+o:o,Ji(t.collectedStyles,t.currentQuerySelector,new Map);const a=er(this,Um(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:a,originalSelector:e.selector,options:pc(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function C1e(){return new D(3013,!1)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:$w(e.timings,t.errors,!0);return{type:12,animation:er(this,Um(e.animation),t),timings:i,options:null}}}class uOe{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function pc(n){return n?(n=Bm(n)).params&&(n.params=function cOe(n){return n?Bm(n):null}(n.params)):n={},n}function BP(n,e,t){return{duration:n,delay:e,easing:t}}function UP(n,e,t,i,r,o,s=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:s,subTimeline:a}}class Xw{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const mOe=new RegExp(":enter","g"),_Oe=new RegExp(":leave","g");function jP(n,e,t,i,r,o=new Map,s=new Map,a,l,c=[]){return(new yOe).buildKeyframes(n,e,t,i,r,o,s,a,l,c)}class yOe{buildKeyframes(e,t,i,r,o,s,a,l,c,u=[]){c=c||new Xw;const d=new HP(e,t,c,r,o,u,[]);d.options=l;const h=l.delay?Rs(l.delay):0;d.currentTimeline.delayNextStep(h),d.currentTimeline.setStyles([s],null,d.errors,l),er(this,i,d);const f=d.timelines.filter(p=>p.containsAnimation());if(f.length&&a.size){let p;for(let m=f.length-1;m>=0;m--){const g=f[m];if(g.element===t){p=g;break}}p&&!p.allowOnlyTimelineStyles()&&p.setStyles([a],null,d.errors,l)}return f.length?f.map(p=>p.buildKeyframes()):[UP(t,[],[],[],0,h,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const r=t.createSubContext(e.options),o=t.currentTimeline.currentTime,s=this._visitSubInstructions(i,r,r.options);o!=s&&t.transformIntoNewTimeline(s)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,i),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,i){for(const r of e){const o=r?.delay;if(o){const s="number"==typeof o?o:Rs(jm(o,r?.params??{},t.errors));i.delayNextStep(s)}}}_visitSubInstructions(e,t,i){let o=t.currentTimeline.currentTime;const s=null!=i.duration?Rs(i.duration):null,a=null!=i.delay?Rs(i.delay):null;return 0!==s&&e.forEach(l=>{const c=t.appendInstructionToTimeline(l,s,a);o=Math.max(o,c.duration+c.delay)}),o}visitReference(e,t){t.updateOptions(e.options,!0),er(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let r=t;const o=e.options;if(o&&(o.params||o.delay)&&(r=t.createSubContext(o),r.transformIntoNewTimeline(),null!=o.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=Zw);const s=Rs(o.delay);r.delayNextStep(s)}e.steps.length&&(e.steps.forEach(s=>er(this,s,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let r=t.currentTimeline.currentTime;const o=e.options&&e.options.delay?Rs(e.options.delay):0;e.steps.forEach(s=>{const a=t.createSubContext(e.options);o&&a.delayNextStep(o),er(this,s,a),r=Math.max(r,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(s=>t.currentTimeline.mergeTimelineCollectedStyles(s)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return $w(t.params?jm(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());const o=e.style;5==o.type?this.visitKeyframes(o,t):(t.incrementTime(i.duration),this.visitStyle(o,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const o=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(o):i.setStyles(e.styles,o,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,r=t.currentTimeline.duration,o=i.duration,a=t.createSubContext().currentTimeline;a.easing=i.easing,e.styles.forEach(l=>{a.forwardTime((l.offset||0)*o),a.setStyles(l.styles,l.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(r+o),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,r=e.options||{},o=r.delay?Rs(r.delay):0;o&&(6===t.previousNode.type||0==i&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Zw);let s=i;const a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=a.length;let l=null;a.forEach((c,u)=>{t.currentQueryIndex=u;const d=t.createSubContext(e.options,c);o&&d.delayNextStep(o),c===t.element&&(l=d.currentTimeline),er(this,e.animation,d),d.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,d.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(s),l&&(t.currentTimeline.mergeTimelineCollectedStyles(l),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,r=t.currentTimeline,o=e.timings,s=Math.abs(o.duration),a=s*(t.currentQueryTotal-1);let l=s*t.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":l=a-l;break;case"full":l=i.currentStaggerTime}const u=t.currentTimeline;l&&u.delayNextStep(l);const d=u.currentTime;er(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-d+(r.startTime-i.currentTimeline.startTime)}}const Zw={};class HP{constructor(e,t,i,r,o,s,a,l){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Zw,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new Jw(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let r=this.options;null!=i.duration&&(r.duration=Rs(i.duration)),null!=i.delay&&(r.delay=Rs(i.delay));const o=i.params;if(o){let s=r.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!t||!s.hasOwnProperty(a))&&(s[a]=jm(o[a],s,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){const r=t||this.element,o=new HP(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=Zw,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const r={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},o=new vOe(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,o,s){let a=[];if(r&&a.push(this.element),e.length>0){e=(e=e.replace(mOe,"."+this._enterClassName)).replace(_Oe,"."+this._leaveClassName);let c=this._driver.query(this.element,e,1!=i);0!==i&&(c=i<0?c.slice(c.length+i,c.length):c.slice(0,i)),a.push(...c)}return!o&&0==a.length&&s.push(function x1e(n){return new D(3014,!1)}()),a}}class Jw{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new Jw(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||Is),this._currentKeyframe.set(t,Is);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&this._previousKeyframe.set("easing",t);const o=r&&r.params||{},s=function bOe(n,e){const t=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||e.keys();for(let o of i)t.set(o,Is)}else Va(r,t)}),t}(e,this._globalTimelineStyles);for(let[a,l]of s){const c=jm(l,o,i);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??Is),this._updateStyle(a,c)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,i)=>{const r=this._styleSummary.get(i);(!r||t.time>r.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((a,l)=>{const c=Va(a,new Map,this._backFill);c.forEach((u,d)=>{u===K1?e.add(d):u===Is&&t.add(d)}),i||c.set("offset",l/this.duration),r.push(c)});const o=e.size?Gw(e.values()):[],s=t.size?Gw(t.values()):[];if(i){const a=r[0],l=new Map(a);a.set("offset",0),l.set("offset",1),r=[a,l]}return UP(this.element,r,o,s,this.duration,this.startTime,this.easing,!1)}}class vOe extends Jw{constructor(e,t,i,r,o,s,a=!1){super(e,t,s.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const o=[],s=i+t,a=t/s,l=Va(e[0]);l.set("offset",0),o.push(l);const c=Va(e[0]);c.set("offset",HK(a)),o.push(c);const u=e.length-1;for(let d=1;d<=u;d++){let h=Va(e[d]);const f=h.get("offset");h.set("offset",HK((t+f*i)/s)),o.push(h)}i=s,t=0,r="",e=o}return UP(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}}function HK(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class zP{}const wOe=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class COe extends zP{normalizePropertyName(e,t){return LP(e)}normalizeStyleValue(e,t,i,r){let o="";const s=i.toString().trim();if(wOe.has(t)&&0!==i&&"0"!==i)if("number"==typeof i)o="px";else{const a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&r.push(function h1e(n,e){return new D(3005,!1)}())}return s+o}}function zK(n,e,t,i,r,o,s,a,l,c,u,d,h){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:o,toState:i,toStyles:s,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:d,errors:h}}const $P={};class $K{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return function xOe(n,e,t,i,r){return n.some(o=>o(e,t,i,r))}(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){let r=this._stateStyles.get("*");return void 0!==e&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(t,i):new Map}build(e,t,i,r,o,s,a,l,c,u){const d=[],h=this.ast.options&&this.ast.options.params||$P,p=this.buildStyles(i,a&&a.params||$P,d),m=l&&l.params||$P,g=this.buildStyles(r,m,d),y=new Set,x=new Map,v=new Map,S="void"===r,j={params:EOe(m,h),delay:this.ast.options?.delay},z=u?[]:jP(e,t,this.ast.animation,o,s,p,g,j,c,d);let Re=0;if(z.forEach(qn=>{Re=Math.max(qn.duration+qn.delay,Re)}),d.length)return zK(t,this._triggerName,i,r,S,p,g,[],[],x,v,Re,d);z.forEach(qn=>{const jr=qn.element,oY=Ji(x,jr,new Set);qn.preStyleProps.forEach(mc=>oY.add(mc));const zm=Ji(v,jr,new Set);qn.postStyleProps.forEach(mc=>zm.add(mc)),jr!==t&&y.add(jr)});const pt=Gw(y.values());return zK(t,this._triggerName,i,r,S,p,g,z,pt,x,v,Re)}}function EOe(n,e){const t=Bm(e);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(t[i]=n[i]);return t}class DOe{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i=new Map,r=Bm(this.defaultParams);return Object.keys(e).forEach(o=>{const s=e[o];null!==s&&(r[o]=s)}),this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((s,a)=>{s&&(s=jm(s,r,t));const l=this.normalizer.normalizePropertyName(a,t);s=this.normalizer.normalizeStyleValue(a,l,s,t),i.set(a,s)})}),i}}class SOe{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states=new Map,t.states.forEach(r=>{this.states.set(r.name,new DOe(r.style,r.options&&r.options.params||{},i))}),GK(this.states,"true","1"),GK(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new $K(e,r,this.states))}),this.fallbackTransition=function TOe(n,e,t){return new $K(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(s,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(s=>s.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function GK(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const AOe=new Xw;class MOe{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const i=[],r=[],o=VP(this._driver,t,i,r);if(i.length)throw function M1e(n){return new D(3503,!1)}();this._animations.set(e,o)}_buildPlayer(e,t,i){const r=e.element,o=xK(0,this._normalizer,0,e.keyframes,t,i);return this._driver.animate(r,o,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const r=[],o=this._animations.get(e);let s;const a=new Map;if(o?(s=jP(this._driver,t,o,OP,jw,new Map,new Map,i,AOe,r),s.forEach(u=>{const d=Ji(a,u.element,new Map);u.postStyleProps.forEach(h=>d.set(h,null))})):(r.push(function R1e(){return new D(3300,!1)}()),s=[]),r.length)throw function k1e(n){return new D(3504,!1)}();a.forEach((u,d)=>{u.forEach((h,f)=>{u.set(f,this._driver.computeStyle(d,f,Is))})});const c=La(s.map(u=>{const d=a.get(u.element);return this._buildPlayer(u,new Map,d)}));return this._playersById.set(e,c),c.onDestroy(()=>this.destroy(e)),this.players.push(c),c}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function O1e(n){return new D(3301,!1)}();return t}listen(e,t,i,r){const o=AP(t,"","","");return SP(this._getPlayer(e),i,o,r),()=>{}}command(e,t,i,r){if("register"==i)return void this.register(e,r[0]);if("create"==i)return void this.create(e,t,r[0]||{});const o=this._getPlayer(e);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const WK="ng-animate-queued",GP="ng-animate-disabled",NOe=[],qK={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},FOe={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},mr="__ng_removed";class WP{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function UOe(n){return n??null}(i?e.value:e),i){const o=Bm(e);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(r=>{null==i[r]&&(i[r]=t[r])})}}}const Hm="void",qP=new WP(Hm);class LOe{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,gr(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.has(t))throw function P1e(n,e){return new D(3302,!1)}();if(null==i||0==i.length)throw function N1e(n){return new D(3303,!1)}();if(!function jOe(n){return"start"==n||"done"==n}(i))throw function F1e(n,e){return new D(3400,!1)}();const o=Ji(this._elementListeners,e,[]),s={name:t,phase:i,callback:r};o.push(s);const a=Ji(this._engine.statesByElement,e,new Map);return a.has(t)||(gr(e,Hw),gr(e,Hw+"-"+t),a.set(t,qP)),()=>{this._engine.afterFlush(()=>{const l=o.indexOf(s);l>=0&&o.splice(l,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function L1e(n){return new D(3401,!1)}();return t}trigger(e,t,i,r=!0){const o=this._getTrigger(t),s=new KP(this.id,t,e);let a=this._engine.statesByElement.get(e);a||(gr(e,Hw),gr(e,Hw+"-"+t),this._engine.statesByElement.set(e,a=new Map));let l=a.get(t);const c=new WP(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(t,c),l||(l=qP),c.value!==Hm&&l.value===c.value){if(!function $Oe(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){const o=t[r];if(!e.hasOwnProperty(o)||n[o]!==e[o])return!1}return!0}(l.params,c.params)){const m=[],g=o.matchStyles(l.value,l.params,m),y=o.matchStyles(c.value,c.params,m);m.length?this._engine.reportError(m):this._engine.afterFlush(()=>{fc(e,g),Oo(e,y)})}return}const h=Ji(this._engine.playersByElement,e,[]);h.forEach(m=>{m.namespaceId==this.id&&m.triggerName==t&&m.queued&&m.destroy()});let f=o.matchTransition(l.value,c.value,e,c.params),p=!1;if(!f){if(!r)return;f=o.fallbackTransition,p=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:f,fromState:l,toState:c,player:s,isFallbackTransition:p}),p||(gr(e,WK),s.onStart(()=>{Gd(e,WK)})),s.onDone(()=>{let m=this.players.indexOf(s);m>=0&&this.players.splice(m,1);const g=this._engine.playersByElement.get(e);if(g){let y=g.indexOf(s);y>=0&&g.splice(y,1)}}),this.players.push(s),h.push(s),s}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,zw,!0);i.forEach(r=>{if(r[mr])return;const o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(s=>s.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){const o=this._engine.statesByElement.get(e),s=new Map;if(o){const a=[];if(o.forEach((l,c)=>{if(s.set(c,l.value),this._triggers.has(c)){const u=this.trigger(e,c,Hm,r);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,s),i&&La(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const r=new Set;t.forEach(o=>{const s=o.name;if(r.has(s))return;r.add(s);const l=this._triggers.get(s).fallbackTransition,c=i.get(s)||qP,u=new WP(Hm),d=new KP(this.id,s,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:s,transition:l,fromState:c,toState:u,player:d,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){const o=i.players.length?i.playersByQueriedElement.get(e):[];if(o&&o.length)r=!0;else{let s=e;for(;s=s.parentNode;)if(i.statesByElement.get(s)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{const o=e[mr];(!o||o===qK)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){gr(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const o=i.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==i.triggerName){const l=AP(o,i.triggerName,i.fromState.value,i.toState.value);l._data=e,SP(i.player,a.phase,l,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{const o=i.transition.ast.depCount,s=r.transition.ast.depCount;return 0==o||0==s?o-s:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(i=>i.element===e)||t,t}}class VOe{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,o)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new LOe(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let s=!1,a=this.driver.getParentElement(t);for(;a;){const l=r.get(a);if(l){const c=i.indexOf(l);i.splice(c+1,0,e),s=!0;break}a=this.driver.getParentElement(a)}s||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){if(!e)return;const i=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[e];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i)for(let r of i.values())if(r.namespaceId){const o=this._fetchNamespace(r.namespaceId);o&&t.add(o)}return t}trigger(e,t,i,r){if(e0(t)){const o=this._fetchNamespace(e);if(o)return o.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!e0(t))return;const o=t[mr];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const s=this.collectedLeaveElements.indexOf(t);s>=0&&this.collectedLeaveElements.splice(s,1)}if(e){const s=this._fetchNamespace(e);s&&s.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),gr(e,GP)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Gd(e,GP))}removeNode(e,t,i,r){if(e0(t)){const o=e?this._fetchNamespace(e):null;if(o?o.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r),i){const s=this.namespacesByHostElement.get(t);s&&s.id!==e&&s.removeNode(t,r)}}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,i,r,o){this.collectedLeaveElements.push(t),t[mr]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,t,i,r,o){return e0(t)?this._fetchNamespace(e).listen(t,i,r,o):()=>{}}_buildInstruction(e,t,i,r,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,o)}destroyInnerAnimations(e){let t=this.driver.query(e,zw,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,PP,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return La(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[mr];if(t&&t.setForRemoval){if(e[mr]=qK,t.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(GP)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)gr(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?La(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw function V1e(n){return new D(3402,!1)}()}_flushAnimations(e,t){const i=new Xw,r=[],o=new Map,s=[],a=new Map,l=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(W=>{u.add(W);const J=this.driver.query(W,".ng-animate-queued",!0);for(let oe=0;oe<J.length;oe++)u.add(J[oe])});const d=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=QK(h,this.collectedEnterElements),p=new Map;let m=0;f.forEach((W,J)=>{const oe=OP+m++;p.set(J,oe),W.forEach(He=>gr(He,oe))});const g=[],y=new Set,x=new Set;for(let W=0;W<this.collectedLeaveElements.length;W++){const J=this.collectedLeaveElements[W],oe=J[mr];oe&&oe.setForRemoval&&(g.push(J),y.add(J),oe.hasAnimation?this.driver.query(J,".ng-star-inserted",!0).forEach(He=>y.add(He)):x.add(J))}const v=new Map,S=QK(h,Array.from(y));S.forEach((W,J)=>{const oe=jw+m++;v.set(J,oe),W.forEach(He=>gr(He,oe))}),e.push(()=>{f.forEach((W,J)=>{const oe=p.get(J);W.forEach(He=>Gd(He,oe))}),S.forEach((W,J)=>{const oe=v.get(J);W.forEach(He=>Gd(He,oe))}),g.forEach(W=>{this.processLeaveNode(W)})});const j=[],z=[];for(let W=this._namespaceList.length-1;W>=0;W--)this._namespaceList[W].drainQueuedTransitions(t).forEach(oe=>{const He=oe.player,Rn=oe.element;if(j.push(He),this.collectedEnterElements.length){const li=Rn[mr];if(li&&li.setForMove){if(li.previousTriggersValues&&li.previousTriggersValues.has(oe.triggerName)){const gc=li.previousTriggersValues.get(oe.triggerName),_r=this.statesByElement.get(oe.element);if(_r&&_r.has(oe.triggerName)){const r0=_r.get(oe.triggerName);r0.value=gc,_r.set(oe.triggerName,r0)}}return void He.destroy()}}const Po=!d||!this.driver.containsElement(d,Rn),tr=v.get(Rn),Ba=p.get(Rn),Mt=this._buildInstruction(oe,i,Ba,tr,Po);if(Mt.errors&&Mt.errors.length)return void z.push(Mt);if(Po)return He.onStart(()=>fc(Rn,Mt.fromStyles)),He.onDestroy(()=>Oo(Rn,Mt.toStyles)),void r.push(He);if(oe.isFallbackTransition)return He.onStart(()=>fc(Rn,Mt.fromStyles)),He.onDestroy(()=>Oo(Rn,Mt.toStyles)),void r.push(He);const lY=[];Mt.timelines.forEach(li=>{li.stretchStartingKeyframe=!0,this.disabledNodes.has(li.element)||lY.push(li)}),Mt.timelines=lY,i.append(Rn,Mt.timelines),s.push({instruction:Mt,player:He,element:Rn}),Mt.queriedElements.forEach(li=>Ji(a,li,[]).push(He)),Mt.preStyleProps.forEach((li,gc)=>{if(li.size){let _r=l.get(gc);_r||l.set(gc,_r=new Set),li.forEach((r0,XP)=>_r.add(XP))}}),Mt.postStyleProps.forEach((li,gc)=>{let _r=c.get(gc);_r||c.set(gc,_r=new Set),li.forEach((r0,XP)=>_r.add(XP))})});if(z.length){const W=[];z.forEach(J=>{W.push(function B1e(n,e){return new D(3505,!1)}())}),j.forEach(J=>J.destroy()),this.reportError(W)}const Re=new Map,pt=new Map;s.forEach(W=>{const J=W.element;i.has(J)&&(pt.set(J,J),this._beforeAnimationBuild(W.player.namespaceId,W.instruction,Re))}),r.forEach(W=>{const J=W.element;this._getPreviousPlayers(J,!1,W.namespaceId,W.triggerName,null).forEach(He=>{Ji(Re,J,[]).push(He),He.destroy()})});const qn=g.filter(W=>ZK(W,l,c)),jr=new Map;YK(jr,this.driver,x,c,Is).forEach(W=>{ZK(W,l,c)&&qn.push(W)});const zm=new Map;f.forEach((W,J)=>{YK(zm,this.driver,new Set(W),l,K1)}),qn.forEach(W=>{const J=jr.get(W),oe=zm.get(W);jr.set(W,new Map([...Array.from(J?.entries()??[]),...Array.from(oe?.entries()??[])]))});const mc=[],sY=[],aY={};s.forEach(W=>{const{element:J,player:oe,instruction:He}=W;if(i.has(J)){if(u.has(J))return oe.onDestroy(()=>Oo(J,He.toStyles)),oe.disabled=!0,oe.overrideTotalTime(He.totalTime),void r.push(oe);let Rn=aY;if(pt.size>1){let tr=J;const Ba=[];for(;tr=tr.parentNode;){const Mt=pt.get(tr);if(Mt){Rn=Mt;break}Ba.push(tr)}Ba.forEach(Mt=>pt.set(Mt,Rn))}const Po=this._buildAnimation(oe.namespaceId,He,Re,o,zm,jr);if(oe.setRealPlayer(Po),Rn===aY)mc.push(oe);else{const tr=this.playersByElement.get(Rn);tr&&tr.length&&(oe.parentPlayer=La(tr)),r.push(oe)}}else fc(J,He.fromStyles),oe.onDestroy(()=>Oo(J,He.toStyles)),sY.push(oe),u.has(J)&&r.push(oe)}),sY.forEach(W=>{const J=o.get(W.element);if(J&&J.length){const oe=La(J);W.setRealPlayer(oe)}}),r.forEach(W=>{W.parentPlayer?W.syncPlayerEvents(W.parentPlayer):W.destroy()});for(let W=0;W<g.length;W++){const J=g[W],oe=J[mr];if(Gd(J,jw),oe&&oe.hasAnimation)continue;let He=[];if(a.size){let Po=a.get(J);Po&&Po.length&&He.push(...Po);let tr=this.driver.query(J,PP,!0);for(let Ba=0;Ba<tr.length;Ba++){let Mt=a.get(tr[Ba]);Mt&&Mt.length&&He.push(...Mt)}}const Rn=He.filter(Po=>!Po.destroyed);Rn.length?HOe(this,J,Rn):this.processLeaveNode(J)}return g.length=0,mc.forEach(W=>{this.players.push(W),W.onDone(()=>{W.destroy();const J=this.players.indexOf(W);this.players.splice(J,1)}),W.play()}),mc}elementContainsData(e,t){let i=!1;const r=t[mr];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(t)&&(i=!0),this.playersByQueriedElement.has(t)&&(i=!0),this.statesByElement.has(t)&&(i=!0),this._fetchNamespace(e).elementContainsData(t)||i}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,o){let s=[];if(t){const a=this.playersByQueriedElement.get(e);a&&(s=a)}else{const a=this.playersByElement.get(e);if(a){const l=!o||o==Hm;a.forEach(c=>{c.queued||!l&&c.triggerName!=r||s.push(c)})}}return(i||r)&&(s=s.filter(a=>!(i&&i!=a.namespaceId||r&&r!=a.triggerName))),s}_beforeAnimationBuild(e,t,i){const o=t.element,s=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:t.triggerName;for(const l of t.timelines){const c=l.element,u=c!==o,d=Ji(i,c,[]);this._getPreviousPlayers(c,u,s,a,t.toState).forEach(f=>{const p=f.getRealPlayer();p.beforeDestroy&&p.beforeDestroy(),f.destroy(),d.push(f)})}fc(o,t.fromStyles)}_buildAnimation(e,t,i,r,o,s){const a=t.triggerName,l=t.element,c=[],u=new Set,d=new Set,h=t.timelines.map(p=>{const m=p.element;u.add(m);const g=m[mr];if(g&&g.removedBeforeQueried)return new sm(p.duration,p.delay);const y=m!==l,x=function zOe(n){const e=[];return XK(n,e),e}((i.get(m)||NOe).map(Re=>Re.getRealPlayer())).filter(Re=>!!Re.element&&Re.element===m),v=o.get(m),S=s.get(m),j=xK(0,this._normalizer,0,p.keyframes,v,S),z=this._buildPlayer(p,j,x);if(p.subTimeline&&r&&d.add(m),y){const Re=new KP(e,a,m);Re.setRealPlayer(z),c.push(Re)}return z});c.forEach(p=>{Ji(this.playersByQueriedElement,p.element,[]).push(p),p.onDone(()=>function BOe(n,e,t){let i=n.get(e);if(i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&n.delete(e)}return i}(this.playersByQueriedElement,p.element,p))}),u.forEach(p=>gr(p,kK));const f=La(h);return f.onDestroy(()=>{u.forEach(p=>Gd(p,kK)),Oo(l,t.toStyles)}),d.forEach(p=>{Ji(r,p,[]).push(f)}),f}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new sm(e.duration,e.delay)}}class KP{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new sm,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,i)=>{t.forEach(r=>SP(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Ji(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function e0(n){return n&&1===n.nodeType}function KK(n,e){const t=n.style.display;return n.style.display=e??"none",t}function YK(n,e,t,i,r){const o=[];t.forEach(l=>o.push(KK(l)));const s=[];i.forEach((l,c)=>{const u=new Map;l.forEach(d=>{const h=e.computeStyle(c,d,r);u.set(d,h),(!h||0==h.length)&&(c[mr]=FOe,s.push(c))}),n.set(c,u)});let a=0;return t.forEach(l=>KK(l,o[a++])),s}function QK(n,e){const t=new Map;if(n.forEach(a=>t.set(a,[])),0==e.length)return t;const i=1,r=new Set(e),o=new Map;function s(a){if(!a)return i;let l=o.get(a);if(l)return l;const c=a.parentNode;return l=t.has(c)?c:r.has(c)?i:s(c),o.set(a,l),l}return e.forEach(a=>{const l=s(a);l!==i&&t.get(l).push(a)}),t}function gr(n,e){n.classList?.add(e)}function Gd(n,e){n.classList?.remove(e)}function HOe(n,e,t){La(t).onDone(()=>n.processLeaveNode(e))}function XK(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof x8?XK(i.players,e):e.push(i)}}function ZK(n,e,t){const i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(o=>r.add(o)):e.set(n,i),t.delete(n),!0}class t0{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,o)=>{},this._transitionEngine=new VOe(e,t,i),this._timelineEngine=new MOe(e,t,i),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(e,t,i,r,o){const s=e+"-"+r;let a=this._triggerCache[s];if(!a){const l=[],c=[],u=VP(this._driver,o,l,c);if(l.length)throw function T1e(n,e){return new D(3404,!1)}();a=function IOe(n,e,t){return new SOe(n,e,t)}(r,u,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(t,r,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i,r){this._transitionEngine.removeNode(e,t,r||!1,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if("@"==i.charAt(0)){const[o,s]=EK(i);this._timelineEngine.command(o,t,s,r)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,o){if("@"==i.charAt(0)){const[s,a]=EK(i);return this._timelineEngine.listen(s,t,a,o)}return this._transitionEngine.listen(e,t,i,r,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let WOe=(()=>{class n{constructor(t,i,r){this._element=t,this._startStyles=i,this._endStyles=r,this._state=0;let o=n.initialStylesByElement.get(t);o||n.initialStylesByElement.set(t,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&Oo(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Oo(this._element,this._initialStyles),this._endStyles&&(Oo(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(fc(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(fc(this._element,this._endStyles),this._endStyles=null),Oo(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function YP(n){let e=null;return n.forEach((t,i)=>{(function qOe(n){return"display"===n||"position"===n})(i)&&(e=e||new Map,e.set(i,t))}),e}class JK{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(e,t,i){return e.animate(this._convertKeyframesToObject(t),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&e.set(r,this._finished?i:VK(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class KOe{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return TK(e,t)}getParentElement(e){return RP(e)}query(e,t,i){return AK(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}animate(e,t,i,r,o,s=[]){const l={duration:i,delay:r,fill:0==r?"both":"forwards"};o&&(l.easing=o);const c=new Map,u=s.filter(f=>f instanceof JK);(function Z1e(n,e){return 0===n||0===e})(i,r)&&u.forEach(f=>{f.currentSnapshot.forEach((p,m)=>c.set(m,p))});let d=function K1e(n){return n.length?n[0]instanceof Map?n:n.map(e=>OK(e)):[]}(t).map(f=>Va(f));d=function J1e(n,e,t){if(t.size&&e.length){let i=e[0],r=[];if(t.forEach((o,s)=>{i.has(s)||r.push(s),i.set(s,o)}),r.length)for(let o=1;o<e.length;o++){let s=e[o];r.forEach(a=>s.set(a,VK(n,a)))}}return e}(e,d,c);const h=function GOe(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=YP(e[0]),e.length>1&&(i=YP(e[e.length-1]))):e instanceof Map&&(t=YP(e)),t||i?new WOe(n,t,i):null}(e,d);return new JK(e,d,l,h)}}let YOe=(()=>{class n extends y8{constructor(t,i){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(i.body,{id:"0",encapsulation:vr.None,styles:[],data:{animation:[]}})}build(t){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(t)?b8(t):t;return eY(this._renderer,null,i,"register",[r]),new QOe(i,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(w(_h),w(ye))},n.\u0275prov=k({token:n,factory:n.\u0275fac}),n})();class QOe extends cIe{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new XOe(this._id,e,t||{},this._renderer)}}class XOe{constructor(e,t,i,r){this.id=e,this.element=t,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return eY(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function eY(n,e,t,i,r){return n.setProperty(e,`@@${t}:${i}`,r)}const tY="@.disabled";let ZOe=(()=>{class n{constructor(t,i,r){this.delegate=t,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(o,s)=>{const a=s?.parentNode(o);a&&s.removeChild(a,o)}}createRenderer(t,i){const o=this.delegate.createRenderer(t,i);if(!(t&&i&&i.data&&i.data.animation)){let u=this._rendererCache.get(o);return u||(u=new nY("",o,this.engine,()=>this._rendererCache.delete(o)),this._rendererCache.set(o,u)),u}const s=i.id,a=i.id+"-"+this._currentId;this._currentId++,this.engine.register(a,t);const l=u=>{Array.isArray(u)?u.forEach(l):this.engine.registerTrigger(s,a,t,u.name,u)};return i.data.animation.forEach(l),new JOe(this,a,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,i,r){t>=0&&t<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(w(_h),w(t0),w(ae))},n.\u0275prov=k({token:n,factory:n.\u0275fac}),n})();class nY{constructor(e,t,i,r){this.namespaceId=e,this.delegate=t,this.engine=i,this._onDestroy=r,this.destroyNode=this.delegate.destroyNode?o=>t.destroyNode(o):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate,i)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==tY?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class JOe extends nY{constructor(e,t,i,r,o){super(t,i,r,o),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==tY?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const r=function ePe(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let o=t.slice(1),s="";return"@"!=o.charAt(0)&&([o,s]=function tPe(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(o)),this.engine.listen(this.namespaceId,r,o,s,a=>{this.factory.scheduleListenerCallback(a._data||-1,i,a)})}return this.delegate.listen(e,t,i)}}let nPe=(()=>{class n extends t0{constructor(t,i,r,o){super(t.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(w(ye),w(kP),w(zP),w(su))},n.\u0275prov=k({token:n,factory:n.\u0275fac}),n})();const iY=[{provide:y8,useClass:YOe},{provide:zP,useFactory:function iPe(){return new COe}},{provide:t0,useClass:nPe},{provide:_h,useFactory:function rPe(n,e,t){return new ZOe(n,e,t)},deps:[w_,t0,ae]}],QP=[{provide:kP,useFactory:()=>new KOe},{provide:Oh,useValue:"BrowserAnimations"},...iY],rY=[{provide:kP,useClass:MK},{provide:Oh,useValue:"NoopAnimations"},...iY];let oPe=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?rY:QP}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ce({type:n}),n.\u0275inj=se({providers:QP,imports:[GU]}),n})(),sPe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ce({type:n,bootstrap:[fxe]}),n.\u0275inj=se({providers:[wy],imports:[hxe,GU,oPe,YCe,QCe,Fxe,HDe,OIe,Yb,FIe,E8,U1,nSe,bDe,ASe,XSe,eTe,xSe,Qge(()=>Xge(tTe_firebase)),W_e(()=>q_e()),SRe(()=>TRe()),K0e(()=>Y0e()),o1e(()=>s1e())]}),n})();Tse().bootstrapModule(sPe).catch(n=>console.error(n))},104:function(_c){var Ee;Ee=function(Wd){var Ee=function(P){return new Ee.lib.init(P)};function yc(P,Oe){return Oe.offset[P]?isNaN(Oe.offset[P])?Oe.offset[P]:Oe.offset[P]+"px":"0px"}function vc(P,Oe){return!(!P||"string"!=typeof Oe||!(P.className&&P.className.trim().split(/\s+/gi).indexOf(Oe)>-1))}return Ee.defaults={oldestFirst:!0,text:"Toastify is awesome!",node:void 0,duration:3e3,selector:void 0,callback:function(){},destination:void 0,newWindow:!1,close:!1,gravity:"toastify-top",positionLeft:!1,position:"",backgroundColor:"",avatar:"",className:"",stopOnFocus:!0,onClick:function(){},offset:{x:0,y:0},escapeMarkup:!0,ariaLive:"polite",style:{background:""}},Ee.lib=Ee.prototype={toastify:"1.12.0",constructor:Ee,init:function(P){return P||(P={}),this.options={},this.toastElement=null,this.options.text=P.text||Ee.defaults.text,this.options.node=P.node||Ee.defaults.node,this.options.duration=0===P.duration?0:P.duration||Ee.defaults.duration,this.options.selector=P.selector||Ee.defaults.selector,this.options.callback=P.callback||Ee.defaults.callback,this.options.destination=P.destination||Ee.defaults.destination,this.options.newWindow=P.newWindow||Ee.defaults.newWindow,this.options.close=P.close||Ee.defaults.close,this.options.gravity="bottom"===P.gravity?"toastify-bottom":Ee.defaults.gravity,this.options.positionLeft=P.positionLeft||Ee.defaults.positionLeft,this.options.position=P.position||Ee.defaults.position,this.options.backgroundColor=P.backgroundColor||Ee.defaults.backgroundColor,this.options.avatar=P.avatar||Ee.defaults.avatar,this.options.className=P.className||Ee.defaults.className,this.options.stopOnFocus=void 0===P.stopOnFocus?Ee.defaults.stopOnFocus:P.stopOnFocus,this.options.onClick=P.onClick||Ee.defaults.onClick,this.options.offset=P.offset||Ee.defaults.offset,this.options.escapeMarkup=void 0!==P.escapeMarkup?P.escapeMarkup:Ee.defaults.escapeMarkup,this.options.ariaLive=P.ariaLive||Ee.defaults.ariaLive,this.options.style=P.style||Ee.defaults.style,P.backgroundColor&&(this.options.style.background=P.backgroundColor),this},buildToast:function(){if(!this.options)throw"Toastify is not initialized";var P=document.createElement("div");for(var Oe in P.className="toastify on "+this.options.className,this.options.position?P.className+=" toastify-"+this.options.position:!0===this.options.positionLeft?(P.className+=" toastify-left",console.warn("Property `positionLeft` will be depreciated in further versions. Please use `position` instead.")):P.className+=" toastify-right",P.className+=" "+this.options.gravity,this.options.backgroundColor&&console.warn('DEPRECATION NOTICE: "backgroundColor" is being deprecated. Please use the "style.background" property.'),this.options.style)P.style[Oe]=this.options.style[Oe];if(this.options.ariaLive&&P.setAttribute("aria-live",this.options.ariaLive),this.options.node&&this.options.node.nodeType===Node.ELEMENT_NODE)P.appendChild(this.options.node);else if(this.options.escapeMarkup?P.innerText=this.options.text:P.innerHTML=this.options.text,""!==this.options.avatar){var Hr=document.createElement("img");Hr.src=this.options.avatar,Hr.className="toastify-avatar","left"==this.options.position||!0===this.options.positionLeft?P.appendChild(Hr):P.insertAdjacentElement("afterbegin",Hr)}if(!0===this.options.close){var gn=document.createElement("button");gn.type="button",gn.setAttribute("aria-label","Close"),gn.className="toast-close",gn.innerHTML="&#10006;",gn.addEventListener("click",function(ks){ks.stopPropagation(),this.removeElement(this.toastElement),window.clearTimeout(this.toastElement.timeOutValue)}.bind(this));var on=window.innerWidth>0?window.innerWidth:screen.width;("left"==this.options.position||!0===this.options.positionLeft)&&on>360?P.insertAdjacentElement("afterbegin",gn):P.appendChild(gn)}if(this.options.stopOnFocus&&this.options.duration>0){var sn=this;P.addEventListener("mouseover",function(ks){window.clearTimeout(P.timeOutValue)}),P.addEventListener("mouseleave",function(){P.timeOutValue=window.setTimeout(function(){sn.removeElement(P)},sn.options.duration)})}if(typeof this.options.destination<"u"&&P.addEventListener("click",function(ks){ks.stopPropagation(),!0===this.options.newWindow?window.open(this.options.destination,"_blank"):window.location=this.options.destination}.bind(this)),"function"==typeof this.options.onClick&&typeof this.options.destination>"u"&&P.addEventListener("click",function(ks){ks.stopPropagation(),this.options.onClick()}.bind(this)),"object"==typeof this.options.offset){var yr=yc("x",this.options),No=yc("y",this.options);P.style.transform="translate("+("left"==this.options.position?yr:"-"+yr)+","+("toastify-top"==this.options.gravity?No:"-"+No)+")"}return P},showToast:function(){var P;if(this.toastElement=this.buildToast(),!(P="string"==typeof this.options.selector?document.getElementById(this.options.selector):this.options.selector instanceof HTMLElement||typeof ShadowRoot<"u"&&this.options.selector instanceof ShadowRoot?this.options.selector:document.body))throw"Root element is not defined";return P.insertBefore(this.toastElement,Ee.defaults.oldestFirst?P.firstChild:P.lastChild),Ee.reposition(),this.options.duration>0&&(this.toastElement.timeOutValue=window.setTimeout(function(){this.removeElement(this.toastElement)}.bind(this),this.options.duration)),this},hideToast:function(){this.toastElement.timeOutValue&&clearTimeout(this.toastElement.timeOutValue),this.removeElement(this.toastElement)},removeElement:function(P){P.className=P.className.replace(" on",""),window.setTimeout(function(){this.options.node&&this.options.node.parentNode&&this.options.node.parentNode.removeChild(this.options.node),P.parentNode&&P.parentNode.removeChild(P),this.options.callback.call(P),Ee.reposition()}.bind(this),400)}},Ee.reposition=function(){for(var on,P={top:15,bottom:15},Oe={top:15,bottom:15},Hr={top:15,bottom:15},gn=document.getElementsByClassName("toastify"),sn=0;sn<gn.length;sn++){on=!0===vc(gn[sn],"toastify-top")?"toastify-top":"toastify-bottom";var yr=gn[sn].offsetHeight;on=on.substr(9,on.length-1),(window.innerWidth>0?window.innerWidth:screen.width)<=360?(gn[sn].style[on]=Hr[on]+"px",Hr[on]+=yr+15):!0===vc(gn[sn],"toastify-left")?(gn[sn].style[on]=P[on]+"px",P[on]+=yr+15):(gn[sn].style[on]=Oe[on]+"px",Oe[on]+=yr+15)}return this},Ee.lib.init.prototype=Ee.lib,Ee},_c.exports?_c.exports=Ee():this.Toastify=Ee()}},_c=>{_c(_c.s=83)}]);